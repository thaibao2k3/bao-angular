"use strict";(self.webpackChunkaffiliate=self.webpackChunkaffiliate||[]).push([[179],{2313:(At,He,N)=>{N.d(He,{nm:()=>Vn});var m=N(3324),ve=(N(4650),N(3692),N(259),N(5861)),Se=N(6881),Pe=N(4859),De=N(2090),Fe=N(1877);const ue=new Map,ce={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function Ue(Te){return ue.get(Te)||Object.assign({},ce)}function Je(){return ye}const Ct="https://content-firebaseappcheck.googleapis.com/v1",ct="exchangeDebugToken",mt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Le{constructor(we,be,rt,X,de){if(this.operation=we,this.retryPolicy=be,this.getWaitDuration=rt,this.lowerBound=X,this.upperBound=de,this.pending=null,this.nextErrorWaitInterval=X,X>de)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(we){var be=this;return(0,ve.Z)(function*(){be.stop();try{be.pending=new De.BH,yield function Xe(Te){return new Promise(we=>{setTimeout(we,Te)})}(be.getNextRun(we)),be.pending.resolve(),yield be.pending.promise,be.pending=new De.BH,yield be.operation(),be.pending.resolve(),yield be.pending.promise,be.process(!0).catch(()=>{})}catch(rt){be.retryPolicy(rt)?be.process(!1).catch(()=>{}):be.stop()}})()}getNextRun(we){if(we)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),be}}}const tt=new De.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yt(Te){if(!Ue(Te).activated)throw tt.create("use-before-activation",{appName:Te.name})}function Vt(Te,we){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,ve.Z)(function*({url:Te,body:we},be){const rt={"Content-Type":"application/json"},X=be.getImmediate({optional:!0});if(X){const xn=yield X.getHeartbeatsHeader();xn&&(rt["X-Firebase-Client"]=xn)}const de={method:"POST",body:JSON.stringify(we),headers:rt};let Ve,at;try{Ve=yield fetch(Te,de)}catch(xn){throw tt.create("fetch-network-error",{originalErrorMessage:xn?.message})}if(200!==Ve.status)throw tt.create("fetch-status-error",{httpStatus:Ve.status});try{at=yield Ve.json()}catch(xn){throw tt.create("fetch-parse-error",{originalErrorMessage:xn?.message})}const Nt=at.ttl.match(/^([\d.]+)(s)$/);if(!Nt||!Nt[2]||isNaN(Number(Nt[1])))throw tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${at.ttl}`});const pn=1e3*Number(Nt[1]),In=Date.now();return{token:at.token,expireTimeMillis:In+pn,issuedAtTimeMillis:In}})).apply(this,arguments)}function zr(Te,we){const{projectId:be,appId:rt,apiKey:X}=Te.options;return{url:`${Ct}/projects/${be}/apps/${rt}:${ct}?key=${X}`,body:{debug_token:we}}}const Lr="firebase-app-check-database",jr=1,wr="firebase-app-check-store";let _e=null;function gn(Te,we){return _n.apply(this,arguments)}function _n(){return(_n=(0,ve.Z)(function*(Te,we){const rt=(yield function Ne(){return _e||(_e=new Promise((Te,we)=>{try{const be=indexedDB.open(Lr,jr);be.onsuccess=rt=>{Te(rt.target.result)},be.onerror=rt=>{var X;we(tt.create("storage-open",{originalErrorMessage:null===(X=rt.target.error)||void 0===X?void 0:X.message}))},be.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore(wr,{keyPath:"compositeKey"})}}catch(be){we(tt.create("storage-open",{originalErrorMessage:be?.message}))}}),_e)}()).transaction(wr,"readwrite"),de=rt.objectStore(wr).put({compositeKey:Te,value:we});return new Promise((Ve,at)=>{de.onsuccess=Nt=>{Ve()},rt.onerror=Nt=>{var pn;at(tt.create("storage-set",{originalErrorMessage:null===(pn=Nt.target.error)||void 0===pn?void 0:pn.message}))}})})).apply(this,arguments)}const qn=new Fe.Yd("@firebase/app-check");function cr(Te,we){return(0,De.hl)()?function ut(Te,we){return gn(function An(Te){return`${Te.options.appId}-${Te.name}`}(Te),we)}(Te,we).catch(be=>{qn.warn(`Failed to write token to IndexedDB. Error: ${be}`)}):Promise.resolve()}function hn(){return Je().enabled}function dr(){return tr.apply(this,arguments)}function tr(){return(tr=(0,ve.Z)(function*(){const Te=Je();if(Te.enabled&&Te.token)return Te.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yr={error:"UNKNOWN_ERROR"};function bn(Te){return De.US.encodeString(JSON.stringify(Te),!1)}function vn(Te){return zt.apply(this,arguments)}function zt(){return(zt=(0,ve.Z)(function*(Te,we=!1){const be=Te.app;yt(be);const rt=Ue(be);let de,X=rt.token;if(X&&!qt(X)&&(rt.token=void 0,X=void 0),!X){const Nt=yield rt.cachedTokenPromise;Nt&&(qt(Nt)?X=Nt:yield cr(be,void 0))}if(!we&&X&&qt(X))return{token:X.token};let at,Ve=!1;if(hn()){rt.exchangeTokenPromise||(rt.exchangeTokenPromise=Vt(zr(be,yield dr()),Te.heartbeatServiceProvider).finally(()=>{rt.exchangeTokenPromise=void 0}),Ve=!0);const Nt=yield rt.exchangeTokenPromise;return yield cr(be,Nt),rt.token=Nt,{token:Nt.token}}try{rt.exchangeTokenPromise||(rt.exchangeTokenPromise=rt.provider.getToken().finally(()=>{rt.exchangeTokenPromise=void 0}),Ve=!0),X=yield Ue(be).exchangeTokenPromise}catch(Nt){"appCheck/throttled"===Nt.code?qn.warn(Nt.message):qn.error(Nt),de=Nt}return X?de?at=qt(X)?{token:X.token,internalError:de}:On(de):(at={token:X.token},rt.token=X,yield cr(be,X)):at=On(de),Ve&&function nr(Te,we){const be=Ue(Te).tokenObservers;for(const rt of be)try{"EXTERNAL"===rt.type&&null!=we.error?rt.error(we.error):rt.next(we)}catch{}}(be,at),at})).apply(this,arguments)}function Ht(Te){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,ve.Z)(function*(Te){const we=Te.app;yt(we);const{provider:be}=Ue(we);if(hn()){const rt=yield dr(),{token:X}=yield Vt(zr(we,rt),Te.heartbeatServiceProvider);return{token:X}}{const{token:rt}=yield be.getToken();return{token:rt}}})).apply(this,arguments)}function Ot(Te,we){const be=Ue(Te),rt=be.tokenObservers.filter(X=>X.next!==we);0===rt.length&&be.tokenRefresher&&be.tokenRefresher.isRunning()&&be.tokenRefresher.stop(),be.tokenObservers=rt}function fr(Te){const{app:we}=Te,be=Ue(we);let rt=be.tokenRefresher;rt||(rt=function or(Te){const{app:we}=Te;return new Le((0,ve.Z)(function*(){let rt;if(rt=Ue(we).token?yield vn(Te,!0):yield vn(Te),rt.error)throw rt.error;if(rt.internalError)throw rt.internalError}),()=>!0,()=>{const be=Ue(we);if(be.token){let rt=be.token.issuedAtTimeMillis+.5*(be.token.expireTimeMillis-be.token.issuedAtTimeMillis)+3e5;return rt=Math.min(rt,be.token.expireTimeMillis-3e5),Math.max(0,rt-Date.now())}return 0},mt.RETRIAL_MIN_WAIT,mt.RETRIAL_MAX_WAIT)}(Te),be.tokenRefresher=rt),!rt.isRunning()&&be.isTokenAutoRefreshEnabled&&rt.start()}function qt(Te){return Te.expireTimeMillis-Date.now()>0}function On(Te){return{token:bn(yr),error:Te}}class nn{constructor(we,be){this.app=we,this.heartbeatServiceProvider=be}_delete(){const{tokenObservers:we}=Ue(this.app);for(const be of we)Ot(this.app,be.next);return Promise.resolve()}}const kt="app-check-internal";!function Ft(){(0,Se._registerComponent)(new Pe.wA("app-check",Te=>function Rr(Te,we){return new nn(Te,we)}(Te.getProvider("app").getImmediate(),Te.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Te,we,be)=>{Te.getProvider(kt).initialize()})),(0,Se._registerComponent)(new Pe.wA(kt,Te=>function cn(Te){return{getToken:we=>vn(Te,we),getLimitedUseToken:()=>Ht(Te),addTokenListener:we=>function Tn(Te,we,be,rt){const{app:X}=Te,de=Ue(X);if(de.tokenObservers=[...de.tokenObservers,{next:be,error:rt,type:we}],de.token&&qt(de.token)){const at=de.token;Promise.resolve().then(()=>{be({token:at.token}),fr(Te)}).catch(()=>{})}de.cachedTokenPromise.then(()=>fr(Te))}(Te,"INTERNAL",we),removeTokenListener:we=>Ot(Te.app,we)}}(Te.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)("@firebase/app-check","0.8.0")}();class Vn{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},3692:(At,He,N)=>{N.d(He,{Ot:()=>pe,ZF:()=>$e,hX:()=>Ue,z6:()=>ve});var m=N(259),B=N(4650),C=N(3324);class pe{constructor(Le){return Le}}class ve{constructor(){return(0,m.C6)()}}const De=new B.OlP("angularfire2._apps"),Fe={provide:pe,useFactory:function Pe(je){return je&&1===je.length?je[0]:new pe((0,m.Mq)())},deps:[[new B.FiY,De]]},ue={provide:ve,deps:[[new B.FiY,De]]};function ce(je){return(Le,Xe)=>{const gt=Le.runOutsideAngular(()=>je(Xe));return new pe(gt)}}let ye=(()=>{class je{constructor(Xe){(0,m.KN)("angularfire",C.q4.full,"core"),(0,m.KN)("angularfire",C.q4.full,"app"),(0,m.KN)("angular",B.q4F.full,Xe.toString())}}return je.\u0275fac=function(Xe){return new(Xe||je)(B.LFG(B.Lbi))},je.\u0275mod=B.oAB({type:je}),je.\u0275inj=B.cJS({providers:[Fe,ue]}),je})();function Ue(je,...Le){return{ngModule:ye,providers:[{provide:De,useFactory:ce(je),multi:!0,deps:[B.R0b,B.zs3,C.HU,...Le]}]}}const $e=(0,C.u3)(m.ZF,!0)},7158:(At,He,N)=>{N.d(He,{AR:()=>$e,gx:()=>De,rh:()=>yr,v0:()=>Vt});var m=N(3324),B=N(4650),C=N(3692),pe=N(259),ve=N(2313),Se=N(4322);class De{constructor(nn){return nn}}const ce=new B.OlP("angularfire2.auth-instances");function Ue(On){return(nn,Rr)=>{const cn=nn.runOutsideAngular(()=>On(Rr));return new De(cn)}}const Ye={provide:class Fe{constructor(){return(0,m.vb)("auth")}},deps:[[new B.FiY,ce]]},Je={provide:De,useFactory:function ye(On,nn){const Rr=(0,m.JM)("auth",On,nn);return Rr&&new De(Rr)},deps:[[new B.FiY,ce],C.Ot]};let Ct=(()=>{class On{constructor(){(0,pe.KN)("angularfire",m.q4.full,"auth")}}return On.\u0275fac=function(Rr){return new(Rr||On)},On.\u0275mod=B.oAB({type:On}),On.\u0275inj=B.cJS({providers:[Je,Ye]}),On})();function $e(On,...nn){return{ngModule:Ct,providers:[{provide:ce,useFactory:Ue(On),multi:!0,deps:[B.R0b,B.zs3,m.HU,C.z6,[new B.FiY,ve.nm],...nn]}]}}const Vt=(0,m.u3)(Se.v0,!0),yr=(0,m.u3)(Se.rh,!0)},2011:(At,He,N)=>{N.d(He,{Dh:()=>De,GT:()=>Se,Ot:()=>Pe,cc:()=>Ye,hO:()=>Ue,on:()=>ue,pX:()=>ve,xv:()=>Fe});var m=N(4650),B=N(9260),C=N(3324);At=N.hmd(At);const pe=["ngOnDestroy"],ve=(it,ct,mt,je={})=>new Proxy(it,{get:(Le,Xe)=>mt.runOutsideAngular(()=>{var gt;if(it[Xe])return!(null===(gt=je?.spy)||void 0===gt)&&gt.get&&je.spy.get(Xe,it[Xe]),it[Xe];if(pe.indexOf(Xe)>-1)return()=>{};const tt=ct.toPromise().then(ke=>{const yt=ke&&ke[Xe];return"function"==typeof yt?yt.bind(ke):yt&&yt.then?yt.then(Ut=>mt.run(()=>Ut)):mt.run(()=>yt)});return new Proxy(()=>{},{get:(ke,yt)=>tt[yt],apply:(ke,yt,Ut)=>tt.then(Mt=>{var Vt;const Tt=Mt&&Mt(...Ut);return!(null===(Vt=je?.spy)||void 0===Vt)&&Vt.apply&&je.spy.apply(Xe,Ut,Tt),Tt})})})}),Se=(it,ct)=>{ct.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(je=>{Object.defineProperty(it.prototype,je,Object.getOwnPropertyDescriptor(mt.prototype||mt,je))})})};class Pe{constructor(ct){return ct}}const De=new m.OlP("angularfire2.app.options"),Fe=new m.OlP("angularfire2.app.name");function ue(it,ct,mt){const Le="object"==typeof mt&&mt||{};Le.name=Le.name||"string"==typeof mt&&mt||"[DEFAULT]";const gt=B.Z.apps.filter(tt=>tt&&tt.name===Le.name)[0]||ct.runOutsideAngular(()=>B.Z.initializeApp(it,Le));try{JSON.stringify(it)!==JSON.stringify(gt.options)&&ce("error",`${gt.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Pe(gt)}const ce=(it,...ct)=>{(0,m.X6Q)()&&typeof console<"u"&&console[it](...ct)},ye={provide:Pe,useFactory:ue,deps:[De,m.R0b,[new m.FiY,Fe]]};let Ue=(()=>{class it{constructor(mt){B.Z.registerVersion("angularfire",C.q4.full,"core"),B.Z.registerVersion("angularfire",C.q4.full,"app-compat"),B.Z.registerVersion("angular",m.q4F.full,mt.toString())}static initializeApp(mt,je){return{ngModule:it,providers:[{provide:De,useValue:mt},{provide:Fe,useValue:je}]}}}return it.\u0275fac=function(mt){return new(mt||it)(m.LFG(m.Lbi))},it.\u0275mod=m.oAB({type:it}),it.\u0275inj=m.cJS({providers:[ye]}),it})();function Ye(it,ct,mt,je,Le){const[,Xe,gt]=globalThis.\u0275AngularfireInstanceCache.find(tt=>tt[0]===it)||[];if(Xe)return function Je(it,ct){try{return it.toString()===ct.toString()}catch{return it===ct}}(Le,gt)||($e("error",`${ct} was already initialized on the ${mt} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),$e("warn",{is:Le,was:gt})),Xe;{const tt=je();return globalThis.\u0275AngularfireInstanceCache.push([it,tt,Le]),tt}}const Ct=!!At.hot,$e=(it,...ct)=>{(0,m.X6Q)()&&typeof console<"u"&&console[it](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(At,He,N)=>{N.d(He,{q4:()=>Pr,iC:()=>Oo,fc:()=>Qs,HU:()=>ko,vb:()=>Po,JM:()=>Er,u3:()=>Ta});var m=N(4650),B=N(259),C=N(5861),pe=N(6881),ve=N(2090),Se=N(4859),Pe=N(1877);N(4727);const Fe="@firebase/remote-config",Ye=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zr{constructor(w,E,L,ie){this.client=w,this.storage=E,this.storageCache=L,this.logger=ie}isCachedDataFresh(w,E){if(!E)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-E,ie=L<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${ie}.`),ie}fetch(w){var E=this;return(0,C.Z)(function*(){const[L,ie]=yield Promise.all([E.storage.getLastSuccessfulFetchTimestampMillis(),E.storage.getLastSuccessfulFetchResponse()]);if(ie&&E.isCachedDataFresh(w.cacheMaxAgeMillis,L))return ie;w.eTag=ie&&ie.eTag;const Ke=yield E.client.fetch(w),wt=[E.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ke.status&&wt.push(E.storage.setLastSuccessfulFetchResponse(Ke)),yield Promise.all(wt),Ke})()}}function Lr(v=navigator){return v.languages&&v.languages[0]||v.language}class jr{constructor(w,E,L,ie,Ke,wt){this.firebaseInstallations=w,this.sdkVersion=E,this.namespace=L,this.projectId=ie,this.apiKey=Ke,this.appId=wt}fetch(w){var E=this;return(0,C.Z)(function*(){const[L,ie]=yield Promise.all([E.firebaseInstallations.getId(),E.firebaseInstallations.getToken()]),wt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${E.projectId}/namespaces/${E.namespace}:fetch?key=${E.apiKey}`,an={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},Rn={sdk_version:E.sdkVersion,app_instance_id:L,app_instance_id_token:ie,app_id:E.appId,language_code:Lr()},ar={method:"POST",headers:an,body:JSON.stringify(Rn)},ir=fetch(wt,ar),Un=new Promise((ci,to)=>{w.signal.addEventListener(()=>{const No=new Error("The operation was aborted.");No.name="AbortError",to(No)})});let Gi;try{yield Promise.race([ir,Un]),Gi=yield ir}catch(ci){let to="fetch-client-network";throw"AbortError"===ci?.name&&(to="fetch-timeout"),Ye.create(to,{originalErrorMessage:ci?.message})}let Br=Gi.status;const wi=Gi.headers.get("ETag")||void 0;let Ro,Wi;if(200===Gi.status){let ci;try{ci=yield Gi.json()}catch(to){throw Ye.create("fetch-client-parse",{originalErrorMessage:to?.message})}Ro=ci.entries,Wi=ci.state}if("INSTANCE_STATE_UNSPECIFIED"===Wi?Br=500:"NO_CHANGE"===Wi?Br=304:("NO_TEMPLATE"===Wi||"EMPTY_CONFIG"===Wi)&&(Ro={}),304!==Br&&200!==Br)throw Ye.create("fetch-status",{httpStatus:Br});return{status:Br,eTag:wi,config:Ro}})()}}class _e{constructor(w,E){this.client=w,this.storage=E}fetch(w){var E=this;return(0,C.Z)(function*(){const L=(yield E.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return E.attemptFetch(w,L)})()}attemptFetch(w,E){var L=this;return(0,C.Z)(function*(ie,{throttleEndTimeMillis:Ke,backoffCount:wt}){yield function wr(v,w){return new Promise((E,L)=>{const ie=Math.max(w-Date.now(),0),Ke=setTimeout(E,ie);v.addEventListener(()=>{clearTimeout(Ke),L(Ye.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(ie.signal,Ke);try{const an=yield L.client.fetch(ie);return yield L.storage.deleteThrottleMetadata(),an}catch(an){if(!function Re(v){if(!(v instanceof ve.ZR&&v.customData))return!1;const w=Number(v.customData.httpStatus);return 429===w||500===w||503===w||504===w}(an))throw an;const Rn={throttleEndTimeMillis:Date.now()+(0,ve.$s)(wt),backoffCount:wt+1};return yield L.storage.setThrottleMetadata(Rn),L.attemptFetch(ie,Rn)}}).apply(this,arguments)}}class ut{constructor(w,E,L,ie,Ke){this.app=w,this._client=E,this._storageCache=L,this._storage=ie,this._logger=Ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ae(v,w){const E=v.target.error||void 0;return Ye.create(w,{originalErrorMessage:E&&E?.message})}const _t="app_namespace_store";class wn{constructor(w,E,L,ie=function Xt(){return new Promise((v,w)=>{try{const E=indexedDB.open("firebase_remote_config",1);E.onerror=L=>{w(Ae(L,"storage-open"))},E.onsuccess=L=>{v(L.target.result)},E.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(_t,{keyPath:"compositeKey"})}}catch(E){w(Ye.create("storage-open",{originalErrorMessage:E?.message}))}})}()){this.appId=w,this.appName=E,this.namespace=L,this.openDbPromise=ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var E=this;return(0,C.Z)(function*(){const L=yield E.openDbPromise;return new Promise((ie,Ke)=>{const an=L.transaction([_t],"readonly").objectStore(_t),Rn=E.createCompositeKey(w);try{const ar=an.get(Rn);ar.onerror=ir=>{Ke(Ae(ir,"storage-get"))},ar.onsuccess=ir=>{const Un=ir.target.result;ie(Un?Un.value:void 0)}}catch(ar){Ke(Ye.create("storage-get",{originalErrorMessage:ar?.message}))}})})()}set(w,E){var L=this;return(0,C.Z)(function*(){const ie=yield L.openDbPromise;return new Promise((Ke,wt)=>{const Rn=ie.transaction([_t],"readwrite").objectStore(_t),ar=L.createCompositeKey(w);try{const ir=Rn.put({compositeKey:ar,value:E});ir.onerror=Un=>{wt(Ae(Un,"storage-set"))},ir.onsuccess=()=>{Ke()}}catch(ir){wt(Ye.create("storage-set",{originalErrorMessage:ir?.message}))}})})()}delete(w){var E=this;return(0,C.Z)(function*(){const L=yield E.openDbPromise;return new Promise((ie,Ke)=>{const an=L.transaction([_t],"readwrite").objectStore(_t),Rn=E.createCompositeKey(w);try{const ar=an.delete(Rn);ar.onerror=ir=>{Ke(Ae(ir,"storage-delete"))},ar.onsuccess=()=>{ie()}}catch(ar){Ke(Ye.create("storage-delete",{originalErrorMessage:ar?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class An{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,C.Z)(function*(){const E=w.storage.getLastFetchStatus(),L=w.storage.getLastSuccessfulFetchTimestampMillis(),ie=w.storage.getActiveConfig(),Ke=yield E;Ke&&(w.lastFetchStatus=Ke);const wt=yield L;wt&&(w.lastSuccessfulFetchTimestampMillis=wt);const an=yield ie;an&&(w.activeConfig=an)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function cr(){return en.apply(this,arguments)}function en(){return(en=(0,C.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}!function qn(){(0,pe._registerComponent)(new Se.wA("remote-config",function v(w,{instanceIdentifier:E}){const L=w.getProvider("app").getImmediate(),ie=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ye.create("registration-window");if(!(0,ve.hl)())throw Ye.create("indexed-db-unavailable");const{projectId:Ke,apiKey:wt,appId:an}=L.options;if(!Ke)throw Ye.create("registration-project-id");if(!wt)throw Ye.create("registration-api-key");if(!an)throw Ye.create("registration-app-id");const Rn=new wn(an,L.name,E=E||"firebase"),ar=new An(Rn),ir=new Pe.Yd(Fe);ir.logLevel=Pe.in.ERROR;const Un=new jr(ie,pe.SDK_VERSION,E,Ke,wt,an),Gi=new _e(Un,Rn),Br=new zr(Gi,Rn,ar,ir),wi=new ut(L,Br,ar,Rn,ir);return function gt(v){const w=(0,ve.m9)(v);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(wi),wi},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Fe,"0.4.4"),(0,pe.registerVersion)(Fe,"0.4.4","esm2017")}();const Et=(v,w)=>w.some(E=>v instanceof E);let hn,dr;const yr=new WeakMap,bn=new WeakMap,vn=new WeakMap,zt=new WeakMap,Ht=new WeakMap;let Ot={get(v,w,E){if(v instanceof IDBTransaction){if("done"===w)return bn.get(v);if("objectStoreNames"===w)return v.objectStoreNames||vn.get(v);if("store"===w)return E.objectStoreNames[1]?void 0:E.objectStore(E.objectStoreNames[0])}return qt(v[w])},set:(v,w,E)=>(v[w]=E,!0),has:(v,w)=>v instanceof IDBTransaction&&("done"===w||"store"===w)||w in v};function nr(v){return"function"==typeof v?function or(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hr(){return dr||(dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...w){return v.apply(On(this),w),qt(yr.get(this))}:function(...w){return qt(v.apply(On(this),w))}:function(w,...E){const L=v.call(On(this),w,...E);return vn.set(L,w.sort?w.sort():[w]),qt(L)}}(v):(v instanceof IDBTransaction&&function Tn(v){if(bn.has(v))return;const w=new Promise((E,L)=>{const ie=()=>{v.removeEventListener("complete",Ke),v.removeEventListener("error",wt),v.removeEventListener("abort",wt)},Ke=()=>{E(),ie()},wt=()=>{L(v.error||new DOMException("AbortError","AbortError")),ie()};v.addEventListener("complete",Ke),v.addEventListener("error",wt),v.addEventListener("abort",wt)});bn.set(v,w)}(v),Et(v,function tr(){return hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,Ot):v)}function qt(v){if(v instanceof IDBRequest)return function Gn(v){const w=new Promise((E,L)=>{const ie=()=>{v.removeEventListener("success",Ke),v.removeEventListener("error",wt)},Ke=()=>{E(qt(v.result)),ie()},wt=()=>{L(v.error),ie()};v.addEventListener("success",Ke),v.addEventListener("error",wt)});return w.then(E=>{E instanceof IDBCursor&&yr.set(E,v)}).catch(()=>{}),Ht.set(w,v),w}(v);if(zt.has(v))return zt.get(v);const w=nr(v);return w!==v&&(zt.set(v,w),Ht.set(w,v)),w}const On=v=>Ht.get(v);function nn(v,w,{blocked:E,upgrade:L,blocking:ie,terminated:Ke}={}){const wt=indexedDB.open(v,w),an=qt(wt);return L&&wt.addEventListener("upgradeneeded",Rn=>{L(qt(wt.result),Rn.oldVersion,Rn.newVersion,qt(wt.transaction))}),E&&wt.addEventListener("blocked",()=>E()),an.then(Rn=>{Ke&&Rn.addEventListener("close",()=>Ke()),ie&&Rn.addEventListener("versionchange",()=>ie())}).catch(()=>{}),an}function Rr(v,{blocked:w}={}){const E=indexedDB.deleteDatabase(v);return w&&E.addEventListener("blocked",()=>w()),qt(E).then(()=>{})}const cn=["get","getKey","getAll","getAllKeys","count"],rr=["put","add","delete","clear"],Xn=new Map;function lr(v,w){if(!(v instanceof IDBDatabase)||w in v||"string"!=typeof w)return;if(Xn.get(w))return Xn.get(w);const E=w.replace(/FromIndex$/,""),L=w!==E,ie=rr.includes(E);if(!(E in(L?IDBIndex:IDBObjectStore).prototype)||!ie&&!cn.includes(E))return;const Ke=function(){var wt=(0,C.Z)(function*(an,...Rn){const ar=this.transaction(an,ie?"readwrite":"readonly");let ir=ar.store;return L&&(ir=ir.index(Rn.shift())),(yield Promise.all([ir[E](...Rn),ie&&ar.done]))[0]});return function(Rn){return wt.apply(this,arguments)}}();return Xn.set(w,Ke),Ke}!function fr(v){Ot=v(Ot)}(v=>({...v,get:(w,E,L)=>lr(w,E)||v.get(w,E,L),has:(w,E)=>!!lr(w,E)||v.has(w,E)}));const Mr="/firebase-messaging-sw.js",Cr="/firebase-cloud-messaging-push-scope",rn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",br="https://fcmregistrations.googleapis.com/v1",he="google.c.a.c_id",ae="google.c.a.c_l",Q="google.c.a.ts",ee="google.c.a.e";var me=(()=>{return(v=me||(me={})).PUSH_RECEIVED="push-received",v.NOTIFICATION_CLICKED="notification-clicked",me;var v})();function re(v){const w=new Uint8Array(v);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function j(v){const E=(v+"=".repeat((4-v.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(E),ie=new Uint8Array(L.length);for(let Ke=0;Ke<L.length;++Ke)ie[Ke]=L.charCodeAt(Ke);return ie}const Y="fcm_token_details_db",ne=5,ge="fcm_token_object_Store";function ot(){return ot=(0,C.Z)(function*(v){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ke=>Ke.name).includes(Y))return null;let w=null;return(yield nn(Y,ne,{upgrade:(L=(0,C.Z)(function*(ie,Ke,wt,an){var Rn;if(Ke<2||!ie.objectStoreNames.contains(ge))return;const ar=an.objectStore(ge),ir=yield ar.index("fcmSenderId").get(v);if(yield ar.clear(),ir)if(2===Ke){const Un=ir;if(!Un.auth||!Un.p256dh||!Un.endpoint)return;w={token:Un.fcmToken,createTime:null!==(Rn=Un.createTime)&&void 0!==Rn?Rn:Date.now(),subscriptionOptions:{auth:Un.auth,p256dh:Un.p256dh,endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:"string"==typeof Un.vapidKey?Un.vapidKey:re(Un.vapidKey)}}}else if(3===Ke){const Un=ir;w={token:Un.fcmToken,createTime:Un.createTime,subscriptionOptions:{auth:re(Un.auth),p256dh:re(Un.p256dh),endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:re(Un.vapidKey)}}}else if(4===Ke){const Un=ir;w={token:Un.fcmToken,createTime:Un.createTime,subscriptionOptions:{auth:re(Un.auth),p256dh:re(Un.p256dh),endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:re(Un.vapidKey)}}}}),function(Ke,wt,an,Rn){return L.apply(this,arguments)})})).close(),yield Rr(Y),yield Rr("fcm_vapid_details_db"),yield Rr("undefined"),function ft(v){if(!v||!v.subscriptionOptions)return!1;const{subscriptionOptions:w}=v;return"number"==typeof v.createTime&&v.createTime>0&&"string"==typeof v.token&&v.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}(w)?w:null;var L}),ot.apply(this,arguments)}const Yt="firebase-messaging-database",tn=1,Oe="firebase-messaging-store";let xe=null;function st(){return xe||(xe=nn(Yt,tn,{upgrade:(v,w)=>{0===w&&v.createObjectStore(Oe)}})),xe}function kt(v){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,C.Z)(function*(v){const w=Mn(v),L=yield(yield st()).transaction(Oe).objectStore(Oe).get(w);if(L)return L;{const ie=yield function Me(v){return ot.apply(this,arguments)}(v.appConfig.senderId);if(ie)return yield mn(v,ie),ie}}),Ft.apply(this,arguments)}function mn(v,w){return jt.apply(this,arguments)}function jt(){return(jt=(0,C.Z)(function*(v,w){const E=Mn(v),ie=(yield st()).transaction(Oe,"readwrite");return yield ie.objectStore(Oe).put(w,E),yield ie.done,w})).apply(this,arguments)}function Dn(){return(Dn=(0,C.Z)(function*(v){const w=Mn(v),L=(yield st()).transaction(Oe,"readwrite");yield L.objectStore(Oe).delete(w),yield L.done})).apply(this,arguments)}function Mn({appConfig:v}){return v.appId}const Ar=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function co(v,w){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,C.Z)(function*(v,w){const E=yield si(v),L=ti(w),ie={method:"POST",headers:E,body:JSON.stringify(L)};let Ke;try{Ke=yield(yield fetch(Wn(v.appConfig),ie)).json()}catch(wt){throw Ar.create("token-subscribe-failed",{errorInfo:wt?.toString()})}if(Ke.error)throw Ar.create("token-subscribe-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Ar.create("token-subscribe-no-token");return Ke.token})).apply(this,arguments)}function xt(){return(xt=(0,C.Z)(function*(v,w){const E=yield si(v),L=ti(w.subscriptionOptions),ie={method:"PATCH",headers:E,body:JSON.stringify(L)};let Ke;try{Ke=yield(yield fetch(`${Wn(v.appConfig)}/${w.token}`,ie)).json()}catch(wt){throw Ar.create("token-update-failed",{errorInfo:wt?.toString()})}if(Ke.error)throw Ar.create("token-update-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Ar.create("token-update-no-token");return Ke.token})).apply(this,arguments)}function fn(v,w){return sr.apply(this,arguments)}function sr(){return(sr=(0,C.Z)(function*(v,w){const L={method:"DELETE",headers:yield si(v)};try{const Ke=yield(yield fetch(`${Wn(v.appConfig)}/${w}`,L)).json();if(Ke.error)throw Ar.create("token-unsubscribe-failed",{errorInfo:Ke.error.message})}catch(ie){throw Ar.create("token-unsubscribe-failed",{errorInfo:ie?.toString()})}})).apply(this,arguments)}function Wn({projectId:v}){return`${br}/projects/${v}/registrations`}function si(v){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,C.Z)(function*({appConfig:v,installations:w}){const E=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v.apiKey,"x-goog-firebase-installations-auth":`FIS ${E}`})})).apply(this,arguments)}function ti({p256dh:v,auth:w,endpoint:E,vapidKey:L}){const ie={web:{endpoint:E,auth:w,p256dh:v}};return L!==rn&&(ie.web.applicationPubKey=L),ie}const jn=6048e5;function we(){return we=(0,C.Z)(function*(v){const w=yield function Nt(v,w){return pn.apply(this,arguments)}(v.swRegistration,v.vapidKey),E={vapidKey:v.vapidKey,swScope:v.swRegistration.scope,endpoint:w.endpoint,auth:re(w.getKey("auth")),p256dh:re(w.getKey("p256dh"))},L=yield kt(v.firebaseDependencies);if(L){if(function In(v,w){return w.vapidKey===v.vapidKey&&w.endpoint===v.endpoint&&w.auth===v.auth&&w.p256dh===v.p256dh}(L.subscriptionOptions,E))return Date.now()>=L.createTime+jn?function X(v,w){return de.apply(this,arguments)}(v,{token:L.token,createTime:Date.now(),subscriptionOptions:E}):L.token;try{yield fn(v.firebaseDependencies,L.token)}catch(ie){console.warn(ie)}return Ve(v.firebaseDependencies,E)}return Ve(v.firebaseDependencies,E)}),we.apply(this,arguments)}function rt(){return rt=(0,C.Z)(function*(v){const w=yield kt(v.firebaseDependencies);w&&(yield fn(v.firebaseDependencies,w.token),yield function Vn(v){return Dn.apply(this,arguments)}(v.firebaseDependencies));const E=yield v.swRegistration.pushManager.getSubscription();return!E||E.unsubscribe()}),rt.apply(this,arguments)}function de(){return de=(0,C.Z)(function*(v,w){try{const E=yield function Ir(v,w){return xt.apply(this,arguments)}(v.firebaseDependencies,w),L=Object.assign(Object.assign({},w),{token:E,createTime:Date.now()});return yield mn(v.firebaseDependencies,L),E}catch(E){throw yield function be(v){return rt.apply(this,arguments)}(v),E}}),de.apply(this,arguments)}function Ve(v,w){return at.apply(this,arguments)}function at(){return(at=(0,C.Z)(function*(v,w){const L={token:yield co(v,w),createTime:Date.now(),subscriptionOptions:w};return yield mn(v,L),L.token})).apply(this,arguments)}function pn(){return(pn=(0,C.Z)(function*(v,w){return(yield v.pushManager.getSubscription())||v.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:j(w)})})).apply(this,arguments)}function xn(v){const w={from:v.from,collapseKey:v.collapse_key,messageId:v.fcmMessageId};return function Hr(v,w){if(!w.notification)return;v.notification={};const E=w.notification.title;E&&(v.notification.title=E);const L=w.notification.body;L&&(v.notification.body=L);const ie=w.notification.image;ie&&(v.notification.image=ie);const Ke=w.notification.icon;Ke&&(v.notification.icon=Ke)}(w,v),function Pn(v,w){w.data&&(v.data=w.data)}(w,v),function Sr(v,w){var E,L,ie,Ke,wt;if(!(w.fcmOptions||null!==(E=w.notification)&&void 0!==E&&E.click_action))return;v.fcmOptions={};const an=null!==(ie=null===(L=w.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==ie?ie:null===(Ke=w.notification)||void 0===Ke?void 0:Ke.click_action;an&&(v.fcmOptions.link=an);const Rn=null===(wt=w.fcmOptions)||void 0===wt?void 0:wt.analytics_label;Rn&&(v.fcmOptions.analyticsLabel=Rn)}(w,v),w}function yi(v,w){const E=[];for(let L=0;L<v.length;L++)E.push(v.charAt(L)),L<w.length&&E.push(w.charAt(L));return E.join("")}function wo(v){return Ar.create("missing-app-config-values",{valueName:v})}yi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fi{constructor(w,E,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ie=function Ti(v){if(!v||!v.options)throw wo("App Configuration Object");if(!v.name)throw wo("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:E}=v;for(const L of w)if(!E[L])throw wo(L);return{appName:v.name,projectId:E.projectId,apiKey:E.apiKey,appId:E.appId,senderId:E.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:ie,installations:E,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ni(v){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,C.Z)(function*(v){try{v.swRegistration=yield navigator.serviceWorker.register(Mr,{scope:Cr}),v.swRegistration.update().catch(()=>{})}catch(w){throw Ar.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function _i(){return(_i=(0,C.Z)(function*(v,w){if(!w&&!v.swRegistration&&(yield ni(v)),w||!v.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw Ar.create("invalid-sw-registration");v.swRegistration=w}})).apply(this,arguments)}function ui(){return(ui=(0,C.Z)(function*(v,w){w?v.vapidKey=w:v.vapidKey||(v.vapidKey=rn)})).apply(this,arguments)}function Qr(){return Qr=(0,C.Z)(function*(v,w){if(!navigator)throw Ar.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ar.create("permission-blocked");return yield function xo(v,w){return ui.apply(this,arguments)}(v,w?.vapidKey),yield function li(v,w){return _i.apply(this,arguments)}(v,w?.serviceWorkerRegistration),function Te(v){return we.apply(this,arguments)}(v)}),Qr.apply(this,arguments)}function $o(){return($o=(0,C.Z)(function*(v,w,E){const L=function Ji(v){switch(v){case me.NOTIFICATION_CLICKED:return"notification_open";case me.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(w);(yield v.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:E[he],message_name:E[ae],message_time:E[Q],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ai(){return ai=(0,C.Z)(function*(v,w){const E=w.data;if(!E.isFirebaseMessaging)return;v.onMessageHandler&&E.messageType===me.PUSH_RECEIVED&&("function"==typeof v.onMessageHandler?v.onMessageHandler(xn(E)):v.onMessageHandler.next(xn(E)));const L=E.data;(function ks(v){return"object"==typeof v&&!!v&&he in v})(L)&&"1"===L[ee]&&(yield function ji(v,w,E){return $o.apply(this,arguments)}(v,E.messageType,L))}),ai.apply(this,arguments)}const Co="@firebase/messaging",Os=v=>{const w=new Fi(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),v.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",E=>function Di(v,w){return ai.apply(this,arguments)}(w,E)),w},qs=v=>{const w=v.getProvider("messaging").getImmediate();return{getToken:L=>function Li(v,w){return Qr.apply(this,arguments)}(w,L)}};function Go(){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,C.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rs(){(0,pe._registerComponent)(new Se.wA("messaging",Os,"PUBLIC")),(0,pe._registerComponent)(new Se.wA("messaging-internal",qs,"PRIVATE")),(0,pe.registerVersion)(Co,"0.12.4"),(0,pe.registerVersion)(Co,"0.12.4","esm2017")}();var di=N(5132),bi=N(4408),_r=N(7565);const Wo=new class as extends _r.v{}(class eo extends bi.o{constructor(w,E){super(w,E),this.scheduler=w,this.work=E}schedule(w,E=0){return E>0?super.schedule(w,E):(this.delay=E,this.state=w,this.scheduler.flush(this),this)}execute(w,E){return E>0||this.closed?super.execute(w,E):this._execute(w,E)}requestAsyncId(w,E,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(w,E,L):(w.flush(this),0)}});var bo=N(4986),Ss=N(9751),ca=N(8505),Ko=N(5363),qo=N(9468);const Pr=new m.GfV("7.6.1"),So="__angularfire_symbol__analyticsIsSupportedValue",Mi="__angularfire_symbol__analyticsIsSupported",Gr="__angularfire_symbol__remoteConfigIsSupportedValue",$i="__angularfire_symbol__remoteConfigIsSupported",ri="__angularfire_symbol__messagingIsSupportedValue",Wr="__angularfire_symbol__messagingIsSupported";function Er(v,w,E){if(w){if(1===w.length)return w[0];const Ke=w.filter(wt=>wt.app===E);if(1===Ke.length)return Ke[0]}return E.container.getProvider(v).getImmediate({optional:!0})}globalThis[Mi]||(globalThis[Mi]=(0,di.Gb)().then(v=>globalThis[So]=v).catch(()=>globalThis[So]=!1)),globalThis[Wr]||(globalThis[Wr]=Go().then(v=>globalThis[ri]=v).catch(()=>globalThis[ri]=!1)),globalThis[$i]||(globalThis[$i]=cr().then(v=>globalThis[Gr]=v).catch(()=>globalThis[Gr]=!1));const Po=(v,w)=>{const E=w?[w]:(0,B.C6)(),L=[];return E.forEach(ie=>{ie.container.getProvider(v).instances.forEach(wt=>{L.includes(wt)||L.push(wt)})}),L};function Eo(){}class fi{constructor(w,E=Wo){this.zone=w,this.delegate=E}now(){return this.delegate.now()}schedule(w,E,L){const ie=this.zone;return this.delegate.schedule(function(wt){ie.runGuarded(()=>{w.apply(this,[wt])})},E,L)}}class uo{constructor(w){this.zone=w,this.task=null}call(w,E){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),E.pipe((0,ca.b)({next:L,complete:L,error:L})).subscribe(w).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ko=(()=>{class v{constructor(E){this.ngZone=E,this.outsideAngular=E.runOutsideAngular(()=>new fi(Zone.current)),this.insideAngular=E.run(()=>new fi(Zone.current,bo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return v.\u0275fac=function(E){return new(E||v)(m.LFG(m.R0b))},v.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function ln(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function ho(v){return ln().ngZone.run(()=>v())}function Qs(v){return v.pipe((0,Ko.Q)(ln().outsideAngular))}function Oo(v){return ln(),function la(v){return function(E){return(E=E.lift(new uo(v.ngZone))).pipe((0,qo.R)(v.outsideAngular),(0,Ko.Q)(v.insideAngular))}}(ln())(v)}const Ns=(v,w)=>function(){const L=arguments;return w&&setTimeout(()=>{"scheduled"===w.state&&w.invoke()},10),ho(()=>v.apply(void 0,L))},Ta=(v,w)=>function(){let E;const L=arguments;for(let Ke=0;Ke<arguments.length;Ke++)"function"==typeof L[Ke]&&(w&&(E||(E=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)))),L[Ke]=Ns(L[Ke],E));const ie=function To(v){return ln().ngZone.runOutsideAngular(()=>v())}(()=>v.apply(this,L));if(!w){if(ie instanceof Ss.y){const Ke=ln();return ie.pipe((0,qo.R)(Ke.outsideAngular),(0,Ko.Q)(Ke.insideAngular))}return ho(()=>ie)}return ie instanceof Ss.y?ie.pipe(Oo):ie instanceof Promise?ho(()=>new Promise((Ke,wt)=>ie.then(an=>ho(()=>Ke(an)),an=>ho(()=>wt(an))))):"function"==typeof ie&&E?function(){return setTimeout(()=>{E&&"scheduled"===E.state&&E.invoke()},10),ie.apply(this,arguments)}:ho(()=>ie)}},1389:(At,He,N)=>{N.d(He,{$:()=>ln,A:()=>ce,D:()=>Ye,I:()=>jn,J:()=>X,L:()=>Di,N:()=>rn,P:()=>ze,Q:()=>aa,R:()=>bc,U:()=>eo,V:()=>_r,W:()=>as,X:()=>bi,Y:()=>Ss,Z:()=>ca,_:()=>Mi,a:()=>ds,a0:()=>ho,a1:()=>Ea,a2:()=>Ta,a3:()=>Ke,a4:()=>an,a5:()=>ar,a6:()=>Un,a7:()=>Br,a8:()=>Ro,a9:()=>ci,aA:()=>ke,aB:()=>l3,aC:()=>Mr,aD:()=>br,aE:()=>yd,aF:()=>u4,aG:()=>Hl,aH:()=>Wn,aL:()=>Ia,aO:()=>hi,aa:()=>to,ab:()=>xl,ac:()=>xu,ad:()=>hc,ae:()=>Ma,af:()=>qc,ai:()=>pc,aj:()=>zu,ak:()=>Ki,an:()=>lo,ao:()=>$a,aq:()=>Kn,ar:()=>Qo,as:()=>Ut,at:()=>ne,au:()=>re,av:()=>je,aw:()=>Ed,ax:()=>m4,ay:()=>ge,az:()=>Le,b:()=>Ka,c:()=>Xo,d:()=>a4,e:()=>tc,f:()=>s3,g:()=>h4,h:()=>a3,i:()=>rl,j:()=>em,k:()=>I4,l:()=>Vl,m:()=>_3,o:()=>C3,p:()=>De,r:()=>D,s:()=>da,u:()=>G});var m=N(5861),B=N(2090),C=N(6881),pe=N(7582),ve=N(1877),Se=N(4859);const De={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ye=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Je=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new ve.Yd("@firebase/auth");function mt(T,...f){it.logLevel<=ve.in.ERROR&&it.error(`Auth (${C.SDK_VERSION}): ${T}`,...f)}function je(T,...f){throw tt(T,...f)}function Le(T,...f){return tt(T,...f)}function Xe(T,f,g){const I=Object.assign(Object.assign({},Je()),{[f]:g});return new B.LL("auth","Firebase",I).create(f,{appName:T.name})}function gt(T,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&je(T,"argument-error"),Xe(T,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(T,...f){if("string"!=typeof T){const g=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=T.name),T._errorFactory.create(g,...I)}return Ct.create(T,...f)}function ke(T,f,...g){if(!T)throw tt(f,...g)}function yt(T){const f="INTERNAL ASSERTION FAILED: "+T;throw mt(f),new Error(f)}function Ut(T,f){T||yt(f)}function Mt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Vt(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class zr{constructor(f,g){this.shortDelay=f,this.longDelay=g,Ut(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Zr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lr(T,f){Ut(T.emulator,"Emulator should always be set here");const{url:g}=T.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class jr{static initialize(f,g,I){this.fetchImpl=f,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new zr(3e4,6e4);function _e(T,f){return T.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:T.tenantId}):f}function Ne(T,f,g,I){return We.apply(this,arguments)}function We(){return(We=(0,m.Z)(function*(T,f,g,I,U={}){return ut(T,U,(0,m.Z)(function*(){let te={},Ie={};I&&("GET"===f?Ie=I:te={body:JSON.stringify(I)});const Ze=(0,B.xO)(Object.assign({key:T.config.apiKey},Ie)).slice(1),It=yield T._getAdditionalHeaders();return It["Content-Type"]="application/json",T.languageCode&&(It["X-Firebase-Locale"]=T.languageCode),jr.fetch()(_n(T,T.config.apiHost,g,Ze),Object.assign({method:f,headers:It,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function ut(T,f,g){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,m.Z)(function*(T,f,g){T._canInitEmulator=!1;const I=Object.assign(Object.assign({},wr),f);try{const U=new Xt(T),te=yield Promise.race([g(),U.promise]);U.clearNetworkTimeout();const Ie=yield te.json();if("needConfirmation"in Ie)throw wn(T,"account-exists-with-different-credential",Ie);if(te.ok&&!("errorMessage"in Ie))return Ie;{const Ze=te.ok?Ie.errorMessage:Ie.error.message,[It,Zt]=Ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw wn(T,"credential-already-in-use",Ie);if("EMAIL_EXISTS"===It)throw wn(T,"email-already-in-use",Ie);if("USER_DISABLED"===It)throw wn(T,"user-disabled",Ie);const Nn=I[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(Zt)throw Xe(T,Nn,Zt);je(T,Nn)}}catch(U){if(U instanceof B.ZR)throw U;je(T,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function _t(T,f,g,I){return gn.apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(T,f,g,I,U={}){const te=yield Ne(T,f,g,I,U);return"mfaPendingCredential"in te&&je(T,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function _n(T,f,g,I){const U=`${f}${g}?${I}`;return T.config.emulator?Lr(T.config,U):`${T.config.apiScheme}://${U}`}class Xt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(Le(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wn(T,f,g){const I={appName:T.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const U=Le(T,f,I);return U.customData._tokenResponse=g,U}function qn(){return(qn=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function En(){return(En=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function en(){return(en=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Et(T){if(T)try{const f=new Date(Number(T));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function tr(){return(tr=(0,m.Z)(function*(T,f=!1){const g=(0,B.m9)(T),I=yield g.getIdToken(f),U=yr(I);ke(U&&U.exp&&U.auth_time&&U.iat,g.auth,"internal-error");const te="object"==typeof U.firebase?U.firebase:void 0,Ie=te?.sign_in_provider;return{claims:U,token:I,authTime:Et(hr(U.auth_time)),issuedAtTime:Et(hr(U.iat)),expirationTime:Et(hr(U.exp)),signInProvider:Ie||null,signInSecondFactor:te?.sign_in_second_factor||null}})).apply(this,arguments)}function hr(T){return 1e3*Number(T)}function yr(T){const[f,g,I]=T.split(".");if(void 0===f||void 0===g||void 0===I)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,B.tV)(g);return U?JSON.parse(U):(mt("Failed to decode base64 JWT payload"),null)}catch(U){return mt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function vn(T,f){return zt.apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(T,f,g=!1){if(g)return f;try{return yield f}catch(I){throw I instanceof B.ZR&&function Ht({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(I)&&T.auth.currentUser===T&&(yield T.auth.signOut()),I}})).apply(this,arguments)}class Gn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const U=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,m.Z)(function*(){yield g.iteration()}),I)}iteration(){var f=this;return(0,m.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Tn{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Et(this.lastLoginAt),this.creationTime=Et(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ot(T){return fr.apply(this,arguments)}function fr(){return fr=(0,m.Z)(function*(T){var f;const g=T.auth,I=yield T.getIdToken(),U=yield vn(T,function cr(T,f){return en.apply(this,arguments)}(g,{idToken:I}));ke(U?.users.length,g,"internal-error");const te=U.users[0];T._notifyReloadListener(te);const Ie=null!==(f=te.providerUserInfo)&&void 0!==f&&f.length?function On(T){return T.map(f=>{var{providerId:g}=f,I=(0,pe._T)(f,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(te.providerUserInfo):[],Ze=function qt(T,f){return[...T.filter(I=>!f.some(U=>U.providerId===I.providerId)),...f]}(T.providerData,Ie),Nn=!!T.isAnonymous&&!(T.email&&te.passwordHash||Ze?.length),zn={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:Ze,metadata:new Tn(te.createdAt,te.lastLoginAt),isAnonymous:Nn};Object.assign(T,zn)}),fr.apply(this,arguments)}function nr(){return(nr=(0,m.Z)(function*(T){const f=(0,B.m9)(T);yield Ot(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Rr(){return(Rr=(0,m.Z)(function*(T,f){const g=yield ut(T,{},(0,m.Z)(function*(){const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:U,apiKey:te}=T.config,Ie=_n(T,U,"/v1/token",`key=${te}`),Ze=yield T._getAdditionalHeaders();return Ze["Content-Type"]="application/x-www-form-urlencoded",jr.fetch()(Ie,{method:"POST",headers:Ze,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class cn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ke(f.idToken,"internal-error"),ke(typeof f.idToken<"u","internal-error"),ke(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function bn(T){const f=yr(T);return ke(f,"internal-error"),ke(typeof f.exp<"u","internal-error"),ke(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f){var g=this;return(0,m.Z)(function*(I,U=!1){return ke(!g.accessToken||g.refreshToken,I,"user-token-expired"),U||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(I,g.refreshToken),g.accessToken):null:g.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var I=this;return(0,m.Z)(function*(){const{accessToken:U,refreshToken:te,expiresIn:Ie}=yield function nn(T,f){return Rr.apply(this,arguments)}(f,g);I.updateTokensAndExpiration(U,te,Number(Ie))})()}updateTokensAndExpiration(f,g,I){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,g){const{refreshToken:I,accessToken:U,expirationTime:te}=g,Ie=new cn;return I&&(ke("string"==typeof I,"internal-error",{appName:f}),Ie.refreshToken=I),U&&(ke("string"==typeof U,"internal-error",{appName:f}),Ie.accessToken=U),te&&(ke("number"==typeof te,"internal-error",{appName:f}),Ie.expirationTime=te),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new cn,this.toJSON())}_performRefresh(){return yt("not implemented")}}function rr(T,f){ke("string"==typeof T||typeof T>"u","internal-error",{appName:f})}class Xn{constructor(f){var{uid:g,auth:I,stsTokenManager:U}=f,te=(0,pe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new Tn(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,m.Z)(function*(){const I=yield vn(g,g.stsTokenManager.getToken(g.auth,f));return ke(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(f){return function dr(T){return tr.apply(this,arguments)}(this,f)}reload(){return function or(T){return nr.apply(this,arguments)}(this)}_assign(f){this!==f&&(ke(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Xn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f){var g=this;return(0,m.Z)(function*(I,U=!1){let te=!1;I.idToken&&I.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(I),te=!0),U&&(yield Ot(g)),yield g.auth._persistUserIfCurrent(g),te&&g.auth._notifyListenersIfCurrent(g)}).apply(this,arguments)}delete(){var f=this;return(0,m.Z)(function*(){const g=yield f.getIdToken();return yield vn(f,function An(T,f){return qn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var I,U,te,Ie,Ze,It,Zt,Nn;const zn=null!==(I=g.displayName)&&void 0!==I?I:void 0,ii=null!==(U=g.email)&&void 0!==U?U:void 0,ra=null!==(te=g.phoneNumber)&&void 0!==te?te:void 0,ll=null!==(Ie=g.photoURL)&&void 0!==Ie?Ie:void 0,Gl=null!==(Ze=g.tenantId)&&void 0!==Ze?Ze:void 0,ul=null!==(It=g._redirectEventId)&&void 0!==It?It:void 0,P4=null!==(Zt=g.createdAt)&&void 0!==Zt?Zt:void 0,Ad=null!==(Nn=g.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:Yu,emailVerified:Pd,isAnonymous:ju,providerData:$u,stsTokenManager:Wl}=g;ke(Yu&&Wl,f,"internal-error");const Gu=cn.fromJSON(this.name,Wl);ke("string"==typeof Yu,f,"internal-error"),rr(zn,f.name),rr(ii,f.name),ke("boolean"==typeof Pd,f,"internal-error"),ke("boolean"==typeof ju,f,"internal-error"),rr(ra,f.name),rr(ll,f.name),rr(Gl,f.name),rr(ul,f.name),rr(P4,f.name),rr(Ad,f.name);const Wu=new Xn({uid:Yu,auth:f,email:ii,emailVerified:Pd,displayName:zn,isAnonymous:ju,photoURL:ll,phoneNumber:ra,tenantId:Gl,stsTokenManager:Gu,createdAt:P4,lastLoginAt:Ad});return $u&&Array.isArray($u)&&(Wu.providerData=$u.map(kd=>Object.assign({},kd))),ul&&(Wu._redirectEventId=ul),Wu}static _fromIdTokenResponse(f,g){return(0,m.Z)(function*(I,U,te=!1){const Ie=new cn;Ie.updateFromServerResponse(U);const Ze=new Xn({uid:U.localId,auth:I,stsTokenManager:Ie,isAnonymous:te});return yield Ot(Ze),Ze}).apply(this,arguments)}}const lr=new Map;function Mr(T){Ut(T instanceof Function,"Expected a class definition");let f=lr.get(T);return f?(Ut(f instanceof T,"Instance stored in cache mismatched with class"),f):(f=new T,lr.set(T,f),f)}const rn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(g,I){var U=this;return(0,m.Z)(function*(){U.storage[g]=I})()}_get(g){var I=this;return(0,m.Z)(function*(){const U=I.storage[g];return void 0===U?null:U})()}_remove(g){var I=this;return(0,m.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return T.type="NONE",T})();function br(T,f,g){return`firebase:${T}:${f}:${g}`}class he{constructor(f,g,I){this.persistence=f,this.auth=g,this.userKey=I;const{config:U,name:te}=this.auth;this.fullUserKey=br(this.userKey,U.apiKey,te),this.fullPersistenceKey=br("persistence",U.apiKey,te),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,m.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Xn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,m.Z)(function*(){if(g.persistence===f)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g){return(0,m.Z)(function*(I,U,te="authUser"){if(!U.length)return new he(Mr(rn),I,te);const Ie=(yield Promise.all(U.map(function(){var zn=(0,m.Z)(function*(ii){if(yield ii._isAvailable())return ii});return function(ii){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let Ze=Ie[0]||Mr(rn);const It=br(te,I.config.apiKey,I.name);let Zt=null;for(const zn of U)try{const ii=yield zn._get(It);if(ii){const ra=Xn._fromJSON(I,ii);zn!==Ze&&(Zt=ra),Ze=zn;break}}catch{}const Nn=Ie.filter(zn=>zn._shouldAllowMigration);return Ze._shouldAllowMigration&&Nn.length?(Ze=Nn[0],Zt&&(yield Ze._set(It,Zt.toJSON())),yield Promise.all(U.map(function(){var zn=(0,m.Z)(function*(ii){if(ii!==Ze)try{yield ii._remove(It)}catch{}});return function(ii){return zn.apply(this,arguments)}}())),new he(Ze,I,te)):new he(Ze,I,te)}).apply(this,arguments)}}function ae(T){const f=T.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(me(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Q(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(j(f))return"Blackberry";if(Y(f))return"Webos";if(ee(f))return"Safari";if((f.includes("chrome/")||W(f))&&!f.includes("edge/"))return"Chrome";if(re(f))return"Android";{const I=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Q(T=(0,B.z$)()){return/firefox\//i.test(T)}function ee(T=(0,B.z$)()){const f=T.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function W(T=(0,B.z$)()){return/crios\//i.test(T)}function me(T=(0,B.z$)()){return/iemobile/i.test(T)}function re(T=(0,B.z$)()){return/android/i.test(T)}function j(T=(0,B.z$)()){return/blackberry/i.test(T)}function Y(T=(0,B.z$)()){return/webos/i.test(T)}function ne(T=(0,B.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function ge(T=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function ft(T=(0,B.z$)()){return ne(T)||re(T)||Y(T)||j(T)||/windows phone/i.test(T)||me(T)}function tn(T,f=[]){let g;switch(T){case"Browser":g=ae((0,B.z$)());break;case"Worker":g=`${ae((0,B.z$)())}-${T}`;break;default:g=T}const I=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${C.SDK_VERSION}/${I}`}function xe(){return(xe=(0,m.Z)(function*(T){return(yield Ne(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function st(T,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(T,f){return Ne(T,"GET","/v2/recaptchaConfig",_e(T,f))})).apply(this,arguments)}function Ft(T){return void 0!==T&&void 0!==T.getResponse}function mn(T){return void 0!==T&&void 0!==T.enterprise}class jt{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Dn(T){return new Promise((f,g)=>{const I=document.createElement("script");I.setAttribute("src",T),I.onload=f,I.onerror=U=>{const te=Le("internal-error");te.customData=U,g(te)},I.type="text/javascript",I.charset="UTF-8",function Vn(){var T,f;return null!==(f=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==f?f:document}().appendChild(I)})}function Mn(T){return`__${T}${Math.floor(1e6*Math.random())}`}const co="NO_RECAPTCHA";class Yi{constructor(f){this.type="recaptcha-enterprise",this.auth=Wn(f)}verify(){var f=this;return(0,m.Z)(function*(g="verify",I=!1){function te(){return te=(0,m.Z)(function*(Ze){if(!I){if(null==Ze.tenantId&&null!=Ze._agentRecaptchaConfig)return Ze._agentRecaptchaConfig.siteKey;if(null!=Ze.tenantId&&void 0!==Ze._tenantRecaptchaConfigs[Ze.tenantId])return Ze._tenantRecaptchaConfigs[Ze.tenantId].siteKey}return new Promise(function(){var It=(0,m.Z)(function*(Zt,Nn){st(Ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zn=>{if(void 0!==zn.recaptchaKey){const ii=new jt(zn);return null==Ze.tenantId?Ze._agentRecaptchaConfig=ii:Ze._tenantRecaptchaConfigs[Ze.tenantId]=ii,Zt(ii.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(zn=>{Nn(zn)})});return function(Zt,Nn){return It.apply(this,arguments)}}())}),te.apply(this,arguments)}function Ie(Ze,It,Zt){const Nn=window.grecaptcha;mn(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(Ze,{action:g}).then(zn=>{It(zn)}).catch(()=>{It(co)})}):Zt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ze,It)=>{(function U(Ze){return te.apply(this,arguments)})(f.auth).then(Zt=>{if(!I&&mn(window.grecaptcha))Ie(Zt,Ze,It);else{if(typeof window>"u")return void It(new Error("RecaptchaVerifier is only supported in browser"));Dn("https://www.google.com/recaptcha/enterprise.js?render="+Zt).then(()=>{Ie(Zt,Ze,It)}).catch(Nn=>{It(Nn)})}}).catch(Zt=>{It(Zt)})})}).apply(this,arguments)}}function Ir(T,f,g){return xt.apply(this,arguments)}function xt(){return(xt=(0,m.Z)(function*(T,f,g,I=!1){const U=new Yi(T);let te;try{te=yield U.verify(g)}catch{te=yield U.verify(g,!0)}const Ie=Object.assign({},f);return Object.assign(Ie,I?{captchaResp:te}:{captchaResponse:te}),Object.assign(Ie,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ie,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ie})).apply(this,arguments)}class fn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const I=te=>new Promise((Ie,Ze)=>{try{Ie(f(te))}catch(It){Ze(It)}});I.onAbort=g,this.queue.push(I);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,m.Z)(function*(){if(g.auth.currentUser===f)return;const I=[];try{for(const U of g.queue)yield U(f),U.onAbort&&I.push(U.onAbort)}catch(U){I.reverse();for(const te of I)try{te()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}class sr{constructor(f,g,I,U){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=I,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new si(this),this.idTokenSubscription=new si(this),this.beforeStateQueue=new fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(f,g){var I=this;return g&&(this._popupRedirectResolver=Mr(g)),this._initializationPromise=this.queue((0,m.Z)(function*(){var U,te;if(!I._deleted&&(I.persistenceManager=yield he.create(I,f),!I._deleted)){if(null!==(U=I._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(te=I.currentUser)||void 0===te?void 0:te.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,m.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,m.Z)(function*(){var I;const U=yield g.assertedPersistence.getCurrentUser();let te=U,Ie=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ze=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,It=te?._redirectEventId,Zt=yield g.tryRedirectSignIn(f);(!Ze||Ze===It)&&Zt?.user&&(te=Zt.user,Ie=!0)}if(!te)return g.directlySetCurrentUser(null);if(!te._redirectEventId){if(Ie)try{yield g.beforeStateQueue.runMiddleware(te)}catch(Ze){te=U,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ze))}return te?g.reloadAndSetCurrentUserOrClear(te):g.directlySetCurrentUser(null)}return ke(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===te._redirectEventId?g.directlySetCurrentUser(te):g.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(f){var g=this;return(0,m.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,m.Z)(function*(){try{yield Ot(f)}catch(I){if("auth/network-request-failed"!==I?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function vr(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var f=this;return(0,m.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,m.Z)(function*(){const I=f?(0,B.m9)(f):null;return I&&ke(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,m.Z)(function*(I,U=!1){if(!g._deleted)return I&&ke(g.tenantId===I.tenantId,g,"tenant-id-mismatch"),U||(yield g.beforeStateQueue.runMiddleware(I)),g.queue((0,m.Z)(function*(){yield g.directlySetCurrentUser(I),g.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var f=this;return(0,m.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,m.Z)(function*(){yield g.assertedPersistence.setPersistence(Mr(f))}))}initializeRecaptchaConfig(){var f=this;return(0,m.Z)(function*(){const g=yield st(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new jt(g);null==f.tenantId?f._agentRecaptchaConfig=I:f._tenantRecaptchaConfigs[f.tenantId]=I,I.emailPasswordEnabled&&new Yi(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,g,I){return this.registerStateListener(this.authStateSubscription,f,g,I)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,I){return this.registerStateListener(this.idTokenSubscription,f,g,I)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var I=this;return(0,m.Z)(function*(){const U=yield I.getOrInitRedirectPersistenceManager(g);return null===f?U.removeCurrentUser():U.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,m.Z)(function*(){if(!g.redirectPersistenceManager){const I=f&&Mr(f)||g._popupRedirectResolver;ke(I,g,"argument-error"),g.redirectPersistenceManager=yield he.create(g,[Mr(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,m.Z)(function*(){var I,U;return g._isInitialized&&(yield g.queue((0,m.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===f?g._currentUser:(null===(U=g.redirectUser)||void 0===U?void 0:U._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,m.Z)(function*(){if(f===g.currentUser)return g.queue((0,m.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,I,U){if(this._deleted)return()=>{};const te="function"==typeof g?g:g.next.bind(g),Ie=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(Ie,this,"internal-error"),Ie.then(()=>te(this.currentUser)),"function"==typeof g?f.addObserver(g,I,U):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,m.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,m.Z)(function*(){var g;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const U=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();U&&(I["X-Firebase-Client"]=U);const te=yield f._getAppCheckToken();return te&&(I["X-Firebase-AppCheck"]=te),I})()}_getAppCheckToken(){var f=this;return(0,m.Z)(function*(){var g;const I=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return I?.error&&function ct(T,...f){it.logLevel<=ve.in.WARN&&it.warn(`Auth (${C.SDK_VERSION}): ${T}`,...f)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Wn(T){return(0,B.m9)(T)}class si{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jn(T,f,g){const I=Wn(T);ke(I._canInitEmulator,I,"emulator-config-failed"),ke(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const U=!!g?.disableWarnings,te=Te(f),{host:Ie,port:Ze}=function we(T){const f=Te(T),g=/(\/\/)?([^?#/]+)/.exec(T.substr(f.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(I);if(U){const te=U[1];return{host:te,port:be(I.substr(te.length+1))}}{const[te,Ie]=I.split(":");return{host:te,port:be(Ie)}}}(f);I.config.emulator={url:`${te}//${Ie}${null===Ze?"":`:${Ze}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ie,port:Ze,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function rt(){function T(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Te(T){const f=T.indexOf(":");return f<0?"":T.substr(0,f+1)}function be(T){if(!T)return null;const f=Number(T);return isNaN(f)?null:f}class X{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return yt("not implemented")}_getIdTokenResponse(f){return yt("not implemented")}_linkToIdToken(f,g){return yt("not implemented")}_getReauthenticationResolver(f){return yt("not implemented")}}function de(T,f){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:resetPassword",_e(T,f))})).apply(this,arguments)}function at(T,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function In(){return(In=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:update",_e(T,f))})).apply(this,arguments)}function xn(T,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(T,f){return _t(T,"POST","/v1/accounts:signInWithPassword",_e(T,f))})).apply(this,arguments)}function Pn(T,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:sendOobCode",_e(T,f))})).apply(this,arguments)}function yi(){return(yi=(0,m.Z)(function*(T,f){return Pn(T,f)})).apply(this,arguments)}function Ti(T,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(T,f){return Pn(T,f)})).apply(this,arguments)}function Fi(T,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,m.Z)(function*(T,f){return Pn(T,f)})).apply(this,arguments)}function li(){return(li=(0,m.Z)(function*(T,f){return Pn(T,f)})).apply(this,arguments)}function xo(){return(xo=(0,m.Z)(function*(T,f){return _t(T,"POST","/v1/accounts:signInWithEmailLink",_e(T,f))})).apply(this,arguments)}function Li(){return(Li=(0,m.Z)(function*(T,f){return _t(T,"POST","/v1/accounts:signInWithEmailLink",_e(T,f))})).apply(this,arguments)}class Qr extends X{constructor(f,g,I,U=null){super("password",I),this._email=f,this._password=g,this._tenantId=U}static _fromEmailAndPassword(f,g){return new Qr(f,g,"password")}static _fromEmailAndCode(f,g,I=null){return new Qr(f,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,m.Z)(function*(){var I;switch(g.signInMethod){case"password":const U={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=f._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const te=yield Ir(f,U,"signInWithPassword");return xn(f,te)}return xn(f,U).catch(function(){var te=(0,m.Z)(function*(Ie){if("auth/missing-recaptcha-token"===Ie.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ze=yield Ir(f,U,"signInWithPassword");return xn(f,Ze)}return Promise.reject(Ie)});return function(Ie){return te.apply(this,arguments)}}());case"emailLink":return function _i(T,f){return xo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:je(f,"internal-error")}})()}_linkToIdToken(f,g){var I=this;return(0,m.Z)(function*(){switch(I.signInMethod){case"password":return at(f,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function ui(T,f){return Li.apply(this,arguments)}(f,{idToken:g,email:I._email,oobCode:I._password});default:je(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ji(T,f){return $o.apply(this,arguments)}function $o(){return($o=(0,m.Z)(function*(T,f){return _t(T,"POST","/v1/accounts:signInWithIdp",_e(T,f))})).apply(this,arguments)}class Di extends X{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Di(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):je("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:U}=g,te=(0,pe._T)(g,["providerId","signInMethod"]);if(!I||!U)return null;const Ie=new Di(I,U);return Ie.idToken=te.idToken||void 0,Ie.accessToken=te.accessToken||void 0,Ie.secret=te.secret,Ie.nonce=te.nonce,Ie.pendingToken=te.pendingToken||null,Ie}_getIdTokenResponse(f){return ji(f,this.buildRequest())}_linkToIdToken(f,g){const I=this.buildRequest();return I.idToken=g,ji(f,I)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,ji(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,B.xO)(g)}return f}}function Co(){return(Co=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:sendVerificationCode",_e(T,f))})).apply(this,arguments)}function Os(){return(Os=(0,m.Z)(function*(T,f){return _t(T,"POST","/v1/accounts:signInWithPhoneNumber",_e(T,f))})).apply(this,arguments)}function Rs(){return(Rs=(0,m.Z)(function*(T,f){const g=yield _t(T,"POST","/v1/accounts:signInWithPhoneNumber",_e(T,f));if(g.temporaryProof)throw wn(T,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Go={USER_NOT_FOUND:"user-not-found"};function bs(){return(bs=(0,m.Z)(function*(T,f){return _t(T,"POST","/v1/accounts:signInWithPhoneNumber",_e(T,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Go)})).apply(this,arguments)}class zo extends X{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new zo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new zo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ws(T,f){return Os.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function qs(T,f){return Rs.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Cs(T,f){return bs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:I,verificationCode:U}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:I,code:U}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:I,phoneNumber:U,temporaryProof:te}=f;return I||g||U||te?new zo({verificationId:g,verificationCode:I,phoneNumber:U,temporaryProof:te}):null}}class os{constructor(f){var g,I,U,te,Ie,Ze;const It=(0,B.zd)((0,B.pd)(f)),Zt=null!==(g=It.apiKey)&&void 0!==g?g:null,Nn=null!==(I=It.oobCode)&&void 0!==I?I:null,zn=function ja(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=It.mode)&&void 0!==U?U:null);ke(Zt&&Nn&&zn,"argument-error"),this.apiKey=Zt,this.operation=zn,this.code=Nn,this.continueUrl=null!==(te=It.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Ie=It.languageCode)&&void 0!==Ie?Ie:null,this.tenantId=null!==(Ze=It.tenantId)&&void 0!==Ze?Ze:null}static parseLink(f){const g=function Zs(T){const f=(0,B.zd)((0,B.pd)(T)).link,g=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(T)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||g||f||T}(f);try{return new os(g)}catch{return null}}}let aa=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(g,I){return Qr._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const U=os.parseLink(I);return ke(U,"argument-error"),Qr._fromEmailAndCode(g,U.code,U.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class $r{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class di extends $r{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class bi extends di{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ke("providerId"in g&&"signInMethod"in g,"argument-error"),Di._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ke(f.idToken||f.accessToken,"argument-error"),Di._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return bi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return bi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:U,pendingToken:te,nonce:Ie,providerId:Ze}=f;if(!I&&!U&&!g&&!te||!Ze)return null;try{return new bi(Ze)._credential({idToken:g,accessToken:I,nonce:Ie,pendingToken:te})}catch{return null}}}let eo=(()=>{class T extends di{constructor(){super("facebook.com")}static credential(g){return Di._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return T.credential(g.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),_r=(()=>{class T extends di{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return Di._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:U}=g;if(!I&&!U)return null;try{return T.credential(I,U)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),as=(()=>{class T extends di{constructor(){super("github.com")}static credential(g){return Di._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return T.credential(g.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class hi extends X{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return ji(f,this.buildRequest())}_linkToIdToken(f,g){const I=this.buildRequest();return I.idToken=g,ji(f,I)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,ji(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:U,pendingToken:te}=g;return I&&U&&te&&I===U?new hi(I,te):null}static _create(f,g){return new hi(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ss extends $r{constructor(f){ke(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ss.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ss.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=hi.fromJSON(f);return ke(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:I}=f;if(!g||!I)return null;try{return hi._create(I,g)}catch{return null}}}let ca=(()=>{class T extends di{constructor(){super("twitter.com")}static credential(g,I){return Di._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:U}=g;if(!I||!U)return null;try{return T.credential(I,U)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Ko(T,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,m.Z)(function*(T,f){return _t(T,"POST","/v1/accounts:signUp",_e(T,f))})).apply(this,arguments)}class Pr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,I){return(0,m.Z)(function*(U,te,Ie,Ze=!1){const It=yield Xn._fromIdTokenResponse(U,Ie,Ze),Zt=So(Ie);return new Pr({user:It,providerId:Zt,_tokenResponse:Ie,operationType:te})}).apply(this,arguments)}static _forOperation(f,g,I){return(0,m.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const U=So(I);return new Pr({user:f,providerId:U,_tokenResponse:I,operationType:g})})()}}function So(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Mi(T){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,m.Z)(function*(T){var f;const g=Wn(T);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Pr({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield Ko(g,{returnSecureToken:!0}),U=yield Pr._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(U.user),U})).apply(this,arguments)}class $i extends B.ZR{constructor(f,g,I,U){var te;super(g.code,g.message),this.operationType=I,this.user=U,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:f.name,tenantId:null!==(te=f.tenantId)&&void 0!==te?te:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,g,I,U){return new $i(f,g,I,U)}}function ri(T,f,g,I){return("reauthenticate"===f?g._getReauthenticationResolver(T):g._getIdTokenResponse(T)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?$i._fromErrorAndOperation(T,te,f,I):te})}function Wr(T){return new Set(T.map(({providerId:f})=>f).filter(f=>!!f))}function lo(T,f){return Es.apply(this,arguments)}function Es(){return Es=(0,m.Z)(function*(T,f){const g=(0,B.m9)(T);yield Er(!0,g,f);const{providerUserInfo:I}=yield function Cn(T,f){return En.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),U=Wr(I||[]);return g.providerData=g.providerData.filter(te=>U.has(te.providerId)),U.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Es.apply(this,arguments)}function Ao(T,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,m.Z)(function*(T,f,g=!1){const I=yield vn(T,f._linkToIdToken(T.auth,yield T.getIdToken()),g);return Pr._forOperation(T,"link",I)})).apply(this,arguments)}function Er(T,f,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,m.Z)(function*(T,f,g){yield Ot(f);const U=!1===T?"provider-already-linked":"no-such-provider";ke(Wr(f.providerData).has(g)===T,f.auth,U)})).apply(this,arguments)}function Eo(T,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,m.Z)(function*(T,f,g=!1){const{auth:I}=T,U="reauthenticate";try{const te=yield vn(T,ri(I,U,f,T),g);ke(te.idToken,I,"internal-error");const Ie=yr(te.idToken);ke(Ie,I,"internal-error");const{sub:Ze}=Ie;return ke(T.uid===Ze,I,"user-mismatch"),Pr._forOperation(T,U,te)}catch(te){throw"auth/user-not-found"===te?.code&&je(I,"user-mismatch"),te}})).apply(this,arguments)}function uo(T,f){return ko.apply(this,arguments)}function ko(){return(ko=(0,m.Z)(function*(T,f,g=!1){const I="signIn",U=yield ri(T,I,f),te=yield Pr._fromIdTokenResponse(T,I,U);return g||(yield T._updateCurrentUser(te.user)),te})).apply(this,arguments)}function ln(T,f){return To.apply(this,arguments)}function To(){return(To=(0,m.Z)(function*(T,f){return uo(Wn(T),f)})).apply(this,arguments)}function ho(T,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,m.Z)(function*(T,f){const g=(0,B.m9)(T);return yield Er(!1,g,f.providerId),Ao(g,f)})).apply(this,arguments)}function Ea(T,f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,m.Z)(function*(T,f){return Eo((0,B.m9)(T),f)})).apply(this,arguments)}function Ns(){return(Ns=(0,m.Z)(function*(T,f){return _t(T,"POST","/v1/accounts:signInWithCustomToken",_e(T,f))})).apply(this,arguments)}function Ta(T,f){return v.apply(this,arguments)}function v(){return v=(0,m.Z)(function*(T,f){const g=Wn(T),I=yield function la(T,f){return Ns.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),U=yield Pr._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(U.user),U}),v.apply(this,arguments)}class w{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?E._fromServerResponse(f,g):"totpInfo"in g?L._fromServerResponse(f,g):je(f,"internal-error")}}class E extends w{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new E(g)}}class L extends w{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new L(g)}}function ie(T,f,g){var I;ke((null===(I=g.url)||void 0===I?void 0:I.length)>0,T,"invalid-continue-uri"),ke(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ke(g.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ke(g.android.packageName.length>0,T,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Ke(T,f,g){return wt.apply(this,arguments)}function wt(){return wt=(0,m.Z)(function*(T,f,g){var I;const U=Wn(T),te={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=U._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ie=yield Ir(U,te,"getOobCode",!0);g&&ie(U,Ie,g),yield Ti(U,Ie)}else g&&ie(U,te,g),yield Ti(U,te).catch(function(){var Ie=(0,m.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const It=yield Ir(U,te,"getOobCode",!0);g&&ie(U,It,g),yield Ti(U,It)}});return function(Ze){return Ie.apply(this,arguments)}}())}),wt.apply(this,arguments)}function an(T,f,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,m.Z)(function*(T,f,g){yield de((0,B.m9)(T),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ar(T,f){return ir.apply(this,arguments)}function ir(){return ir=(0,m.Z)(function*(T,f){yield function pn(T,f){return In.apply(this,arguments)}((0,B.m9)(T),{oobCode:f})}),ir.apply(this,arguments)}function Un(T,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,m.Z)(function*(T,f){const g=(0,B.m9)(T),I=yield de(g,{oobCode:f}),U=I.requestType;switch(ke(U,g,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(I.mfaInfo,g,"internal-error");default:ke(I.email,g,"internal-error")}let te=null;return I.mfaInfo&&(te=w._fromServerResponse(Wn(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:te},operation:U}})).apply(this,arguments)}function Br(T,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,m.Z)(function*(T,f){const{data:g}=yield Un((0,B.m9)(T),f);return g.email})).apply(this,arguments)}function Ro(T,f,g){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,m.Z)(function*(T,f,g){var I;const U=Wn(T),te={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let Ie;if(null!==(I=U._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Zt=yield Ir(U,te,"signUpPassword");Ie=Ko(U,Zt)}else Ie=Ko(U,te).catch(function(){var Zt=(0,m.Z)(function*(Nn){if("auth/missing-recaptcha-token"===Nn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const zn=yield Ir(U,te,"signUpPassword");return Ko(U,zn)}return Promise.reject(Nn)});return function(Nn){return Zt.apply(this,arguments)}}());const Ze=yield Ie.catch(Zt=>Promise.reject(Zt)),It=yield Pr._fromIdTokenResponse(U,"signIn",Ze);return yield U._updateCurrentUser(It.user),It}),Wi.apply(this,arguments)}function ci(T,f,g){return ln((0,B.m9)(T),aa.credential(f,g))}function to(T,f,g){return No.apply(this,arguments)}function No(){return No=(0,m.Z)(function*(T,f,g){var I;const U=Wn(T),te={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function Ie(Ze,It){ke(It.handleCodeInApp,U,"argument-error"),It&&ie(U,Ze,It)}if(null!==(I=U._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ze=yield Ir(U,te,"getOobCode",!0);Ie(Ze,g),yield Fi(U,Ze)}else Ie(te,g),yield Fi(U,te).catch(function(){var Ze=(0,m.Z)(function*(It){if("auth/missing-recaptcha-token"!==It.code)return Promise.reject(It);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Zt=yield Ir(U,te,"getOobCode",!0);Ie(Zt,g),yield Fi(U,Zt)}});return function(It){return Ze.apply(this,arguments)}}())}),No.apply(this,arguments)}function xl(T,f){return"EMAIL_SIGNIN"===os.parseLink(f)?.operation}function xu(T,f,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,m.Z)(function*(T,f,g){const I=(0,B.m9)(T),U=aa.credentialWithLink(f,g||Mt());return ke(U._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ln(I,U)})).apply(this,arguments)}function Xs(){return(Xs=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:createAuthUri",_e(T,f))})).apply(this,arguments)}function hc(T,f){return Da.apply(this,arguments)}function Da(){return Da=(0,m.Z)(function*(T,f){const I={identifier:f,continueUri:Vt()?Mt():"http://localhost"},{signinMethods:U}=yield function cs(T,f){return Xs.apply(this,arguments)}((0,B.m9)(T),I);return U||[]}),Da.apply(this,arguments)}function Ma(T,f){return Js.apply(this,arguments)}function Js(){return Js=(0,m.Z)(function*(T,f){const g=(0,B.m9)(T),U={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};f&&ie(g.auth,U,f);const{email:te}=yield function ks(T,f){return yi.apply(this,arguments)}(g.auth,U);te!==T.email&&(yield T.reload())}),Js.apply(this,arguments)}function qc(T,f,g){return ea.apply(this,arguments)}function ea(){return ea=(0,m.Z)(function*(T,f,g){const I=(0,B.m9)(T),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:f};g&&ie(I.auth,te,g);const{email:Ie}=yield function Ks(T,f){return li.apply(this,arguments)}(I.auth,te);Ie!==T.email&&(yield T.reload())}),ea.apply(this,arguments)}function fc(){return(fc=(0,m.Z)(function*(T,f){return Ne(T,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function pc(T,f){return mc.apply(this,arguments)}function mc(){return mc=(0,m.Z)(function*(T,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const I=(0,B.m9)(T),te={idToken:yield I.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Ie=yield vn(I,function Zc(T,f){return fc.apply(this,arguments)}(I.auth,te));I.displayName=Ie.displayName||null,I.photoURL=Ie.photoUrl||null;const Ze=I.providerData.find(({providerId:It})=>"password"===It);Ze&&(Ze.displayName=I.displayName,Ze.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ie)}),mc.apply(this,arguments)}function zu(T,f){return ls((0,B.m9)(T),f,null)}function Ki(T,f){return ls((0,B.m9)(T),null,f)}function ls(T,f,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,m.Z)(function*(T,f,g){const{auth:I}=T,te={idToken:yield T.getIdToken(),returnSecureToken:!0};f&&(te.email=f),g&&(te.password=g);const Ie=yield vn(T,at(I,te));yield T._updateTokensIfNecessary(Ie,!0)})).apply(this,arguments)}class Fs{constructor(f,g,I={}){this.isNewUser=f,this.providerId=g,this.profile=I}}class Zo extends Fs{constructor(f,g,I,U){super(f,g,I),this.username=U}}class zl extends Fs{constructor(f,g){super(f,"facebook.com",g)}}class Al extends Zo{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Qc extends Fs{constructor(f,g){super(f,"google.com",g)}}class ta extends Zo{constructor(f,g,I){super(f,"twitter.com",g,I)}}function $a(T){const{user:f,_tokenResponse:g}=T;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function gc(T){var f,g;if(!T)return null;const{providerId:I}=T,U=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},te=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!I&&T?.idToken){const Ie=null===(g=null===(f=yr(T.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ie)return new Fs(te,"anonymous"!==Ie&&"custom"!==Ie?Ie:null)}if(!I)return null;switch(I){case"facebook.com":return new zl(te,U);case"github.com":return new Al(te,U);case"google.com":return new Qc(te,U);case"twitter.com":return new ta(te,U,T.screenName||null);case"custom":case"anonymous":return new Fs(te,null);default:return new Fs(te,I,U)}}(g)}class pr{constructor(f,g,I){this.type=f,this.credential=g,this.auth=I}static _fromIdtoken(f,g){return new pr("enroll",f,g)}static _fromMfaPendingCredential(f){return new pr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,I;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return pr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return pr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class mr{constructor(f,g,I){this.session=f,this.hints=g,this.signInResolver=I}static _fromError(f,g){const I=Wn(f),U=g.customData._serverResponse,te=(U.mfaInfo||[]).map(Ze=>w._fromServerResponse(I,Ze));ke(U.mfaPendingCredential,I,"internal-error");const Ie=pr._fromMfaPendingCredential(U.mfaPendingCredential);return new mr(Ie,te,function(){var Ze=(0,m.Z)(function*(It){const Zt=yield It._process(I,Ie);delete U.mfaInfo,delete U.mfaPendingCredential;const Nn=Object.assign(Object.assign({},U),{idToken:Zt.idToken,refreshToken:Zt.refreshToken});switch(g.operationType){case"signIn":const zn=yield Pr._fromIdTokenResponse(I,g.operationType,Nn);return yield I._updateCurrentUser(zn.user),zn;case"reauthenticate":return ke(g.user,I,"internal-error"),Pr._forOperation(g.user,g.operationType,Nn);default:je(I,"internal-error")}});return function(It){return Ze.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,m.Z)(function*(){return g.signInResolver(f)})()}}function Kn(T,f){var g;const I=(0,B.m9)(T),U=f;return ke(f.customData.operationType,I,"argument-error"),ke(null===(g=U.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),mr._fromError(I,U)}class Fo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>w._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new Fo(f)}getSession(){var f=this;return(0,m.Z)(function*(){return pr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var I=this;return(0,m.Z)(function*(){const U=f,te=yield I.getSession(),Ie=yield vn(I.user,U._process(I.user.auth,te,g));return yield I.user._updateTokensIfNecessary(Ie),I.user.reload()})()}unenroll(f){var g=this;return(0,m.Z)(function*(){const I="string"==typeof f?f:f.uid,U=yield g.user.getIdToken();try{const te=yield vn(g.user,function fo(T,f){return Ne(T,"POST","/v2/accounts/mfaEnrollment:withdraw",_e(T,f))}(g.user.auth,{idToken:U,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ie})=>Ie!==I),yield g.user._updateTokensIfNecessary(te),yield g.user.reload()}catch(te){throw te}})()}}const Vi=new WeakMap;function Qo(T){const f=(0,B.m9)(T);return Vi.has(f)||Vi.set(f,Fo._fromUser(f)),Vi.get(f)}const Lo="__sak";class Vo{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Lo,"1"),this.storage.removeItem(Lo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ka=(()=>{class T extends Vo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wa(){const T=(0,B.z$)();return ee(T)||ne(T)}()&&function Yt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ft(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const U=this.storage.getItem(I),te=this.localCache[I];U!==te&&g(I,te,U)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((Ze,It,Zt)=>{this.notifyListeners(Ze,Zt)});const U=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ze=this.storage.getItem(U);if(g.newValue!==Ze)null!==g.newValue?this.storage.setItem(U,g.newValue):this.storage.removeItem(U);else if(this.localCache[U]===g.newValue&&!I)return}const te=()=>{const Ze=this.storage.getItem(U);!I&&this.localCache[U]===Ze||this.notifyListeners(U,Ze)},Ie=this.storage.getItem(U);!function ot(){return(0,B.w1)()&&10===document.documentMode}()||Ie===g.newValue||g.newValue===g.oldValue?te():setTimeout(te,10)}notifyListeners(g,I){this.localCache[g]=I;const U=this.listeners[g];if(U)for(const te of Array.from(U))te(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var U=()=>super._set,te=this;return(0,m.Z)(function*(){yield U().call(te,g,I),te.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,U=this;return(0,m.Z)(function*(){const te=yield I().call(U,g);return U.localCache[g]=JSON.stringify(te),te})()}_remove(g){var I=()=>super._remove,U=this;return(0,m.Z)(function*(){yield I().call(U,g),delete U.localCache[g]})()}}return T.type="LOCAL",T})(),ds=(()=>{class T extends Vo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return T.type="SESSION",T})();let Xc=(()=>{class T{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(te=>te.isListeningto(g));if(I)return I;const U=new T(g);return this.receivers.push(U),U}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,m.Z)(function*(){const U=g,{eventId:te,eventType:Ie,data:Ze}=U.data,It=I.handlersMap[Ie];if(!It?.size)return;U.ports[0].postMessage({status:"ack",eventId:te,eventType:Ie});const Zt=Array.from(It).map(function(){var zn=(0,m.Z)(function*(ii){return ii(U.origin,Ze)});return function(ii){return zn.apply(this,arguments)}}()),Nn=yield function kl(T){return Promise.all(T.map(function(){var f=(0,m.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return f.apply(this,arguments)}}()))}(Zt);U.ports[0].postMessage({status:"done",eventId:te,eventType:Ie,response:Nn})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Ia(T="",f=10){let g="";for(let I=0;I<f;I++)g+=Math.floor(10*Math.random());return T+g}class Pu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g){var I=this;return(0,m.Z)(function*(U,te,Ie=50){const Ze=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ze)throw new Error("connection_unavailable");let It,Zt;return new Promise((Nn,zn)=>{const ii=Ia("",20);Ze.port1.start();const ra=setTimeout(()=>{zn(new Error("unsupported_event"))},Ie);Zt={messageChannel:Ze,onMessage(ll){const Gl=ll;if(Gl.data.eventId===ii)switch(Gl.data.status){case"ack":clearTimeout(ra),It=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(It),Nn(Gl.data.response);break;default:clearTimeout(ra),clearTimeout(It),zn(new Error("invalid_response"))}}},I.handlers.add(Zt),Ze.port1.addEventListener("message",Zt.onMessage),I.target.postMessage({eventType:U,eventId:ii,data:te},[Ze.port2])}).finally(()=>{Zt&&I.removeMessageHandler(Zt)})}).apply(this,arguments)}}function Ci(){return window}function Ol(){return typeof Ci().WorkerGlobalScope<"u"&&"function"==typeof Ci().importScripts}function el(){return(el=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cd="firebaseLocalStorageDb",Nl=1,Ls="firebaseLocalStorage",tl="fbase_key";class xa{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function no(T,f){return T.transaction([Ls],f?"readwrite":"readonly").objectStore(Ls)}function ua(){const T=indexedDB.open(cd,Nl);return new Promise((f,g)=>{T.addEventListener("error",()=>{g(T.error)}),T.addEventListener("upgradeneeded",()=>{const I=T.result;try{I.createObjectStore(Ls,{keyPath:tl})}catch(U){g(U)}}),T.addEventListener("success",(0,m.Z)(function*(){const I=T.result;I.objectStoreNames.contains(Ls)?f(I):(I.close(),yield function qa(){const T=indexedDB.deleteDatabase(cd);return new xa(T).toPromise()}(),f(yield ua()))}))})}function Ou(T,f,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,m.Z)(function*(T,f,g){const I=no(T,!0).put({[tl]:f,value:g});return new xa(I).toPromise()})).apply(this,arguments)}function Qa(){return(Qa=(0,m.Z)(function*(T,f){const g=no(T,!1).get(f),I=yield new xa(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function nl(T,f){const g=no(T,!0).delete(f);return new xa(g).toPromise()}const rl=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,m.Z)(function*(){return g.db||(g.db=yield ua()),g.db})()}_withRetries(g){var I=this;return(0,m.Z)(function*(){let U=0;for(;;)try{const te=yield I._openDb();return yield g(te)}catch(te){if(U++>3)throw te;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,m.Z)(function*(){return Ol()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,m.Z)(function*(){g.receiver=Xc._getInstance(function Rl(){return Ol()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,m.Z)(function*(U,te){return{keyProcessed:(yield g._poll()).includes(te.key)}});return function(U,te){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,m.Z)(function*(U,te){return["keyChanged"]});return function(U,te){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,m.Z)(function*(){var I,U;if(g.activeServiceWorker=yield function Jc(){return el.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Pu(g.activeServiceWorker);const te=yield g.sender._send("ping",{},800);te&&null!==(I=te[0])&&void 0!==I&&I.fulfilled&&null!==(U=te[0])&&void 0!==U&&U.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,m.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function ku(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ua();return yield Ou(g,Lo,"1"),yield nl(g,Lo),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,m.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var U=this;return(0,m.Z)(function*(){return U._withPendingWrite((0,m.Z)(function*(){return yield U._withRetries(te=>Ou(te,g,I)),U.localCache[g]=I,U.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,m.Z)(function*(){const U=yield I._withRetries(te=>function na(T,f){return Qa.apply(this,arguments)}(te,g));return I.localCache[g]=U,U})()}_remove(g){var I=this;return(0,m.Z)(function*(){return I._withPendingWrite((0,m.Z)(function*(){return yield I._withRetries(U=>nl(U,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,m.Z)(function*(){const I=yield g._withRetries(Ie=>{const Ze=no(Ie,!1).getAll();return new xa(Ze).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const U=[],te=new Set;for(const{fbase_key:Ie,value:Ze}of I)te.add(Ie),JSON.stringify(g.localCache[Ie])!==JSON.stringify(Ze)&&(g.notifyListeners(Ie,Ze),U.push(Ie));for(const Ie of Object.keys(g.localCache))g.localCache[Ie]&&!te.has(Ie)&&(g.notifyListeners(Ie,null),U.push(Ie));return U})()}notifyListeners(g,I){this.localCache[g]=I;const U=this.listeners[g];if(U)for(const te of Array.from(U))te(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),Fl=1e12;class t3{constructor(f){this.auth=f,this.counter=Fl,this._widgets=new Map}render(f,g){const I=this.counter;return this._widgets.set(I,new n3(f,this.auth.name,g||{})),this.counter++,I}reset(f){var g;const I=f||Fl;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Fl))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,m.Z)(function*(){var I;return null===(I=g._widgets.get(f||Fl))||void 0===I||I.execute(),""})()}}class n3{constructor(f,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof f?document.getElementById(f):f;ke(U,"argument-error",{appName:g}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function r3(T){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<T;I++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ec=Mn("rcb"),o3=new zr(3e4,6e4);class Cc{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Ci().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ke(function s4(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Ft(Ci().grecaptcha)?Promise.resolve(Ci().grecaptcha):new Promise((I,U)=>{const te=Ci().setTimeout(()=>{U(Le(f,"network-request-failed"))},o3.get());Ci()[ec]=()=>{Ci().clearTimeout(te),delete Ci()[ec];const Ze=Ci().grecaptcha;if(!Ze||!Ft(Ze))return void U(Le(f,"internal-error"));const It=Ze.render;Ze.render=(Zt,Nn)=>{const zn=It(Zt,Nn);return this.counter++,zn},this.hostLanguage=g,I(Ze)},Dn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ec,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(te),U(Le(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Ci().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dd{load(f){return(0,m.Z)(function*(){return new t3(f)})()}clearedOneInstance(){}}const Ii="recaptcha",Ll={theme:"light",type:"image"};class bc{constructor(f,g=Object.assign({},Ll),I){this.parameters=g,this.type=Ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(I),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof f?document.getElementById(f):f;ke(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dd:new Cc,this.validateStartingState()}verify(){var f=this;return(0,m.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(g)||new Promise(te=>{const Ie=Ze=>{Ze&&(f.tokenChangeListeners.delete(Ie),te(Ze))};f.tokenChangeListeners.add(Ie),f.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof f)f(g);else if("string"==typeof f){const I=Ci()[f];"function"==typeof I&&I(g)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,m.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,m.Z)(function*(){ke(Vt()&&!Ol(),f.auth,"internal-error"),yield function hd(){let T=null;return new Promise(f=>{"complete"!==document.readyState?(T=()=>f(),window.addEventListener("load",T)):f()}).catch(f=>{throw T&&window.removeEventListener("load",T),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Oe(T){return xe.apply(this,arguments)}(f.auth);ke(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ho{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=zo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function da(T,f,g){return il.apply(this,arguments)}function il(){return(il=(0,m.Z)(function*(T,f,g){const I=Wn(T),U=yield z(I,f,(0,B.m9)(g));return new Ho(U,te=>ln(I,te))})).apply(this,arguments)}function Vl(T,f,g){return S.apply(this,arguments)}function S(){return(S=(0,m.Z)(function*(T,f,g){const I=(0,B.m9)(T);yield Er(!1,I,"phone");const U=yield z(I.auth,f,(0,B.m9)(g));return new Ho(U,te=>ho(I,te))})).apply(this,arguments)}function D(T,f,g){return _.apply(this,arguments)}function _(){return(_=(0,m.Z)(function*(T,f,g){const I=(0,B.m9)(T),U=yield z(I.auth,f,(0,B.m9)(g));return new Ho(U,te=>Ea(I,te))})).apply(this,arguments)}function z(T,f,g){return F.apply(this,arguments)}function F(){return F=(0,m.Z)(function*(T,f,g){var I;const U=yield g.verify();try{let te;if(ke("string"==typeof U,T,"argument-error"),ke(g.type===Ii,T,"argument-error"),te="string"==typeof f?{phoneNumber:f}:f,"session"in te){const Ie=te.session;if("phoneNumber"in te)return ke("enroll"===Ie.type,T,"internal-error"),(yield function pi(T,f){return Ne(T,"POST","/v2/accounts/mfaEnrollment:start",_e(T,f))}(T,{idToken:Ie.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{ke("signin"===Ie.type,T,"internal-error");const Ze=(null===(I=te.multiFactorHint)||void 0===I?void 0:I.uid)||te.multiFactorUid;return ke(Ze,T,"missing-multi-factor-info"),(yield function wc(T,f){return Ne(T,"POST","/v2/accounts/mfaSignIn:start",_e(T,f))}(T,{mfaPendingCredential:Ie.credential,mfaEnrollmentId:Ze,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ie}=yield function ai(T,f){return Co.apply(this,arguments)}(T,{phoneNumber:te.phoneNumber,recaptchaToken:U});return Ie}}finally{g._reset()}}),F.apply(this,arguments)}function G(T,f){return J.apply(this,arguments)}function J(){return(J=(0,m.Z)(function*(T,f){yield Ao((0,B.m9)(T),f)})).apply(this,arguments)}let ze=(()=>{class T{constructor(g){this.providerId=T.PROVIDER_ID,this.auth=Wn(g)}verifyPhoneNumber(g,I){return z(this.auth,g,(0,B.m9)(I))}static credential(g,I){return zo._fromVerification(g,I)}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:U}=g;return I&&U?zo._fromTokenResponse(I,U):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function lt(T,f){return f?Mr(f):(ke(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Bt extends X{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ji(f,this._buildIdpRequest())}_linkToIdToken(f,g){return ji(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return ji(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Jt(T){return uo(T.auth,new Bt(T),T.bypassAuthState)}function Or(T){const{auth:f,user:g}=T;return ke(g,f,"internal-error"),Eo(g,new Bt(T),T.bypassAuthState)}function qi(T){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,m.Z)(function*(T){const{auth:f,user:g}=T;return ke(g,f,"internal-error"),Ao(g,new Bt(T),T.bypassAuthState)})).apply(this,arguments)}class Hs{constructor(f,g,I,U,te=!1){this.auth=f,this.resolver=I,this.user=U,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,m.Z)(function*(I,U){f.pendingPromise={resolve:I,reject:U};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(te){f.reject(te)}});return function(I,U){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,m.Z)(function*(){const{urlResponse:I,sessionId:U,postBody:te,tenantId:Ie,error:Ze,type:It}=f;if(Ze)return void g.reject(Ze);const Zt={auth:g.auth,requestUri:I,sessionId:U,tenantId:Ie||void 0,postBody:te||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(It)(Zt))}catch(Nn){g.reject(Nn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Jt;case"linkViaPopup":case"linkViaRedirect":return qi;case"reauthViaPopup":case"reauthViaRedirect":return Or;default:je(this.auth,"internal-error")}}resolve(f){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const za=new zr(2e3,1e4);function Xo(T,f,g){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,m.Z)(function*(T,f,g){const I=Wn(T);gt(T,f,$r);const U=lt(I,g);return new fd(I,"signInViaPopup",f,U).executeNotNull()})).apply(this,arguments)}function tc(T,f,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,m.Z)(function*(T,f,g){const I=(0,B.m9)(T);gt(I.auth,f,$r);const U=lt(I.auth,g);return new fd(I.auth,"reauthViaPopup",f,U,I).executeNotNull()})).apply(this,arguments)}function a4(T,f,g){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,m.Z)(function*(T,f,g){const I=(0,B.m9)(T);gt(I.auth,f,$r);const U=lt(I.auth,g);return new fd(I.auth,"linkViaPopup",f,U,I).executeNotNull()})).apply(this,arguments)}let fd=(()=>{class T extends Hs{constructor(g,I,U,te,Ie){super(g,I,te,Ie),this.provider=U,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var g=this;return(0,m.Z)(function*(){const I=yield g.execute();return ke(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,m.Z)(function*(){Ut(1===g.filter.length,"Popup operations only handle one event");const I=Ia();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(U=>{g.reject(U)}),g.resolver._isIframeWebStorageSupported(g.auth,U=>{U||g.reject(Le(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,U;this.pollId=null!==(U=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,za.get())};g()}}return T.currentPopupAction=null,T})();const c4="pendingRedirect",Pa=new Map;class Ru extends Hs{constructor(f,g,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,m.Z)(function*(){let I=Pa.get(g.auth._key());if(!I){try{const te=(yield function l4(T,f){return pd.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;I=()=>Promise.resolve(te)}catch(U){I=()=>Promise.reject(U)}Pa.set(g.auth._key(),I)}return g.bypassAuthState||Pa.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,I=this;return(0,m.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(I,f);if("unknown"!==f.type){if(f.eventId){const U=yield I.auth._redirectUserForId(f.eventId);if(U)return I.user=U,g().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function pd(){return(pd=(0,m.Z)(function*(T,f){const g=gd(f),I=d4(T);if(!(yield I._isAvailable()))return!1;const U="true"===(yield I._get(g));return yield I._remove(g),U})).apply(this,arguments)}function md(T,f){return nc.apply(this,arguments)}function nc(){return(nc=(0,m.Z)(function*(T,f){return d4(T)._set(gd(f),"true")})).apply(this,arguments)}function Hl(){Pa.clear()}function u4(T,f){Pa.set(T._key(),f)}function d4(T){return Mr(T._redirectPersistence)}function gd(T){return br(c4,T.config.apiKey,T.name)}function s3(T,f,g){return function Jp(T,f,g){return vd.apply(this,arguments)}(T,f,g)}function vd(){return(vd=(0,m.Z)(function*(T,f,g){const I=Wn(T);gt(T,f,$r),yield I._initializationPromise;const U=lt(I,g);return yield md(U,I),U._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function a3(T,f,g){return function c3(T,f,g){return ol.apply(this,arguments)}(T,f,g)}function ol(){return(ol=(0,m.Z)(function*(T,f,g){const I=(0,B.m9)(T);gt(I.auth,f,$r),yield I.auth._initializationPromise;const U=lt(I.auth,g);yield md(U,I.auth);const te=yield p4(I);return U._openRedirect(I.auth,f,"reauthViaRedirect",te)})).apply(this,arguments)}function h4(T,f,g){return function f4(T,f,g){return Bl.apply(this,arguments)}(T,f,g)}function Bl(){return(Bl=(0,m.Z)(function*(T,f,g){const I=(0,B.m9)(T);gt(I.auth,f,$r),yield I.auth._initializationPromise;const U=lt(I.auth,g);yield Er(!1,I,f.providerId),yield md(U,I.auth);const te=yield p4(I);return U._openRedirect(I.auth,f,"linkViaRedirect",te)})).apply(this,arguments)}function em(T,f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,m.Z)(function*(T,f){return yield Wn(T)._initializationPromise,yd(T,f,!1)})).apply(this,arguments)}function yd(T,f){return _d.apply(this,arguments)}function _d(){return(_d=(0,m.Z)(function*(T,f,g=!1){const I=Wn(T),U=lt(I,f),Ie=yield new Ru(I,U,g).execute();return Ie&&!g&&(delete Ie.user._redirectEventId,yield I._persistUserIfCurrent(Ie.user),yield I._setRedirectUser(null,f)),Ie})).apply(this,arguments)}function p4(T){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,m.Z)(function*(T){const f=Ia(`${T.uid}:::`);return T._redirectEventId=f,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),f})).apply(this,arguments)}class l3{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(g=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function nm(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u3(T);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var I;if(f.error&&!u3(f)){const U=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(Le(this.auth,U))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const I=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yl(f))}saveEventToCache(f){this.cachedEventUids.add(Yl(f)),this.lastProcessedEventTime=Date.now()}}function Yl(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(f=>f).join("-")}function u3({type:T,error:f}){return"unknown"===T&&"auth/no-auth-event"===f?.code}function m4(T){return g4.apply(this,arguments)}function g4(){return(g4=(0,m.Z)(function*(T,f={}){return Ne(T,"GET","/v1/projects",f)})).apply(this,arguments)}const rm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;function sl(){return(sl=(0,m.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:f}=yield m4(T);for(const g of f)try{if(y4(g))return}catch{}je(T,"unauthorized-domain")})).apply(this,arguments)}function y4(T){const f=Mt(),{protocol:g,hostname:I}=new URL(f);if(T.startsWith("chrome-extension://")){const Ie=new URL(T);return""===Ie.hostname&&""===I?"chrome-extension:"===g&&T.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Ie.hostname===I}if(!d3.test(g))return!1;if(rm.test(T))return I===T;const U=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(I)}const _4=new zr(3e4,6e4);function wd(){const T=Ci().___jsl;if(T?.H)for(const f of Object.keys(T.H))if(T.H[f].r=T.H[f].r||[],T.H[f].L=T.H[f].L||[],T.H[f].r=[...T.H[f].L],T.CP)for(let g=0;g<T.CP.length;g++)T.CP[g]=null}let Fu=null;const f3=new zr(5e3,15e3),w4="__/auth/iframe",Lu="emulator/auth/iframe",C4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b4(T){const f=T.config;ke(f.authDomain,T,"auth-domain-config-required");const g=f.emulator?Lr(f,Lu):`https://${T.config.authDomain}/${w4}`,I={apiKey:f.apiKey,appName:T.name,v:C.SDK_VERSION},U=p3.get(T.config.apiHost);U&&(I.eid=U);const te=T._getFrameworks();return te.length&&(I.fw=te.join(",")),`${g}?${(0,B.xO)(I).slice(1)}`}function Cd(){return Cd=(0,m.Z)(function*(T){const f=yield function h3(T){return Fu=Fu||function ha(T){return new Promise((f,g)=>{var I,U,te;function Ie(){wd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{wd(),g(Le(T,"network-request-failed"))},timeout:_4.get()})}if(null!==(U=null===(I=Ci().gapi)||void 0===I?void 0:I.iframes)&&void 0!==U&&U.Iframe)f(gapi.iframes.getContext());else{if(null===(te=Ci().gapi)||void 0===te||!te.load){const Ze=Mn("iframefcb");return Ci()[Ze]=()=>{gapi.load?Ie():g(Le(T,"network-request-failed"))},Dn(`https://apis.google.com/js/api.js?onload=${Ze}`).catch(It=>g(It))}Ie()}}).catch(f=>{throw Fu=null,f})}(T),Fu}(T),g=Ci().gapi;return ke(g,T,"internal-error"),f.open({where:document.body,url:b4(T),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C4,dontclear:!0},I=>new Promise(function(){var U=(0,m.Z)(function*(te,Ie){yield I.restyle({setHideOnLeave:!1});const Ze=Le(T,"network-request-failed"),It=Ci().setTimeout(()=>{Ie(Ze)},f3.get());function Zt(){Ci().clearTimeout(It),te(I)}I.ping(Zt).then(Zt,()=>{Ie(Ze)})});return function(te,Ie){return U.apply(this,arguments)}}()))}),Cd.apply(this,arguments)}const m3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hs=500,bd=600,E4="_blank",Sd="http://localhost";class Do{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const D4="__/auth/handler",g3="emulator/auth/handler",M4=encodeURIComponent("fac");function Ed(T,f,g,I,U,te){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,m.Z)(function*(T,f,g,I,U,te){ke(T.config.authDomain,T,"auth-domain-config-required"),ke(T.config.apiKey,T,"invalid-api-key");const Ie={apiKey:T.config.apiKey,appName:T.name,authType:g,redirectUrl:I,v:C.SDK_VERSION,eventId:U};if(f instanceof $r){f.setDefaultLanguage(T.languageCode),Ie.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(Ie.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Nn,zn]of Object.entries(te||{}))Ie[Nn]=zn}if(f instanceof di){const Nn=f.getScopes().filter(zn=>""!==zn);Nn.length>0&&(Ie.scopes=Nn.join(","))}T.tenantId&&(Ie.tid=T.tenantId);const Ze=Ie;for(const Nn of Object.keys(Ze))void 0===Ze[Nn]&&delete Ze[Nn];const It=yield T._getAppCheckToken(),Zt=It?`#${M4}=${encodeURIComponent(It)}`:"";return`${function v3({config:T}){return T.emulator?Lr(T,g3):`https://${T.authDomain}/${D4}`}(T)}?${(0,B.xO)(Ze).slice(1)}${Zt}`})).apply(this,arguments)}const Hu="webStorageSupport",I4=class y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=yd,this._overrideRedirectResult=u4}_openPopup(f,g,I,U){var te=this;return(0,m.Z)(function*(){var Ie;Ut(null===(Ie=te.eventManagers[f._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const Ze=yield Ed(f,g,I,Mt(),U);return function jl(T,f,g,I=hs,U=bd){const te=Math.max((window.screen.availHeight-U)/2,0).toString(),Ie=Math.max((window.screen.availWidth-I)/2,0).toString();let Ze="";const It=Object.assign(Object.assign({},m3),{width:I.toString(),height:U.toString(),top:te,left:Ie}),Zt=(0,B.z$)().toLowerCase();g&&(Ze=W(Zt)?E4:g),Q(Zt)&&(f=f||Sd,It.scrollbars="yes");const Nn=Object.entries(It).reduce((ii,[ra,ll])=>`${ii}${ra}=${ll},`,"");if(function Me(T=(0,B.z$)()){var f;return ne(T)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Zt)&&"_self"!==Ze)return function T4(T,f){const g=document.createElement("a");g.href=T,g.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(f||"",Ze),new Do(null);const zn=window.open(f||"",Ze,Nn);ke(zn,T,"popup-blocked");try{zn.focus()}catch{}return new Do(zn)}(f,Ze,Ia())})()}_openRedirect(f,g,I,U){var te=this;return(0,m.Z)(function*(){return yield te._originValidation(f),function po(T){Ci().location.href=T}(yield Ed(f,g,I,Mt(),U)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:U,promise:te}=this.eventManagers[g];return U?Promise.resolve(U):(Ut(te,"If manager is not set, promise should be"),te)}const I=this.initAndGetManager(f);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(f){var g=this;return(0,m.Z)(function*(){const I=yield function S4(T){return Cd.apply(this,arguments)}(f),U=new l3(f);return I.register("authEvent",te=>(ke(te?.authEvent,f,"invalid-auth-event"),{status:U.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:U},g.iframes[f._key()]=I,U})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Hu,{type:Hu},U=>{var te;const Ie=null===(te=U?.[0])||void 0===te?void 0:te[Hu];void 0!==Ie&&g(!!Ie),je(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function v4(T){return sl.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ft()||ee()||ne()}};class Td{constructor(f){this.factorId=f}_process(f,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,I);case"signin":return this._finalizeSignIn(f,g.credential);default:return yt("unexpected MultiFactorSessionType")}}}class $l extends Td{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new $l(f)}_finalizeEnroll(f,g,I){return function gr(T,f){return Ne(T,"POST","/v2/accounts/mfaEnrollment:finalize",_e(T,f))}(f,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Ja(T,f){return Ne(T,"POST","/v2/accounts/mfaSignIn:finalize",_e(T,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _3=(()=>{class T{constructor(){}static assertion(g){return $l._fromCredential(g)}}return T.FACTOR_ID="phone",T})();var Uu="@firebase/auth";class cl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,m.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(I=>{f(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zd=(0,B.Pz)("authIdTokenMaxAge")||300;let z4=null;const A4=T=>function(){var f=(0,m.Z)(function*(g){const I=g&&(yield g.getIdTokenResult()),U=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(U&&U>zd)return;const te=I?.token;z4!==te&&(z4=te,yield fetch(T,{method:te?"POST":"DELETE",headers:te?{Authorization:`Bearer ${te}`}:{}}))});return function(g){return f.apply(this,arguments)}}();function C3(T=(0,C.getApp)()){const f=(0,C._getProvider)(T,"auth");if(f.isInitialized())return f.getImmediate();const g=function Vr(T,f){const g=(0,C._getProvider)(T,"auth");if(g.isInitialized()){const U=g.getImmediate(),te=g.getOptions();if((0,B.vZ)(te,f??{}))return U;je(U,"already-initialized")}return g.initialize({options:f})}(T,{popupRedirectResolver:I4,persistence:[rl,Ka,ds]}),I=(0,B.Pz)("authTokenSyncURL");if(I){const te=A4(I);(function O(T,f,g){(0,B.m9)(T).beforeAuthStateChanged(f,g)})(g,te,()=>te(g.currentUser)),function H(T,f,g,I){(0,B.m9)(T).onIdTokenChanged(f,g,I)}(g,Ie=>te(Ie))}const U=(0,B.q4)("auth");return U&&jn(g,`http://${U}`),g}!function xd(T){(0,C._registerComponent)(new Se.wA("auth",(f,{options:g})=>{const I=f.getProvider("app").getImmediate(),U=f.getProvider("heartbeat"),te=f.getProvider("app-check-internal"),{apiKey:Ie,authDomain:Ze}=I.options;ke(Ie&&!Ie.includes(":"),"invalid-api-key",{appName:I.name});const It={apiKey:Ie,authDomain:Ze,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tn(T)},Zt=new sr(I,U,te,It);return function ti(T,f){const g=f?.persistence||[],I=(Array.isArray(g)?g:[g]).map(Mr);f?.errorMap&&T._updateErrorMap(f.errorMap),T._initializeWithPersistence(I,f?.popupRedirectResolver)}(Zt,g),Zt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,I)=>{f.getProvider("auth-internal").initialize()})),(0,C._registerComponent)(new Se.wA("auth-internal",f=>{const g=Wn(f.getProvider("auth").getImmediate());return new cl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,C.registerVersion)(Uu,"0.23.2",function Id(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,C.registerVersion)(Uu,"0.23.2","esm2017")}("Browser")},2090:(At,He,N)=>{N.d(He,{$s:()=>Mr,BH:()=>Xe,G6:()=>Lr,L:()=>Fe,LL:()=>We,Pz:()=>Le,Sg:()=>gt,UG:()=>yt,US:()=>Se,ZB:()=>ye,ZR:()=>Ne,aH:()=>je,b$:()=>Vt,eu:()=>wr,hl:()=>jr,jU:()=>Ut,m9:()=>br,ne:()=>vn,pd:()=>yr,q4:()=>ct,r3:()=>Cn,ru:()=>Mt,tV:()=>ue,uI:()=>ke,vZ:()=>Et,w1:()=>Zr,xO:()=>tr,xb:()=>cr,z$:()=>tt,zI:()=>Re,zd:()=>hr});const pe=function(he){const ae=[];let Q=0;for(let ee=0;ee<he.length;ee++){let W=he.charCodeAt(ee);W<128?ae[Q++]=W:W<2048?(ae[Q++]=W>>6|192,ae[Q++]=63&W|128):55296==(64512&W)&&ee+1<he.length&&56320==(64512&he.charCodeAt(ee+1))?(W=65536+((1023&W)<<10)+(1023&he.charCodeAt(++ee)),ae[Q++]=W>>18|240,ae[Q++]=W>>12&63|128,ae[Q++]=W>>6&63|128,ae[Q++]=63&W|128):(ae[Q++]=W>>12|224,ae[Q++]=W>>6&63|128,ae[Q++]=63&W|128)}return ae},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(he,ae){if(!Array.isArray(he))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[];for(let W=0;W<he.length;W+=3){const me=he[W],re=W+1<he.length,j=re?he[W+1]:0,Y=W+2<he.length,ne=Y?he[W+2]:0;let ot=(15&j)<<2|ne>>6,ft=63&ne;Y||(ft=64,re||(ot=64)),ee.push(Q[me>>2],Q[(3&me)<<4|j>>4],Q[ot],Q[ft])}return ee.join("")},encodeString(he,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(he):this.encodeByteArray(pe(he),ae)},decodeString(he,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(he):function(he){const ae=[];let Q=0,ee=0;for(;Q<he.length;){const W=he[Q++];if(W<128)ae[ee++]=String.fromCharCode(W);else if(W>191&&W<224){const me=he[Q++];ae[ee++]=String.fromCharCode((31&W)<<6|63&me)}else if(W>239&&W<365){const Y=((7&W)<<18|(63&he[Q++])<<12|(63&he[Q++])<<6|63&he[Q++])-65536;ae[ee++]=String.fromCharCode(55296+(Y>>10)),ae[ee++]=String.fromCharCode(56320+(1023&Y))}else{const me=he[Q++],re=he[Q++];ae[ee++]=String.fromCharCode((15&W)<<12|(63&me)<<6|63&re)}}return ae.join("")}(this.decodeStringToByteArray(he,ae))},decodeStringToByteArray(he,ae){this.init_();const Q=ae?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[];for(let W=0;W<he.length;){const me=Q[he.charAt(W++)],j=W<he.length?Q[he.charAt(W)]:0;++W;const ne=W<he.length?Q[he.charAt(W)]:64;++W;const Me=W<he.length?Q[he.charAt(W)]:64;if(++W,null==me||null==j||null==ne||null==Me)throw new Pe;ee.push(me<<2|j>>4),64!==ne&&(ee.push(j<<4&240|ne>>2),64!==Me&&ee.push(ne<<6&192|Me))}return ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let he=0;he<this.ENCODED_VALS.length;he++)this.byteToCharMap_[he]=this.ENCODED_VALS.charAt(he),this.charToByteMap_[this.byteToCharMap_[he]]=he,this.byteToCharMapWebSafe_[he]=this.ENCODED_VALS_WEBSAFE.charAt(he),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[he]]=he,he>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(he)]=he,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(he)]=he)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(he){return function(he){const ae=pe(he);return Se.encodeByteArray(ae,!0)}(he).replace(/\./g,"")},ue=function(he){try{return Se.decodeString(he,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function ye(he,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===he&&(he={});break;case Array:he=[];break;default:return ae}for(const Q in ae)!ae.hasOwnProperty(Q)||!Ue(Q)||(he[Q]=ye(he[Q],ae[Q]));return he}function Ue(he){return"__proto__"!==he}const it=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const he=process.env.__FIREBASE_DEFAULTS__;return he?JSON.parse(he):void 0})()||(()=>{if(typeof document>"u")return;let he;try{he=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ae=he&&ue(he[1]);return ae&&JSON.parse(ae)})()}catch(he){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${he}`)}},ct=he=>{var ae,Q;return null===(Q=null===(ae=it())||void 0===ae?void 0:ae.emulatorHosts)||void 0===Q?void 0:Q[he]},je=()=>{var he;return null===(he=it())||void 0===he?void 0:he.config},Le=he=>{var ae;return null===(ae=it())||void 0===ae?void 0:ae[`_${he}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,Q)=>{this.resolve=ae,this.reject=Q})}wrapCallback(ae){return(Q,ee)=>{Q?this.reject(Q):this.resolve(ee),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(Q):ae(Q,ee))}}}function gt(he,ae){if(he.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ee=ae||"demo-project",W=he.iat||0,me=he.sub||he.user_id;if(!me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:W,exp:W+3600,auth_time:W,sub:me,user_id:me,firebase:{sign_in_provider:"custom",identities:{}}},he);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(re)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function yt(){var he;const ae=null===(he=it())||void 0===he?void 0:he.forceEnvironment;if("node"===ae)return!0;if("browser"===ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ut(){return"object"==typeof self&&self.self===self}function Mt(){const he="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof he&&void 0!==he.id}function Vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Zr(){const he=tt();return he.indexOf("MSIE ")>=0||he.indexOf("Trident/")>=0}function Lr(){return!yt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jr(){try{return"object"==typeof indexedDB}catch{return!1}}function wr(){return new Promise((he,ae)=>{try{let Q=!0;const ee="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(ee);W.onsuccess=()=>{W.result.close(),Q||self.indexedDB.deleteDatabase(ee),he(!0)},W.onupgradeneeded=()=>{Q=!1},W.onerror=()=>{var me;ae((null===(me=W.error)||void 0===me?void 0:me.message)||"")}}catch(Q){ae(Q)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ne extends Error{constructor(ae,Q,ee){super(Q),this.code=ae,this.customData=ee,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(ae,Q,ee){this.service=ae,this.serviceName=Q,this.errors=ee}create(ae,...Q){const ee=Q[0]||{},W=`${this.service}/${ae}`,me=this.errors[ae],re=me?function ut(he,ae){return he.replace(Ae,(Q,ee)=>{const W=ae[ee];return null!=W?String(W):`<${ee}?>`})}(me,ee):"Error";return new Ne(W,`${this.serviceName}: ${re} (${W}).`,ee)}}const Ae=/\{\$([^}]+)}/g;function Cn(he,ae){return Object.prototype.hasOwnProperty.call(he,ae)}function cr(he){for(const ae in he)if(Object.prototype.hasOwnProperty.call(he,ae))return!1;return!0}function Et(he,ae){if(he===ae)return!0;const Q=Object.keys(he),ee=Object.keys(ae);for(const W of Q){if(!ee.includes(W))return!1;const me=he[W],re=ae[W];if(hn(me)&&hn(re)){if(!Et(me,re))return!1}else if(me!==re)return!1}for(const W of ee)if(!Q.includes(W))return!1;return!0}function hn(he){return null!==he&&"object"==typeof he}function tr(he){const ae=[];for(const[Q,ee]of Object.entries(he))Array.isArray(ee)?ee.forEach(W=>{ae.push(encodeURIComponent(Q)+"="+encodeURIComponent(W))}):ae.push(encodeURIComponent(Q)+"="+encodeURIComponent(ee));return ae.length?"&"+ae.join("&"):""}function hr(he){const ae={};return he.replace(/^\?/,"").split("&").forEach(ee=>{if(ee){const[W,me]=ee.split("=");ae[decodeURIComponent(W)]=decodeURIComponent(me)}}),ae}function yr(he){const ae=he.indexOf("?");if(!ae)return"";const Q=he.indexOf("#",ae);return he.substring(ae,Q>0?Q:void 0)}function vn(he,ae){const Q=new zt(he,ae);return Q.subscribe.bind(Q)}class zt{constructor(ae,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{ae(this)}).catch(ee=>{this.error(ee)})}next(ae){this.forEachObserver(Q=>{Q.next(ae)})}error(ae){this.forEachObserver(Q=>{Q.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,Q,ee){let W;if(void 0===ae&&void 0===Q&&void 0===ee)throw new Error("Missing Observer.");W=function Gn(he,ae){if("object"!=typeof he||null===he)return!1;for(const Q of ae)if(Q in he&&"function"==typeof he[Q])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:Q,complete:ee},void 0===W.next&&(W.next=Tn),void 0===W.error&&(W.error=Tn),void 0===W.complete&&(W.complete=Tn);const me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),me}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,ae)}sendOne(ae,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{Q(this.observers[ae])}catch(ee){typeof console<"u"&&console.error&&console.error(ee)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}const cn=1e3,rr=2,Xn=144e5,lr=.5;function Mr(he,ae=cn,Q=rr){const ee=ae*Math.pow(Q,he),W=Math.round(lr*ee*(Math.random()-.5)*2);return Math.min(Xn,ee+W)}function br(he){return he&&he._delegate?he._delegate:he}},6828:(At,He,N)=>{var m=N(1481),B=N(433),C=N(4650),pe={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};const Se=new C.OlP("nz-i18n");new C.OlP("nz-date-locale");let ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({}),n})();new C.OlP("date-config");var rn=N(6895);const br=new C.OlP("cdk-dir-doc",{providedIn:"root",factory:function he(){return(0,C.f3M)(rn.K0)}}),ae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let re,ee=(()=>{class n{constructor(t){this.value="ltr",this.change=new C.vpe,t&&(this.value=function Q(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?ae.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(br,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),me=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({}),n})();try{re=typeof Intl<"u"&&Intl.v8BreakIterator}catch{re=!1}let tn,Oe,j=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,rn.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!re)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(C.Lbi))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({}),n})();function xe(){if(null==Oe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Oe=!1,Oe;if("scrollBehavior"in document.documentElement.style)Oe=!0;else{const n=Element.prototype.scrollTo;Oe=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Oe}function st(){if("object"!=typeof document||!document)return 0;if(null==tn){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),tn=0,0===n.scrollLeft&&(n.scrollLeft=1,tn=0===n.scrollLeft?1:2),n.remove()}return tn}function Vn(n){return n.composedPath?n.composedPath()[0]:n.target}function Dn(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Mn=N(7579);function Bn(n,e){(function co(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function Yi(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function Ar(n){return Math.min(1,Math.max(0,n))}function Ir(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function xt(n){return n<=1?"".concat(100*Number(n),"%"):n}function fn(n){return 1===n.length?"0"+n:String(n)}function Wn(n,e,t){n=Bn(n,255),e=Bn(e,255),t=Bn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),c=0,l=0,h=(r+i)/2;if(r===i)l=0,c=0;else{var y=r-i;switch(l=h>.5?y/(2-r-i):y/(r+i),r){case n:c=(e-t)/y+(e<t?6:0);break;case e:c=(t-n)/y+2;break;case t:c=(n-e)/y+4}c/=6}return{h:c,s:l,l:h}}function si(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function ti(n,e,t){n=Bn(n,255),e=Bn(e,255),t=Bn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),c=0,l=r,h=r-i,y=0===r?0:h/r;if(r===i)c=0;else{switch(r){case n:c=(e-t)/h+(e<t?6:0);break;case e:c=(t-n)/h+2;break;case t:c=(n-e)/h+4}c/=6}return{h:c,s:y,v:l}}function Te(n,e,t,r){var i=[fn(Math.round(n).toString(16)),fn(Math.round(e).toString(16)),fn(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function rt(n){return Math.round(255*parseFloat(n)).toString(16)}function X(n){return de(n)/255}function de(n){return parseInt(n,16)}var at={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Nt(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,c=null,l=!1,h=!1;return"string"==typeof n&&(n=function ks(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var e=!1;if(at[n])n=at[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=Sr.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=Sr.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Sr.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=Sr.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Sr.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=Sr.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Sr.hex8.exec(n))?{r:de(t[1]),g:de(t[2]),b:de(t[3]),a:X(t[4]),format:e?"name":"hex8"}:(t=Sr.hex6.exec(n))?{r:de(t[1]),g:de(t[2]),b:de(t[3]),format:e?"name":"hex"}:(t=Sr.hex4.exec(n))?{r:de(t[1]+t[1]),g:de(t[2]+t[2]),b:de(t[3]+t[3]),a:X(t[4]+t[4]),format:e?"name":"hex8"}:!!(t=Sr.hex3.exec(n))&&{r:de(t[1]+t[1]),g:de(t[2]+t[2]),b:de(t[3]+t[3]),format:e?"name":"hex"}}(n)),"object"==typeof n&&(yi(n.r)&&yi(n.g)&&yi(n.b)?(e=function sr(n,e,t){return{r:255*Bn(n,255),g:255*Bn(e,255),b:255*Bn(t,255)}}(n.r,n.g,n.b),l=!0,h="%"===String(n.r).substr(-1)?"prgb":"rgb"):yi(n.h)&&yi(n.s)&&yi(n.v)?(r=xt(n.s),i=xt(n.v),e=function jn(n,e,t){n=6*Bn(n,360),e=Bn(e,100),t=Bn(t,100);var r=Math.floor(n),i=n-r,c=t*(1-e),l=t*(1-i*e),h=t*(1-(1-i)*e),y=r%6;return{r:255*[t,l,c,c,h,t][y],g:255*[h,t,t,l,c,c][y],b:255*[c,c,h,t,t,l][y]}}(n.h,r,i),l=!0,h="hsv"):yi(n.h)&&yi(n.s)&&yi(n.l)&&(r=xt(n.s),c=xt(n.l),e=function Vr(n,e,t){var r,i,c;if(n=Bn(n,360),e=Bn(e,100),t=Bn(t,100),0===e)i=t,c=t,r=t;else{var l=t<.5?t*(1+e):t+e-t*e,h=2*t-l;r=si(h,l,n+1/3),i=si(h,l,n),c=si(h,l,n-1/3)}return{r:255*r,g:255*i,b:255*c}}(n.h,r,c),l=!0,h="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=Ir(t),{ok:l,format:n.format||h,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var xn="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Hr="[\\s|\\(]+(".concat(xn,")[,|\\s]+(").concat(xn,")[,|\\s]+(").concat(xn,")\\s*\\)?"),Pn="[\\s|\\(]+(".concat(xn,")[,|\\s]+(").concat(xn,")[,|\\s]+(").concat(xn,")[,|\\s]+(").concat(xn,")\\s*\\)?"),Sr={CSS_UNIT:new RegExp(xn),rgb:new RegExp("rgb"+Hr),rgba:new RegExp("rgba"+Pn),hsl:new RegExp("hsl"+Hr),hsla:new RegExp("hsla"+Pn),hsv:new RegExp("hsv"+Hr),hsva:new RegExp("hsva"+Pn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function yi(n){return Boolean(Sr.CSS_UNIT.exec(String(n)))}var Ti=function(){function n(e,t){var r;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"==typeof e&&(e=function Ve(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var i=Nt(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),c=e.r/255,l=e.g/255,h=e.b/255;return.2126*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.7152*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))+.0722*(h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=Ir(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var e=ti(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=ti(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=Wn(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=Wn(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return void 0===e&&(e=!1),Te(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return void 0===e&&(e=!1),function we(n,e,t,r,i){var c=[fn(Math.round(n).toString(16)),fn(Math.round(e).toString(16)),fn(Math.round(t).toString(16)),fn(rt(r))];return i&&c[0].startsWith(c[0].charAt(1))&&c[1].startsWith(c[1].charAt(1))&&c[2].startsWith(c[2].charAt(1))&&c[3].startsWith(c[3].charAt(1))?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("")}(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(100*Bn(t,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(100*Bn(t,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Te(this.r,this.g,this.b,!1),t=0,r=Object.entries(at);t<r.length;t++){var i=r[t];if(e===i[1])return i[0]}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=e??this.format;var r=!1;return!t&&this.a<1&&this.a>=0&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Ar(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Ar(t.l),new n(t)},n.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Ar(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Ar(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),c=t/100;return new n({r:(i.r-r.r)*c+r.r,g:(i.g-r.g)*c+r.g,b:(i.b-r.b)*c+r.b,a:(i.a-r.a)*c+r.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var r=this.toHsl(),i=360/t,c=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,c.push(new n(r));return c},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,c=t.v,l=[],h=1/e;e--;)l.push(new n({h:r,s:i,v:c})),c=(c+h)%1;return l},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],c=360/e,l=1;l<e;l++)i.push(new n({h:(r+l*c)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),Fi=2,ni=.16,Ks=.05,li=.05,_i=.15,xo=5,ui=4,Li=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Qr(n,e,t){var r;return(r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-Fi*e:Math.round(n.h)+Fi*e:t?Math.round(n.h)+Fi*e:Math.round(n.h)-Fi*e)<0?r+=360:r>=360&&(r-=360),r}function ji(n,e,t){return 0===n.h&&0===n.s?n.s:((r=t?n.s-ni*e:e===ui?n.s+ni:n.s+Ks*e)>1&&(r=1),t&&e===xo&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function $o(n,e,t){var r;return(r=t?n.v+li*e:n.v-_i*e)>1&&(r=1),Number(r.toFixed(2))}function Ji(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=new Ti(n),i=xo;i>0;i-=1){var c=r.toHsv(),l=new Ti({h:Qr(c,i,!0),s:ji(c,i,!0),v:$o(c,i,!0)}).toHexString();t.push(l)}t.push(r.toHexString());for(var h=1;h<=ui;h+=1){var y=r.toHsv(),M=new Ti({h:Qr(y,h),s:ji(y,h),v:$o(y,h)}).toHexString();t.push(M)}return"dark"===e.theme?Li.map(function(R){var $=R.index,se=R.opacity;return new Ti(e.backgroundColor||"#141414").mix(t[$],100*se).toHexString()}):t}var Di={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ai={},Co={};Object.keys(Di).forEach(function(n){ai[n]=Ji(Di[n]),ai[n].primary=ai[n][5],Co[n]=Ji(Di[n],{theme:"dark",backgroundColor:"#141414"}),Co[n].primary=Co[n][5]});var $r=N(9646),di=N(9751),bi=N(4351),eo=N(9300),_r=N(4004);class as{}class Wo{}class hi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),c=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(l):this.headers.set(c,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(c=>c.toString()),i.length>0){const c=t.toLowerCase();this.headers.set(c,i),this.maybeSetNormalizedName(t,c)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new hi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof hi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const c=e.value;if(c){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===c.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ss{encodeKey(e){return Pr(e)}encodeValue(e){return Pr(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ko=/%(\d[a-f0-9])/gi,qo={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pr(n){return encodeURIComponent(n).replace(Ko,(e,t)=>qo[t]??e)}function So(n){return`${n}`}class Mi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ss,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ca(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[l,h]=-1==c?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,c)),e.decodeValue(i.slice(c+1))],y=t.get(l)||[];y.push(h),t.set(l,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(So):[So(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Mi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(So(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(So(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $i{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Wr(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function lo(n){return typeof Blob<"u"&&n instanceof Blob}function Es(n){return typeof FormData<"u"&&n instanceof FormData}class Xr{constructor(e,t,r,i){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ri(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new hi),this.context||(this.context=new $i),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Mi,this.urlWithParams=t}serializeBody(){return null===this.body?null:Wr(this.body)||lo(this.body)||Es(this.body)||function Ao(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Es(this.body)?null:lo(this.body)?this.body.type||null:Wr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,M=e.params||this.params;const R=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce(($,se)=>$.set(se,e.setHeaders[se]),y)),e.setParams&&(M=Object.keys(e.setParams).reduce(($,se)=>$.set(se,e.setParams[se]),M)),new Xr(t,r,c,{params:M,headers:y,context:R,reportProgress:h,responseType:i,withCredentials:l})}}var Er=(()=>((Er=Er||{})[Er.Sent=0]="Sent",Er[Er.UploadProgress=1]="UploadProgress",Er[Er.ResponseHeader=2]="ResponseHeader",Er[Er.DownloadProgress=3]="DownloadProgress",Er[Er.Response=4]="Response",Er[Er.User=5]="User",Er))();class Po{constructor(e,t=200,r="OK"){this.headers=e.headers||new hi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Eo extends Po{constructor(e={}){super(e),this.type=Er.ResponseHeader}clone(e={}){return new Eo({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fi extends Po{constructor(e={}){super(e),this.type=Er.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fi({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uo extends Po{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ko(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ln=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let c;if(t instanceof Xr)c=t;else{let y,M;y=i.headers instanceof hi?i.headers:new hi(i.headers),i.params&&(M=i.params instanceof Mi?i.params:new Mi({fromObject:i.params})),c=new Xr(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:M,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,$r.of)(c).pipe((0,bi.b)(y=>this.handler.handle(y)));if(t instanceof Xr||"events"===i.observe)return l;const h=l.pipe((0,eo.h)(y=>y instanceof fi));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return h.pipe((0,_r.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return h.pipe((0,_r.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return h.pipe((0,_r.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return h.pipe((0,_r.U)(y=>y.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Mi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ko(i,r))}post(t,r,i={}){return this.request("POST",t,ko(i,r))}put(t,r,i={}){return this.request("PUT",t,ko(i,r))}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(as))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})();function To(n,e){return e(n)}function ho(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Ea=new C.OlP("HTTP_INTERCEPTORS"),Oo=new C.OlP("HTTP_INTERCEPTOR_FNS");function la(){let n=null;return(e,t)=>(null===n&&(n=((0,C.f3M)(Ea,{optional:!0})??[]).reduceRight(ho,To)),n(e,t))}let Ns=(()=>{class n extends as{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Oo)));this.chain=r.reduceRight((i,c)=>function Qs(n,e,t){return(r,i)=>t.runInContext(()=>e(r,c=>n(c,i)))}(i,c,this.injector),To)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(Wo),C.LFG(C.lqb))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})();const ir=/^\)\]\}',?\n/;let Gi=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new di.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((fe,Ce)=>i.setRequestHeader(fe,Ce.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const fe=t.detectContentTypeHeader();null!==fe&&i.setRequestHeader("Content-Type",fe)}if(t.responseType){const fe=t.responseType.toLowerCase();i.responseType="json"!==fe?fe:"text"}const c=t.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const fe=i.statusText||"OK",Ce=new hi(i.getAllResponseHeaders()),Be=function Un(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new Eo({headers:Ce,status:i.status,statusText:fe,url:Be}),l},y=()=>{let{headers:fe,status:Ce,statusText:Be,url:et}=h(),St=null;204!==Ce&&(St=typeof i.response>"u"?i.responseText:i.response),0===Ce&&(Ce=St?200:0);let Kt=Ce>=200&&Ce<300;if("json"===t.responseType&&"string"==typeof St){const Rt=St;St=St.replace(ir,"");try{St=""!==St?JSON.parse(St):null}catch(Lt){St=Rt,Kt&&(Kt=!1,St={error:Lt,text:St})}}Kt?(r.next(new fi({body:St,headers:fe,status:Ce,statusText:Be,url:et||void 0})),r.complete()):r.error(new uo({error:St,headers:fe,status:Ce,statusText:Be,url:et||void 0}))},M=fe=>{const{url:Ce}=h(),Be=new uo({error:fe,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Ce||void 0});r.error(Be)};let R=!1;const $=fe=>{R||(r.next(h()),R=!0);let Ce={type:Er.DownloadProgress,loaded:fe.loaded};fe.lengthComputable&&(Ce.total=fe.total),"text"===t.responseType&&i.responseText&&(Ce.partialText=i.responseText),r.next(Ce)},se=fe=>{let Ce={type:Er.UploadProgress,loaded:fe.loaded};fe.lengthComputable&&(Ce.total=fe.total),r.next(Ce)};return i.addEventListener("load",y),i.addEventListener("error",M),i.addEventListener("timeout",M),i.addEventListener("abort",M),t.reportProgress&&(i.addEventListener("progress",$),null!==c&&i.upload&&i.upload.addEventListener("progress",se)),i.send(c),r.next({type:Er.Sent}),()=>{i.removeEventListener("error",M),i.removeEventListener("abort",M),i.removeEventListener("load",y),i.removeEventListener("timeout",M),t.reportProgress&&(i.removeEventListener("progress",$),null!==c&&i.upload&&i.upload.removeEventListener("progress",se)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(rn.JF))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})();const Br=new C.OlP("XSRF_ENABLED"),Ro=new C.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ci=new C.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class to{}let No=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,rn.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(rn.K0),C.LFG(C.Lbi),C.LFG(Ro))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})();function xl(n,e){const t=n.url.toLowerCase();if(!(0,C.f3M)(Br)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,C.f3M)(to).getToken(),i=(0,C.f3M)(ci);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Kr=(()=>((Kr=Kr||{})[Kr.Interceptors=0]="Interceptors",Kr[Kr.LegacyInterceptors=1]="LegacyInterceptors",Kr[Kr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Kr[Kr.NoXsrfProtection=3]="NoXsrfProtection",Kr[Kr.JsonpSupport=4]="JsonpSupport",Kr[Kr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Kr))();function cs(n,e){return{\u0275kind:n,\u0275providers:e}}function Xs(...n){const e=[ln,Gi,Ns,{provide:as,useExisting:Ns},{provide:Wo,useExisting:Gi},{provide:Oo,useValue:xl,multi:!0},{provide:Br,useValue:!0},{provide:to,useClass:No}];for(const t of n)e.push(...t.\u0275providers);return(0,C.MR2)(e)}const Da=new C.OlP("LEGACY_INTERCEPTOR_FN");let pc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({providers:[Xs(cs(Kr.LegacyInterceptors,[{provide:Da,useFactory:la},{provide:Oo,useExisting:Da,multi:!0}]))]}),n})();var Ki=N(8505),ls=N(8746),Jr=N(262),gc=N(3099),Fs=N(5698);const Zo="[@ant-design/icons-angular]:";function Qc(n){return Ji(n)[0]}function ta(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${Zo}Theme "${e}" is not a recognized theme!`)}}function Qe(n){const e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${Zo}The icon type ${n} is not valid!`)}}function kr(n){return new Error(`${Zo}the icon ${n} does not exist or is not registered.`)}function Kn(){return new Error(`${Zo}<svg> tag not found.`)}const vi=new C.OlP("ant_icons");let us=(()=>{class n{constructor(t,r,i,c,l){this._rendererFactory=t,this._handler=r,this._document=i,this.sanitizer=c,this._antIcons=l,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new Mn.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new ln(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:t,secondaryColor:r}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=r||Qc(t)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?function Al(n){(0,C.X6Q)()&&console.warn(`${Zo} ${n}.`)}("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(r=>{this._svgDefinitions.set(ta(r.name,r.theme),r)})}addIconLiteral(t,r){const[i,c]=Qe(t);if(!c)throw function on(){return new Error(`${Zo}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:t,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,r){const i=function H(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}(t)?t:this._svgDefinitions.get(t)||null;if(!i&&this._disableDynamicLoading)throw kr(t);return(i?(0,$r.of)(i):this._loadIconDynamically(t)).pipe((0,_r.U)(l=>{if(!l)throw kr(t);return this._loadSVGFromCacheOrCreateNew(l,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return(0,$r.of)(function pr(){return function zl(n){console.error(`${Zo} ${n}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let r=this._inProgressFetches.get(t);if(!r){const[i,c]=Qe(t),l=c?{name:t,icon:""}:function O(n){const e=n.split("-"),t=function Ga(n){return"o"===n?"outline":n}(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}(i),y=(c?`${this._assetsUrlRoot}assets/${c}/${i}`:`${this._assetsUrlRoot}assets/${l.theme}/${l.name}`)+(this._enableJsonpLoading?".js":".svg"),M=this.sanitizer.sanitize(C.q3G.URL,y);if(!M)throw function mr(n){return new Error(`${Zo}The url "${n}" is unsafe.`)}(y);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(l,M):this._http.get(M,{responseType:"text"}).pipe((0,_r.U)($=>({...l,icon:$})))).pipe((0,Ki.b)($=>this.addIcon($)),(0,ls.x)(()=>this._inProgressFetches.delete(t)),(0,Jr.K)(()=>(0,$r.of)(null)),(0,gc.B)()),this._inProgressFetches.set(t,r)}return r}_loadIconDynamicallyWithJsonp(t,r){return new di.y(i=>{const c=this._document.createElement("script"),l=setTimeout(()=>{h(),i.error(function pi(){return new Error(`${Zo}Importing timeout error.`)}())},6e3);function h(){c.parentNode.removeChild(c),clearTimeout(l)}c.src=r,this._document.body.appendChild(c),this._jsonpIconLoad$.pipe((0,eo.h)(y=>y.name===t.name&&y.theme===t.theme),(0,Fs.q)(1)).subscribe(y=>{i.next(y),h()})})}_loadSVGFromCacheOrCreateNew(t,r){let i;const c=r||this._twoToneColorPalette.primaryColor,l=Qc(c)||this._twoToneColorPalette.secondaryColor,h="twotone"===t.theme?function $a(n,e,t,r){return`${ta(n,e)}-${t}-${r}`}(t.name,t.theme,c,l):void 0===t.theme?t.name:ta(t.name,t.theme),y=this._svgRenderedDefinitions.get(h);return y?i=y.icon:(i=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function dt(n){return""!==Qe(n)[1]}(t.name)?t.icon:function le(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,c,l)),this._svgRenderedDefinitions.set(h,{...t,icon:i})),function K(n){return n.cloneNode(!0)}(i)}_createSVGElementFromString(t){const r=this._document.createElement("div");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Kn;return i}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,r,i,c){if(r){const l=t.childNodes,h=l.length;for(let y=0;y<h;y++){const M=l[y];"secondaryColor"===M.getAttribute("fill")?this._renderer.setAttribute(M,"fill",c):this._renderer.setAttribute(M,"fill",i)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(C.FYo),C.LFG(Wo,8),C.LFG(rn.K0,8),C.LFG(m.H7),C.LFG(vi,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})();const Lo={isTestMode:!1},Vo={};const Pl=(...n)=>function Au(n,...e){(Lo.isTestMode||(0,C.X6Q)()&&function vc(...n){const e=n.reduce((t,r)=>t+r.toString(),"");return!Vo[e]&&(Vo[e]=!0,!0)}(...e))&&n(...e)}((...e)=>console.warn("[NG-ZORRO]:",...e),...n),na={name:"appstore-add",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z" /></svg>'},A3={name:"export",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z" /></svg>'},s5={name:"save",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z" /></svg>'},J4={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var o2=N(9718);const Zd=2,j8=.16,d7=.05,h7=.05,$8=.15,f7=5,s2=4,p7=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function G8({r:n,g:e,b:t}){const r=ti(n,e,t);return{h:360*r.h,s:r.s,v:r.v}}function a2({r:n,g:e,b:t}){return`#${Te(n,e,t,!1)}`}function W8(n,e,t){let r;return r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-Zd*e:Math.round(n.h)+Zd*e:t?Math.round(n.h)+Zd*e:Math.round(n.h)-Zd*e,r<0?r+=360:r>=360&&(r-=360),r}function K8(n,e,t){if(0===n.h&&0===n.s)return n.s;let r;return r=t?n.s-j8*e:e===s2?n.s+j8:n.s+d7*e,r>1&&(r=1),t&&e===f7&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function q8(n,e,t){let r;return r=t?n.v+h7*e:n.v-$8*e,r>1&&(r=1),Number(r.toFixed(2))}function Z8(n,e={}){const t=[],r=Nt(n);for(let i=f7;i>0;i-=1){const c=G8(r),l=a2(Nt({h:W8(c,i,!0),s:K8(c,i,!0),v:q8(c,i,!0)}));t.push(l)}t.push(a2(r));for(let i=1;i<=s2;i+=1){const c=G8(r),l=a2(Nt({h:W8(c,i),s:K8(c,i),v:q8(c,i)}));t.push(l)}return"dark"===e.theme?p7.map(({index:i,opacity:c})=>a2(function m7(n,e,t){const r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}(Nt(e.backgroundColor||"#141414"),Nt(t[i]),100*c))):t}function h6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const f6="rc-util-key";function p6({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:f6}function Bo(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function hl(n,e={}){if(!h6())return null;const t=document.createElement("style");e.csp?.nonce&&(t.nonce=e.csp?.nonce),t.innerHTML=n;const r=Bo(e),{firstChild:i}=r;return e.prepend&&r.prepend?r.prepend(t):e.prepend&&i?r.insertBefore(t,i):r.appendChild(t),t}const p2=new Map;const m2=new C.OlP("nz-config"),_1=`-ant-${Date.now()}-${Math.random()}`;function rh(n,e){const t=function D7(n,e){const t={},r=(l,h)=>{let y=l.clone();return y=h?.(y)||y,y.toRgbString()},i=(l,h)=>{const y=new Ti(l),M=Z8(y.toRgbString());t[`${h}-color`]=r(y),t[`${h}-color-disabled`]=M[1],t[`${h}-color-hover`]=M[4],t[`${h}-color-active`]=M[7],t[`${h}-color-outline`]=y.clone().setAlpha(.2).toRgbString(),t[`${h}-color-deprecated-bg`]=M[1],t[`${h}-color-deprecated-border`]=M[3]};if(e.primaryColor){i(e.primaryColor,"primary");const l=new Ti(e.primaryColor),h=Z8(l.toRgbString());h.forEach((M,R)=>{t[`primary-${R+1}`]=M}),t["primary-color-deprecated-l-35"]=r(l,M=>M.lighten(35)),t["primary-color-deprecated-l-20"]=r(l,M=>M.lighten(20)),t["primary-color-deprecated-t-20"]=r(l,M=>M.tint(20)),t["primary-color-deprecated-t-50"]=r(l,M=>M.tint(50)),t["primary-color-deprecated-f-12"]=r(l,M=>M.setAlpha(.12*M.getAlpha()));const y=new Ti(h[0]);t["primary-color-active-deprecated-f-30"]=r(y,M=>M.setAlpha(.3*M.getAlpha())),t["primary-color-active-deprecated-d-02"]=r(y,M=>M.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`\n  :root {\n    ${Object.keys(t).map(l=>`--${n}-${l}: ${t[l]};`).join("\n")}\n  }\n  `.trim()}(n,e);h6()?function nT(n,e,t={}){const r=Bo(t);if(!p2.has(r)){const l=hl("",t),{parentNode:h}=l;p2.set(r,h),h.removeChild(l)}const i=function m6(n,e={}){const t=Bo(e);return Array.from(p2.get(t)?.children||[]).find(r=>"STYLE"===r.tagName&&r.getAttribute(p6(e))===n)}(e,t);if(i)return t.csp?.nonce&&i.nonce!==t.csp?.nonce&&(i.nonce=t.csp?.nonce),i.innerHTML!==n&&(i.innerHTML=n),i;const c=hl(n,t);c?.setAttribute(p6(t),e)}(t,`${_1}-dynamic-theme`):Pl("NzConfigService: SSR do not support dynamic theme with css variables.")}let M7=(()=>{class n{constructor(t){this.configUpdated$=new Mn.x,this.config=t||{},this.config.theme&&rh(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe((0,eo.h)(r=>r===t),(0,o2.h)(void 0))}set(t,r){this.config[t]={...this.config[t],...r},"theme"===t&&this.config.theme&&rh(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(m2,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I7=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},J4,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},J4,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],ih=new C.OlP("nz_icons"),v2=(new C.OlP("nz_icon_default_twotone_color"),"#1890ff");let oh=(()=>{class n extends us{constructor(t,r,i,c,l,h,y){super(t,l,h,r,[...I7,...y||[]]),this.nzConfigService=i,this.platform=c,this.configUpdated$=new Mn.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:r}=t;if(this._document&&!this.iconfontCache.has(r)){const i=this._renderer.createElement("script");this._renderer.setAttribute(i,"src",r),this._renderer.setAttribute(i,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,i),this.iconfontCache.add(r)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const r=this.getConfig().nzTwotoneColor||v2;let i=v2;r&&(r.startsWith("#")?i=r:Pl("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:i}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(C.FYo),C.LFG(m.H7),C.LFG(M7),C.LFG(j),C.LFG(Wo,8),C.LFG(rn.K0,8),C.LFG(ih,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sh=new C.OlP("nz_icons_patch");let iT=(()=>{class n{constructor(t,r){this.extraIcons=t,this.rootIconService=r,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(sh,2),C.LFG(oh))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})(),ah=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:ih,useValue:t}]}}static forChild(t){return{ngModule:n,providers:[iT,{provide:sh,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[Y]}),n})();function C1(n){return Array.isArray(n)?n:[n]}function Hi(n){return null==n?"":"string"==typeof n?n:`${n}px`}var y6=N(8421),P7=N(5577),k7=N(1144),xc=N(576),_6=N(3268);const w6=["addListener","removeListener"],O7=["addEventListener","removeEventListener"],C6=["on","off"];function b1(n,e,t,r){if((0,xc.m)(t)&&(r=t,t=void 0),r)return b1(n,e,t).pipe((0,_6.Z)(r));const[i,c]=function N7(n){return(0,xc.m)(n.addEventListener)&&(0,xc.m)(n.removeEventListener)}(n)?O7.map(l=>h=>n[l](e,h,t)):function R7(n){return(0,xc.m)(n.addListener)&&(0,xc.m)(n.removeListener)}(n)?w6.map(b6(n,e)):function S6(n){return(0,xc.m)(n.on)&&(0,xc.m)(n.off)}(n)?C6.map(b6(n,e)):[];if(!i&&(0,k7.z)(n))return(0,P7.z)(l=>b1(l,e,t))((0,y6.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new di.y(l=>{const h=(...y)=>l.next(1<y.length?y:y[0]);return i(h),()=>c(h)})}function b6(n,e){return t=>r=>n[t](e,r)}var y2=N(4408),S1=N(727);const tu={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=tu;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(c=>{t=void 0,n(c)});return new S1.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=tu;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=tu;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var T6=N(7565);const aT=new class F7 extends T6.v{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class E6 extends y2.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=tu.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&t===e._scheduled&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==t&&(tu.cancelAnimationFrame(t),e._scheduled=void 0)}});let D6,cT=1;const _2={};function V7(n){return n in _2&&(delete _2[n],!0)}const lT={setImmediate(n){const e=cT++;return _2[e]=!0,D6||(D6=Promise.resolve()),D6.then(()=>V7(e)&&n()),e},clearImmediate(n){V7(n)}},{setImmediate:uT,clearImmediate:dT}=lT,fl={setImmediate(...n){const{delegate:e}=fl;return(e?.setImmediate||uT)(...n)},clearImmediate(n){const{delegate:e}=fl;return(e?.clearImmediate||dT)(n)},delegate:void 0},ch=new class M6 extends T6.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class hT extends y2.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=fl.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==t&&(fl.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var E1=N(4986),lh=N(4482),zc=N(5403),B7=N(3532);function w2(n,e=E1.z){return function I6(n){return(0,lh.e)((e,t)=>{let r=!1,i=null,c=null,l=!1;const h=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const M=i;i=null,t.next(M)}l&&t.complete()},y=()=>{c=null,l&&t.complete()};e.subscribe((0,zc.x)(t,M=>{r=!0,i=M,c||(0,y6.Xf)(n(M)).subscribe(c=(0,zc.x)(t,h,y))},()=>{l=!0,(!r||!c||c.closed)&&t.complete()}))})}(()=>function U7(n=0,e,t=E1.P){let r=-1;return null!=e&&((0,B7.K)(e)?t=e:r=e),new di.y(i=>{let c=function fT(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},c)})}(n,e))}var Y7=N(5032);function pl(n){return(0,lh.e)((e,t)=>{(0,y6.Xf)(n).subscribe((0,zc.x)(t,()=>t.complete(),Y7.Z)),!t.closed&&e.subscribe(t)})}var T1=N(8675);const pT=["contentWrapper"],mT=["*"],gT=new C.OlP("VIRTUAL_SCROLL_STRATEGY");let uh=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Mn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new di.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(w2(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,$r.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,eo.h)(c=>!c||i.indexOf(c)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,c)=>{this._scrollableContainsElement(c,t)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function oT(n){return n instanceof C.SBq?n.nativeElement:n}(r),c=t.getElementRef().nativeElement;do{if(i==c)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>b1(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(C.R0b),C.LFG(j),C.LFG(rn.K0,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C2=(()=>{class n{constructor(t,r,i,c){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=c,this._destroyed=new Mn.x,this._elementScrolled=new di.y(l=>this.ngZone.runOutsideAngular(()=>b1(this.elementRef.nativeElement,"scroll").pipe(pl(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=st()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==st()?t.left=t.right:1==st()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;xe()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",c=this.elementRef.nativeElement;if("top"==t)return c.scrollTop;if("bottom"==t)return c.scrollHeight-c.clientHeight-c.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?i:r:"end"==t&&(t=l?r:i),l&&2==st()?t==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:l&&1==st()?t==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:t==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(C.Y36(C.SBq),C.Y36(uh),C.Y36(C.R0b),C.Y36(ee,8))},n.\u0275dir=C.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),z6=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Mn.x,this._changeListener=c=>{this._change.next(c)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,c=i.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-c.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(w2(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(j),C.LFG(C.R0b),C.LFG(rn.K0,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ia=new C.OlP("VIRTUAL_SCROLLABLE");let j7=(()=>{class n extends C2{constructor(t,r,i,c){super(t,r,i,c)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(C.Y36(C.SBq),C.Y36(uh),C.Y36(C.R0b),C.Y36(ee,8))},n.\u0275dir=C.lG2({type:n,features:[C.qOj]}),n})();const $7=typeof requestAnimationFrame<"u"?aT:ch;let CT=(()=>{class n extends j7{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function v6(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,r,i,c,l,h,y,M){super(t,h,i,l),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=c,this.scrollable=M,this._platform=(0,C.f3M)(j),this._detachedSubject=new Mn.x,this._renderedRangeSubject=new Mn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new di.y(R=>this._scrollStrategy.scrolledIndexChange.subscribe($=>Promise.resolve().then(()=>this.ngZone.run(()=>R.next($))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=S1.w0.EMPTY,this._viewportChanges=y.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,T1.O)(null),w2(0,$7)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(pl(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function b2(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const c="horizontal"==this.orientation,l=c?"X":"Y";let y=`translate${l}(${Number((c&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(y+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=y&&(this._renderedContentTransform=y,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",c="right",l="rtl"==this.dir?.value;r="start"==t?l?c:i:"end"==t?l?i:c:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(C.R0b),C.Y36(gT,8),C.Y36(ee,8),C.Y36(uh),C.Y36(z6),C.Y36(ia,8))},n.\u0275cmp=C.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&C.Gf(pT,7),2&t){let i;C.iGM(i=C.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&C.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[C._Bn([{provide:C2,useFactory:(e,t)=>e||t,deps:[[new C.FiY,new C.tBr(ia)],n]}]),C.qOj,C.jDz],ngContentSelectors:mT,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(C.F$t(),C.TgZ(0,"div",0,1),C.Hsn(2),C.qZA(),C._UZ(3,"div",2)),2&t&&(C.xp6(3),C.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),P6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({}),n})(),D1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[me,P6,CT,me,P6]}),n})();class dh{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Z7 extends dh{constructor(e,t,r,i,c){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=c}}class S2 extends dh{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class ac extends dh{constructor(e){super(),this.element=e instanceof C.SBq?e.nativeElement:e}}class Ac{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Z7?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof S2?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof ac?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class E2 extends Ac{constructor(e,t,r,i,c){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const h=l.element,y=this._document.createComment("dom-portal");h.parentNode.insertBefore(y,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(h,y)})},this._document=c}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||C.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let k6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({}),n})(),T2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[rn.ez]}),n})();new C.OlP("nz-empty-component-name");let OT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[me,rn.ez,k6,T2,ue]}),n})(),RT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[Y]}),n})();var L6=N(6451);const M1=xe();class cv{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Hi(-this._previousScrollPosition.left),e.style.top=Hi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,c=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),M1&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),M1&&(r.scrollBehavior=c,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class V6{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe((0,eo.h)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Pc{enable(){}disable(){}attach(){}}function ph(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function mh(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class D2{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();ph(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lv=(()=>{class n{constructor(t,r,i,c){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Pc,this.close=l=>new V6(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new cv(this._viewportRuler,this._document),this.reposition=l=>new D2(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=c}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(uh),C.LFG(z6),C.LFG(C.R0b),C.LFG(rn.K0))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class M2{constructor(e){if(this.scrollStrategy=new Pc,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class xi{constructor(e,t,r,i,c){this.offsetX=r,this.offsetY=i,this.panelClass=c,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class FT{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let uv=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(rn.K0))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H6=(()=>{class n extends uv{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const c=this._attachedOverlays;for(let l=c.length-1;l>-1;l--)if(c[l]._keydownEvents.observers.length>0){const h=c[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(rn.K0),C.LFG(C.R0b,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dv=(()=>{class n extends uv{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=Vn(c)},this._clickListener=c=>{const l=Vn(c),h="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let M=y.length-1;M>-1;M--){const R=y[M];if(R._outsidePointerEvents.observers.length<1||!R.hasAttached())continue;if(R.overlayElement.contains(l)||R.overlayElement.contains(h))break;const $=R._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>$.next(c)):$.next(c)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(rn.K0),C.LFG(j),C.LFG(C.R0b,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B6=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Dn()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let c=0;c<i.length;c++)i[c].remove()}const r=this._document.createElement("div");r.classList.add(t),Dn()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(rn.K0),C.LFG(j))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hv{constructor(e,t,r,i,c,l,h,y,M,R=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=c,this._keyboardDispatcher=l,this._document=h,this._location=y,this._outsideClickDispatcher=M,this._animationsDisabled=R,this._backdropElement=null,this._backdropClick=new Mn.x,this._attachments=new Mn.x,this._detachments=new Mn.x,this._locationChanges=S1.w0.EMPTY,this._backdropClickHandler=$=>this._backdropClick.next($),this._backdropTransitionendHandler=$=>{this._disposeBackdrop($.target)},this._keydownEvents=new Mn.x,this._outsidePointerEvents=new Mn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Fs.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Hi(this._config.width),e.height=Hi(this._config.height),e.minWidth=Hi(this._config.minWidth),e.minHeight=Hi(this._config.minHeight),e.maxWidth=Hi(this._config.maxWidth),e.maxHeight=Hi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=C1(t||[]).filter(c=>!!c);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(pl((0,L6.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const U6="cdk-overlay-connected-position-bounding-box",Y6=/([A-Za-z%]+)$/;class j6{get positions(){return this._preferredPositions}constructor(e,t,r,i,c){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mn.x,this._resizeSubscription=S1.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(U6),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,c=[];let l;for(let h of this._preferredPositions){let y=this._getOriginPoint(e,i,h),M=this._getOverlayPoint(y,t,h),R=this._getOverlayFit(M,t,r,h);if(R.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,y);this._canFitWithFlexibleDimensions(R,M,r)?c.push({position:h,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,h)}):(!l||l.overlayFit.visibleArea<R.visibleArea)&&(l={overlayFit:R,overlayPoint:M,originPoint:y,position:h,overlayRect:t})}if(c.length){let h=null,y=-1;for(const M of c){const R=M.boundingBoxRect.width*M.boundingBoxRect.height*(M.position.weight||1);R>y&&(y=R,h=M)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(U6),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,c;if("center"==r.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?l:h}return t.left<0&&(i-=t.left),c="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(c-=t.top),{x:i,y:c}}_getOverlayPoint(e,t,r){let i,c;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,c="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+c}}_getOverlayFit(e,t,r,i){const c=G6(t);let{x:l,y:h}=e,y=this._getOffset(i,"x"),M=this._getOffset(i,"y");y&&(l+=y),M&&(h+=M);let se=0-h,fe=h+c.height-r.height,Ce=this._subtractOverflows(c.width,0-l,l+c.width-r.width),Be=this._subtractOverflows(c.height,se,fe),et=Ce*Be;return{visibleArea:et,isCompletelyWithinViewport:c.width*c.height===et,fitsInViewportVertically:Be===c.height,fitsInViewportHorizontally:Ce==c.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,c=r.right-t.x,l=$6(this._overlayRef.getConfig().minHeight),h=$6(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=h&&h<=c)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=G6(t),c=this._viewportRect,l=Math.max(e.x+i.width-c.width,0),h=Math.max(e.y+i.height-c.height,0),y=Math.max(c.top-r.top-e.y,0),M=Math.max(c.left-r.left-e.x,0);let R=0,$=0;return R=i.width<=c.width?M||-l:e.x<this._viewportMargin?c.left-r.left-e.x:0,$=i.height<=c.height?y||-h:e.y<this._viewportMargin?c.top-r.top-e.y:0,this._previousPushAmount={x:R,y:$},{x:e.x+R,y:e.y+$}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new FT(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let c=0;c<t.length;c++)t[c].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let c,l,h,R,$,se;if("top"===t.overlayY)l=e.y,c=r.height-l+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,c=r.height-h+this._viewportMargin;else{const fe=Math.min(r.bottom-e.y+r.top,e.y),Ce=this._lastBoundingBoxSize.height;c=2*fe,l=e.y-fe,c>Ce&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-Ce/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)se=r.width-e.x+this._viewportMargin,R=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)$=e.x,R=r.right-e.x;else{const fe=Math.min(r.right-e.x+r.left,e.x),Ce=this._lastBoundingBoxSize.width;R=2*fe,$=e.x-fe,R>Ce&&!this._isInitialRender&&!this._growAfterOpen&&($=e.x-Ce/2)}return{top:l,left:$,bottom:h,right:se,width:R,height:c}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Hi(r.height),i.top=Hi(r.top),i.bottom=Hi(r.bottom),i.width=Hi(r.width),i.left=Hi(r.left),i.right=Hi(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",c&&(i.maxHeight=Hi(c)),l&&(i.maxWidth=Hi(l))}this._lastBoundingBoxSize=r,kc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){kc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),c=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const R=this._viewportRuler.getViewportScrollPosition();kc(r,this._getExactOverlayY(t,e,R)),kc(r,this._getExactOverlayX(t,e,R))}else r.position="static";let h="",y=this._getOffset(t,"x"),M=this._getOffset(t,"y");y&&(h+=`translateX(${y}px) `),M&&(h+=`translateY(${M}px)`),r.transform=h.trim(),l.maxHeight&&(i?r.maxHeight=Hi(l.maxHeight):c&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Hi(l.maxWidth):c&&(r.maxWidth="")),kc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":i.top=Hi(c.y),i}_getExactOverlayX(e,t,r){let l,i={left:"",right:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":i.left=Hi(c.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mh(e,r),isOriginOutsideView:ph(e,r),isOverlayClipped:mh(t,r),isOverlayOutsideView:ph(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&C1(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof C.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function kc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function $6(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Y6);return t&&"px"!==t?null:parseFloat(e)}return n||null}function G6(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const pv="cdk-global-overlay-wrapper";class K6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(pv),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:c,maxWidth:l,maxHeight:h}=r,y=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),M=!("100%"!==c&&"100vh"!==c||h&&"100%"!==h&&"100vh"!==h),R=this._xPosition,$=this._xOffset,se="rtl"===this._overlayRef.getConfig().direction;let fe="",Ce="",Be="";y?Be="flex-start":"center"===R?(Be="center",se?Ce=$:fe=$):se?"left"===R||"end"===R?(Be="flex-end",fe=$):("right"===R||"start"===R)&&(Be="flex-start",Ce=$):"left"===R||"start"===R?(Be="flex-start",fe=$):("right"===R||"end"===R)&&(Be="flex-end",Ce=$),e.position=this._cssPosition,e.marginLeft=y?"0":fe,e.marginTop=M?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=y?"0":Ce,t.justifyContent=Be,t.alignItems=M?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(pv),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let x2=(()=>{class n{constructor(t,r,i,c){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=c}global(){return new K6}flexibleConnectedTo(t){return new j6(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(z6),C.LFG(rn.K0),C.LFG(j),C.LFG(B6))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mv=0,q6=(()=>{class n{constructor(t,r,i,c,l,h,y,M,R,$,se,fe){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=c,this._keyboardDispatcher=l,this._injector=h,this._ngZone=y,this._document=M,this._directionality=R,this._location=$,this._outsideClickDispatcher=se,this._animationsModuleType=fe}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),c=this._createPortalOutlet(i),l=new M2(t);return l.direction=l.direction||this._directionality.value,new hv(c,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+mv++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(C.z2F)),new E2(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(lv),C.LFG(B6),C.LFG(C._Vd),C.LFG(x2),C.LFG(H6),C.LFG(C.zs3),C.LFG(C.R0b),C.LFG(rn.K0),C.LFG(ee),C.LFG(rn.Ye),C.LFG(dv),C.LFG(C.QbO,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BT={provide:new C.OlP("cdk-connected-overlay-scroll-strategy"),deps:[q6],useFactory:function gv(n){return()=>n.scrollStrategies.reposition()}};let UT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({providers:[q6,BT],imports:[me,k6,D1,D1]}),n})();new xi({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new xi({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new xi({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new xi({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new xi({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),new xi({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),new xi({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new xi({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new xi({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new xi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new xi({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new xi({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),new xi({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),new xi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"});new xi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new xi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new xi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new xi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),new xi({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),new xi({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),new xi({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2);let s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({}),n})(),Wk=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({providers:[Wk]}),n})();var qk=N(9841),Zk=N(7272);function jT(n,e=E1.z){return(0,lh.e)((t,r)=>{let i=null,c=null,l=null;const h=()=>{if(i){i.unsubscribe(),i=null;const M=c;c=null,r.next(M)}};function y(){const M=l+n,R=e.now();if(R<M)return i=this.schedule(void 0,M-R),void r.add(i);h()}t.subscribe((0,zc.x)(r,M=>{c=M,l=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{c=i=null}))})}const $T=new Set;let gh,Xk=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eO}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jk(n){if(!$T.has(n))try{gh||(gh=document.createElement("style"),gh.setAttribute("type","text/css"),document.head.appendChild(gh)),gh.sheet&&(gh.sheet.insertRule(`@media ${n} {body{ }}`,0),$T.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(j))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eO(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let tO=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Mn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return GT(C1(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){const i=GT(C1(t)).map(l=>this._registerQuery(l).observable);let c=(0,qk.a)(i);return c=(0,Zk.z)(c.pipe((0,Fs.q)(1)),c.pipe(function Qk(n){return(0,eo.h)((e,t)=>n<=t)}(1),jT(0))),c.pipe((0,_r.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:y,query:M})=>{h.matches=h.matches||y,h.breakpoints[M]=y}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new di.y(l=>{const h=y=>this._zone.run(()=>l.next(y));return r.addListener(h),()=>{r.removeListener(h)}}).pipe((0,T1.O)(r),(0,_r.U)(({matches:l})=>({query:t,matches:l})),pl(this._destroySubject)),mql:r};return this._queries.set(t,c),c}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(Xk),C.LFG(C.R0b))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GT(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const ZT="cdk-high-contrast-black-on-white",QT="cdk-high-contrast-white-on-black",vv="cdk-high-contrast-active";let uO=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,C.f3M)(tO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(vv,ZT,QT),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(vv,ZT):2===r&&t.add(vv,QT)}}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(j),C.LFG(rn.K0))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dO=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(uO))},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[Kk]}),n})(),hO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[rn.ez]}),n})(),fO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[rn.ez,ah]}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[me,rn.ez,ue,B.u5,Y,UT,ah,T2,OT,s,hO,RT,fO,D1,dO]}),n})(),tR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[me,rn.ez,B.u5,AO,ue,ah]}),n})();var Uo=N(2011),Oc=N(8996),mo=N(3324);function yv(){return(0,lh.e)((n,e)=>{let t,r=!1;n.subscribe((0,zc.x)(e,i=>{const c=t;t=i,r&&e.next([c,i]),r=!0}))})}var _v=N(5026),nR=N(4671);function iR(n,e){return n===e}N(9568);var Qt,XT=N(3942),pt=N(5861),nu=N(6881),Z6=N(4859),I1=N(1877),xr=N(2090),oR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cc={},wv=wv||{},er=oR||self;function Q6(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function A2(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Cv="closure_uid_"+(1e9*Math.random()>>>0),aR=0;function cR(n,e,t){return n.call.apply(n.bind,arguments)}function lR(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ts(n,e,t){return(Ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cR:lR).apply(null,arguments)}function X6(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,c){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function ru(){this.s=this.s,this.o=this.o}ru.prototype.s=!1,ru.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sR(n){Object.prototype.hasOwnProperty.call(n,Cv)&&n[Cv]||(n[Cv]=++aR)}(this)},ru.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function eD(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Q6(r)){const i=n.length||0,c=r.length||0;n.length=i+c;for(let l=0;l<c;l++)n[i+l]=r[l]}else n.push(r)}}function Ds(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ds.prototype.h=function(){this.defaultPrevented=!0};var dR=function(){if(!er.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{er.addEventListener("test",()=>{},e),er.removeEventListener("test",()=>{},e)}catch{}return n}();function P2(n){return/^[\s\xa0]*$/.test(n)}function J6(){var n=er.navigator;return n&&(n=n.userAgent)?n:""}function Rc(n){return-1!=J6().indexOf(n)}function Sv(n){return Sv[" "](n),n}Sv[" "]=function(){};var Tv,n,fR=Rc("Opera"),vh=Rc("Trident")||Rc("MSIE"),tD=Rc("Edge"),Ev=tD||vh,nD=Rc("Gecko")&&!(-1!=J6().toLowerCase().indexOf("webkit")&&!Rc("Edge"))&&!(Rc("Trident")||Rc("MSIE"))&&!Rc("Edge"),pR=-1!=J6().toLowerCase().indexOf("webkit")&&!Rc("Edge");function rD(){var n=er.document;return n?n.documentMode:void 0}e:{var Dv="",Mv=(n=J6(),nD?/rv:([^\);]+)(\)|;)/.exec(n):tD?/Edge\/([\d\.]+)/.exec(n):vh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pR?/WebKit\/(\S+)/.exec(n):fR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Mv&&(Dv=Mv?Mv[1]:""),vh){var Iv=rD();if(null!=Iv&&Iv>parseFloat(Dv)){Tv=String(Iv);break e}}Tv=Dv}var mR=er.document&&vh&&(rD()||parseInt(Tv,10))||void 0;function k2(n,e){if(Ds.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nD){e:{try{Sv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&k2.$.h.call(this)}}Jo(k2,Ds);var gR={2:"touch",3:"pen",4:"mouse"};k2.prototype.h=function(){k2.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var O2="closure_listenable_"+(1e6*Math.random()|0),vR=0;function yR(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++vR,this.fa=this.ia=!1}function ef(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function oD(n){const e={};for(const t in n)e[t]=n[t];return e}const sD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aD(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let c=0;c<sD.length;c++)t=sD[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tf(n){this.src=n,this.g={},this.h=0}function Av(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],i=JT(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(ef(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Pv(n,e,t,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==r)return i}return-1}tf.prototype.add=function(n,e,t,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var l=Pv(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new yR(e,this.src,c,!!r,i)).ia=t,n.push(e)),e};var kv="closure_lm_"+(1e6*Math.random()|0),Ov={};function cD(n,e,t,r,i){if(r&&r.once)return uD(n,e,t,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)cD(n,e[c],t,r,i);return null}return t=Lv(t),n&&n[O2]?n.O(e,t,A2(r)?!!r.capture:!!r,i):lD(n,e,t,!1,r,i)}function lD(n,e,t,r,i,c){if(!e)throw Error("Invalid event type");var l=A2(i)?!!i.capture:!!i,h=Nv(n);if(h||(n[kv]=h=new tf(n)),(t=h.add(e,t,r,l,c)).proxy)return t;if(r=function wR(){const e=CR;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)dR||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(hD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function uD(n,e,t,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)uD(n,e[c],t,r,i);return null}return t=Lv(t),n&&n[O2]?n.P(e,t,A2(r)?!!r.capture:!!r,i):lD(n,e,t,!0,r,i)}function dD(n,e,t,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)dD(n,e[c],t,r,i);else r=A2(r)?!!r.capture:!!r,t=Lv(t),n&&n[O2]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Pv(c=n.g[e],t,r,i))&&(ef(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Nv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pv(e,t,r,i)),(t=-1<n?e[n]:null)&&Rv(t))}function Rv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[O2])Av(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(hD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Nv(e))?(Av(t,n),0==t.h&&(t.src=null,e[kv]=null)):ef(n)}}}function hD(n){return n in Ov?Ov[n]:Ov[n]="on"+n}function CR(n,e){if(n.fa)n=!0;else{e=new k2(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Rv(n),n=t.call(r,e)}return n}function Nv(n){return(n=n[kv])instanceof tf?n:null}var Fv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(n){return"function"==typeof n?n:(n[Fv]||(n[Fv]=function(e){return n.handleEvent(e)}),n[Fv])}function es(){ru.call(this),this.i=new tf(this),this.S=this,this.J=null}function ms(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ds(e,n);else if(e instanceof Ds)e.target=e.target||n;else{var i=e;aD(e=new Ds(r,n),i)}if(i=!0,t)for(var c=t.length-1;0<=c;c--){var l=e.g=t[c];i=nf(l,r,!0,e)&&i}if(i=nf(l=e.g=n,r,!0,e)&&i,i=nf(l,r,!1,e)&&i,t)for(c=0;c<t.length;c++)i=nf(l=e.g=t[c],r,!1,e)&&i}function nf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var l=e[c];if(l&&!l.fa&&l.capture==t){var h=l.listener,y=l.la||l.src;l.ia&&Av(n.i,l),i=!1!==h.call(y,r)&&i}}return i&&!r.defaultPrevented}Jo(es,ru),es.prototype[O2]=!0,es.prototype.removeEventListener=function(n,e,t,r){dD(this,n,e,t,r)},es.prototype.N=function(){if(es.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ef(t[r]);delete n.g[e],n.h--}}this.J=null},es.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},es.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Vv=er.JSON.stringify;function SR(){var n=Hv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fD=new class bR{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new TR,n=>n.reset());class TR{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DR(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function MR(n){er.setTimeout(()=>{throw n},0)}let R2,N2=!1,Hv=new class ER{constructor(){this.h=this.g=null}add(e,t){const r=fD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},pD=()=>{const n=er.Promise.resolve(void 0);R2=()=>{n.then(IR)}};var IR=()=>{for(var n;n=SR();){try{n.h.call(n.g)}catch(t){MR(t)}var e=fD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}N2=!1};function rf(n,e){es.call(this),this.h=n||1,this.g=e||er,this.j=Ts(this.qb,this),this.l=Date.now()}function Bv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Uv(n,e,t){if("function"==typeof n)t&&(n=Ts(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ts(n.handleEvent,n)}return 2147483647<Number(e)?-1:er.setTimeout(n,e||0)}function mD(n){n.g=Uv(()=>{n.g=null,n.i&&(n.i=!1,mD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jo(rf,es),(Qt=rf.prototype).ga=!1,Qt.T=null,Qt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ms(this,"tick"),this.ga&&(Bv(this),this.start()))}},Qt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qt.N=function(){rf.$.N.call(this),Bv(this),delete this.g};class xR extends ru{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mD(this)}N(){super.N(),this.g&&(er.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function F2(n){ru.call(this),this.h=n,this.g={}}Jo(F2,ru);var gD=[];function vD(n,e,t,r){Array.isArray(t)||(t&&(gD[0]=t.toString()),t=gD);for(var i=0;i<t.length;i++){var c=cD(e,t[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function yD(n){zv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Rv(e)},n),n.g={}}function sf(){this.g=!0}function yh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kR(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var l=1;l<i.length;l++)i[l]=""}}}return Vv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}F2.prototype.N=function(){F2.$.N.call(this),yD(this)},F2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sf.prototype.Ea=function(){this.g=!1},sf.prototype.info=function(){};var x1={},_D=null;function af(){return _D=_D||new es}function wD(n){Ds.call(this,x1.Ta,n)}function L2(n){const e=af();ms(e,new wD(e))}function CD(n,e){Ds.call(this,x1.STAT_EVENT,n),this.stat=e}function Us(n){const e=af();ms(e,new CD(e,n))}function bD(n,e){Ds.call(this,x1.Ua,n),this.size=e}function V2(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return er.setTimeout(function(){n()},e)}x1.Ta="serverreachability",Jo(wD,Ds),x1.STAT_EVENT="statevent",Jo(CD,Ds),x1.Ua="timingevent",Jo(bD,Ds);var cf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},SD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yv(){}function TD(){}Yv.prototype.h=null;var Gv,H2={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jv(){Ds.call(this,"d")}function $v(){Ds.call(this,"c")}function lf(){}function B2(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new F2(this),this.P=OR,this.V=new rf(n=Ev?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new DD}function DD(){this.i=null,this.g="",this.h=!1}Jo(jv,Ds),Jo($v,Ds),Jo(lf,Yv),lf.prototype.g=function(){return new XMLHttpRequest},lf.prototype.i=function(){return{}},Gv=new lf;var OR=45e3,Wv={},uf={};function Kv(n,e,t){n.L=1,n.v=pf(ml(e)),n.s=t,n.S=!0,MD(n,null)}function MD(n,e){n.G=Date.now(),U2(n),n.A=ml(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),FD(t.i,"t",r),n.C=0,t=n.l.J,n.h=new DD,n.g=aM(n.l,t?e:null,!n.s),0<n.O&&(n.M=new xR(Ts(n.Pa,n,n.g),n.O)),vD(n.U,n.g,"readystatechange",n.nb),e=n.I?oD(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),L2(),function zR(n,e,t,r,i,c){n.info(function(){if(n.g)if(c)for(var l="",h=c.split("&"),y=0;y<h.length;y++){var M=h[y].split("=");if(1<M.length){var R=M[0];M=M[1];var $=R.split("_");l=2<=$.length&&"type"==$[1]?l+(R+"=")+M+"&":l+(R+"=redacted&")}}else l=null;else l=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function ID(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function xD(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=RR(n,t),i==uf){4==e&&(n.o=4,Us(14),r=!1),yh(n.j,n.m,null,"[Incomplete Response]");break}if(i==Wv){n.o=4,Us(15),yh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}yh(n.j,n.m,i,null),qv(n,i)}ID(n)&&i!=uf&&i!=Wv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Us(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),n9(e),e.M=!0,Us(11))):(yh(n.j,n.m,t,"[Invalid Chunked Response]"),z1(n),Y2(n))}function RR(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?uf:(t=Number(e.substring(t,r)),isNaN(t)?Wv:(r+=1)+t>e.length?uf:(e=e.slice(r,r+t),n.C=r+t,e))}function U2(n){n.Y=Date.now()+n.P,zD(n,n.P)}function zD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=V2(Ts(n.lb,n),e)}function df(n){n.B&&(er.clearTimeout(n.B),n.B=null)}function Y2(n){0==n.l.H||n.J||rM(n.l,n)}function z1(n){df(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Bv(n.V),yD(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function qv(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Zv(t.i,n)))if(!n.K&&Zv(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;wf(t),yf(t)}t9(t),Us(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=V2(Ts(t.ib,t),6e3));if(1>=HD(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else P1(t,11)}else if((n.K||t.g==n)&&wf(t),!P2(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let M=i[e];if(t.V=M[0],M=M[1],2==t.H)if("c"==M[0]){t.K=M[1],t.pa=M[2];const R=M[3];null!=R&&(t.ra=R,t.l.info("VER="+t.ra));const $=M[4];null!=$&&(t.Ga=$,t.l.info("SVER="+t.Ga));const se=M[5];null!=se&&"number"==typeof se&&0<se&&(t.L=r=1.5*se,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const fe=n.g;if(fe){const Ce=fe.g?fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var c=r.i;c.g||-1==Ce.indexOf("spdy")&&-1==Ce.indexOf("quic")&&-1==Ce.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Qv(c,c.h),c.h=null))}if(r.F){const Be=fe.g?fe.g.getResponseHeader("X-HTTP-Session-Id"):null;Be&&(r.Da=Be,Ai(r.I,r.F,Be))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=sM(r,r.J?r.pa:null,r.Y),l.K){BD(r.i,l);var h=l,y=r.L;y&&h.setTimeout(y),h.B&&(df(h),U2(h)),r.g=l}else tM(r);0<t.j.length&&_f(t)}else"stop"!=M[0]&&"close"!=M[0]||P1(t,7);else 3==t.H&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?P1(t,7):e9(t):"noop"!=M[0]&&t.h&&t.h.Aa(M),t.A=0)}L2()}catch{}}function AD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Q6(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function FR(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Q6(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function NR(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Q6(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,c=0;c<i;c++)e.call(void 0,r[c],t&&t[c],n)}(Qt=B2.prototype).setTimeout=function(n){this.P=n},Qt.nb=function(n){n=n.target;const e=this.M;e&&3==Nc(n)?e.l():this.Pa(n)},Qt.Pa=function(n){try{if(n==this.g)e:{const R=Nc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>R)&&(3!=R||Ev||this.g&&(this.h.h||this.g.ja()||qD(this.g)))){this.J||4!=R||7==e||L2(),df(this);var t=this.g.da();this.ca=t;t:if(ID(this)){var r=qD(this.g);n="";var i=r.length,c=4==Nc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){z1(this),Y2(this);var l="";break t}this.h.i=new er.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function AR(n,e,t,r,i,c,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+c+" "+l})}(this.j,this.u,this.A,this.m,this.W,R,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,y=this.g;if((h=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P2(h)){var M=h;break t}}M=null}if(!(t=M)){this.i=!1,this.o=3,Us(12),z1(this),Y2(this);break e}yh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qv(this,t)}this.S?(xD(this,R,l),Ev&&this.i&&3==R&&(vD(this.U,this.V,"tick",this.mb),this.V.start())):(yh(this.j,this.m,l,null),qv(this,l)),4==R&&z1(this),this.i&&!this.J&&(4==R?rM(this.l,this):(this.i=!1,U2(this)))}else(function tN(n){const e={};n=(n.g&&2<=Nc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(P2(n[r]))continue;var t=DR(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[i]||[];e[i]=c,c.push(t)}!function _R(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Us(12)):(this.o=0,Us(13)),z1(this),Y2(this)}}}catch{}},Qt.mb=function(){if(this.g){var n=Nc(this.g),e=this.g.ja();this.C<e.length&&(df(this),xD(this,n,e),this.i&&4!=n&&U2(this))}},Qt.cancel=function(){this.J=!0,z1(this)},Qt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PR(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(L2(),Us(17)),z1(this),this.o=2,Y2(this)):zD(this,this.Y-n)};var PD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A1(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof A1){this.h=n.h,hf(this,n.j),this.s=n.s,this.g=n.g,ff(this,n.m),this.l=n.l;var e=n.i,t=new G2;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),kD(this,t),this.o=n.o}else n&&(e=String(n).match(PD))?(this.h=!1,hf(this,e[1]||"",!0),this.s=j2(e[2]||""),this.g=j2(e[3]||"",!0),ff(this,e[4]),this.l=j2(e[5]||"",!0),kD(this,e[6]||"",!0),this.o=j2(e[7]||"")):(this.h=!1,this.i=new G2(null,this.h))}function ml(n){return new A1(n)}function hf(n,e,t){n.j=t?j2(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ff(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kD(n,e,t){e instanceof G2?(n.i=e,function jR(n,e){e&&!n.j&&(iu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(RD(this,r),FD(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$2(e,UR)),n.i=new G2(e,n.h))}function Ai(n,e,t){n.i.set(e,t)}function pf(n){return Ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function j2(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $2(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,VR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function VR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}A1.prototype.toString=function(){var n=[],e=this.j;e&&n.push($2(e,OD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($2(e,OD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($2(t,"/"==t.charAt(0)?BR:HR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$2(t,YR)),n.join("")};var OD=/[#\/\?@]/g,HR=/[#\?:]/g,BR=/[#\?]/g,UR=/[#\?@]/g,YR=/#/g;function G2(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function iu(n){n.g||(n.g=new Map,n.h=0,n.i&&function LR(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var c=n[t].substring(0,r);i=n[t].substring(r+1)}else c=n[t];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function RD(n,e){iu(n),e=_h(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ND(n,e){return iu(n),e=_h(n,e),n.g.has(e)}function FD(n,e,t){RD(n,e),0<t.length&&(n.i=null,n.g.set(_h(n,e),bv(t)),n.h+=t.length)}function _h(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function LD(n){this.l=n||GR,n=er.PerformanceNavigationTiming?0<(n=er.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(er.g&&er.g.Ka&&er.g.Ka()&&er.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qt=G2.prototype).add=function(n,e){iu(this),this.i=null,n=_h(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qt.forEach=function(n,e){iu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Qt.ta=function(){iu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let c=0;c<i.length;c++)t.push(e[r])}return t},Qt.Z=function(n){iu(this);let e=[];if("string"==typeof n)ND(this,n)&&(e=e.concat(this.g.get(_h(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qt.set=function(n,e){return iu(this),this.i=null,ND(this,n=_h(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=c;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var GR=10;function VD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HD(n){return n.h?1:n.g?n.g.size:0}function Zv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Qv(n,e){n.g?n.g.add(e):n.h=e}function BD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function UD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return bv(n.i)}LD.prototype.cancel=function(){if(this.i=UD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var WR=class{stringify(n){return er.JSON.stringify(n,void 0)}parse(n){return er.JSON.parse(n,void 0)}};function KR(){this.g=new WR}function qR(n,e,t){const r=t||"";try{AD(n,function(i,c){let l=i;A2(i)&&(l=Vv(i)),e.push(r+c+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function mf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function W2(n){this.l=n.fc||null,this.j=n.ob||!1}function gf(n,e){es.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jo(W2,Yv),W2.prototype.g=function(){return new gf(this.l,this.j)},W2.prototype.i=function(n){return function(){return n}}({}),Jo(gf,es);var Xv=0;function YD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function K2(n){n.readyState=4,n.l=null,n.j=null,n.A=null,q2(n)}function q2(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qt=gf.prototype).open=function(n,e){if(this.readyState!=Xv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,q2(this)},Qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||er).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,K2(this)),this.readyState=Xv},Qt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,q2(this)),this.g&&(this.readyState=3,q2(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof er.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?K2(this):q2(this),3==this.readyState&&YD(this)}},Qt.Za=function(n){this.g&&(this.response=this.responseText=n,K2(this))},Qt.Ya=function(n){this.g&&(this.response=n,K2(this))},Qt.ka=function(){this.g&&K2(this)},Qt.setRequestHeader=function(n,e){this.v.append(n,e)},Qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var QR=er.JSON.parse;function oo(n){es.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jD,this.L=this.M=!1}Jo(oo,es);var jD="",XR=/^https?$/i,JR=["POST","PUT"];function $D(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,GD(n),vf(n)}function GD(n){n.F||(n.F=!0,ms(n,"complete"),ms(n,"error"))}function WD(n){if(n.h&&typeof wv<"u"&&(!n.C[1]||4!=Nc(n)||2!=n.da()))if(n.v&&4==Nc(n))Uv(n.La,0,n);else if(ms(n,"readystatechange"),4==Nc(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(PD)[1]||null;!i&&er.self&&er.self.location&&(i=er.self.location.protocol.slice(0,-1)),r=!XR.test(i?i.toLowerCase():"")}t=r}if(t)ms(n,"complete"),ms(n,"success");else{n.m=6;try{var c=2<Nc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",GD(n)}}finally{vf(n)}}}function vf(n,e){if(n.g){KD(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ms(n,"ready");try{t.onreadystatechange=r}catch{}}}function KD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(er.clearTimeout(n.A),n.A=null)}function Nc(n){return n.g?n.g.readyState:0}function qD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case jD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ZD(n){let e="";return zv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Jv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ZD(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ai(n,e,t))}function Z2(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function QD(n){this.Ga=0,this.j=[],this.l=new sf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Z2("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Z2("baseRetryDelayMs",5e3,n),this.hb=Z2("retryDelaySeedMs",1e4,n),this.eb=Z2("forwardChannelMaxRetries",2,n),this.xa=Z2("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new LD(n&&n.concurrentRequestLimit),this.Ja=new KR,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function e9(n){if(XD(n),3==n.H){var e=n.W++,t=ml(n.I);if(Ai(t,"SID",n.K),Ai(t,"RID",e),Ai(t,"TYPE","terminate"),Q2(n,t),(e=new B2(n,n.l,e)).L=2,e.v=pf(ml(t)),t=!1,er.navigator&&er.navigator.sendBeacon)try{t=er.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&er.Image&&((new Image).src=e.v,t=!0),t||(e.g=aM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),U2(e)}oM(n)}function yf(n){n.g&&(n9(n),n.g.cancel(),n.g=null)}function XD(n){yf(n),n.u&&(er.clearTimeout(n.u),n.u=null),wf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&er.clearTimeout(n.m),n.m=null)}function _f(n){if(!VD(n.i)&&!n.m){n.m=!0;var e=n.Na;R2||pD(),N2||(R2(),N2=!0),Hv.add(e,n),n.C=0}}function JD(n,e){var t;t=e?e.m:n.W++;const r=ml(n.I);Ai(r,"SID",n.K),Ai(r,"RID",t),Ai(r,"AID",n.V),Q2(n,r),n.o&&n.s&&Jv(r,n.o,n.s),t=new B2(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=eM(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Qv(n.i,t),Kv(t,r,e)}function Q2(n,e){n.na&&zv(n.na,function(t,r){Ai(e,r,t)}),n.h&&AD({},function(t,r){Ai(e,r,t)})}function eM(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ts(n.h.Va,n.h,n):null;e:{var i=n.j;let c=-1;for(;;){const l=["count="+t];-1==c?0<t?(c=i[0].g,l.push("ofs="+c)):c=0:l.push("ofs="+c);let h=!0;for(let y=0;y<t;y++){let M=i[y].g;const R=i[y].map;if(M-=c,0>M)c=Math.max(0,i[y].g-100),h=!1;else try{qR(R,l,"req"+M+"_")}catch{r&&r(R)}}if(h){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function tM(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;R2||pD(),N2||(R2(),N2=!0),Hv.add(e,n),n.A=0}}function t9(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=V2(Ts(n.Ma,n),iM(n,n.A)),n.A++,0))}function n9(n){null!=n.B&&(er.clearTimeout(n.B),n.B=null)}function nM(n){n.g=new B2(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ml(n.wa);Ai(e,"RID","rpc"),Ai(e,"SID",n.K),Ai(e,"AID",n.V),Ai(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ai(e,"TO",n.qa),Ai(e,"TYPE","xmlhttp"),Q2(n,e),n.o&&n.s&&Jv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=pf(ml(e)),t.s=null,t.S=!0,MD(t,n)}function wf(n){null!=n.v&&(er.clearTimeout(n.v),n.v=null)}function rM(n,e){var t=null;if(n.g==e){wf(n),n9(n),n.g=null;var r=2}else{if(!Zv(n.i,e))return;t=e.F,BD(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ms(r=af(),new bD(r,t)),_f(n)}else tM(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function nN(n,e){return!(HD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=V2(Ts(n.Na,n,e),iM(n,n.C)),n.C++,0)))}(n,e)||2==r&&t9(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:P1(n,5);break;case 4:P1(n,10);break;case 3:P1(n,6);break;default:P1(n,2)}}function iM(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function P1(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ts(n.pb,n);t||(t=new A1("//www.google.com/images/cleardot.gif"),er.location&&"http"==er.location.protocol||hf(t,"https"),pf(t)),function ZR(n,e){const t=new sf;if(er.Image){const r=new Image;r.onload=X6(mf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=X6(mf,t,r,"TestLoadImage: error",!1,e),r.onabort=X6(mf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=X6(mf,t,r,"TestLoadImage: timeout",!1,e),er.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Us(2);n.H=0,n.h&&n.h.za(e),oM(n),XD(n)}function oM(n){if(n.H=0,n.ma=[],n.h){const e=UD(n.i);(0!=e.length||0!=n.j.length)&&(eD(n.ma,e),eD(n.ma,n.j),n.i.i.length=0,bv(n.j),n.j.length=0),n.h.ya()}}function sM(n,e,t){var r=t instanceof A1?ml(t):new A1(t);if(""!=r.g)e&&(r.g=e+"."+r.g),ff(r,r.m);else{var i=er.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var c=new A1(null);r&&hf(c,r),e&&(c.g=e),i&&ff(c,i),t&&(c.l=t),r=c}return e=n.Da,(t=n.F)&&e&&Ai(r,t,e),Ai(r,"VER",n.ra),Q2(n,r),r}function aM(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new oo(t&&n.Ha&&!n.va?new W2({ob:!0}):n.va)).Oa(n.J),e}function cM(){}function Cf(){if(vh&&!(10<=Number(mR)))throw Error("Environmental error: no available transport.")}function va(n,e){es.call(this),this.g=new QD(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!P2(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!P2(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wh(this)}function lM(n){jv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uM(){$v.call(this),this.status=1}function wh(n){this.g=n}function lc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function r9(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],l=(e=n.g[0])+(c^(t=n.g[1])&((i=n.g[2])^c))+r[0]+3614090360&4294967295;l=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=t+(l<<7&4294967295|l>>>25))+((l=c+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^c&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(i^c))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=c+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^c&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(i^c))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=c+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^c&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(i^c))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=c+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^c&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^c&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(i^c))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^c&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(i^c))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^c&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(i^c))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^c&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(i^c))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^c)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(c^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^c)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(c^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^c)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(c^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^c^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^c)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(c^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~c))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(c|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~c))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(c|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~c))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(c|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((c=(e=t+((l=e+(i^(t|~c))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=c+((l=i+(e^(c|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+c&4294967295}function mi(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var c=0|n[i];r&&c==e||(t[i]=c,r=!1)}this.g=t}(Qt=oo.prototype).Oa=function(n){this.M=n},Qt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gv.g(),this.C=function ED(n){return n.h||(n.h=n.i())}(this.u?this.u:Gv),this.g.onreadystatechange=Ts(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void $D(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),i=er.FormData&&n instanceof er.FormData,!(0<=JT(JR,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,l]of t)this.g.setRequestHeader(c,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KD(this),0<this.B&&((this.L=function eN(n){return vh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ts(this.ua,this)):this.A=Uv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){$D(this,c)}},Qt.ua=function(){typeof wv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ms(this,"timeout"),this.abort(8))},Qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ms(this,"complete"),ms(this,"abort"),vf(this))},Qt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vf(this,!0)),oo.$.N.call(this)},Qt.La=function(){this.s||(this.G||this.v||this.l?WD(this):this.kb())},Qt.kb=function(){WD(this)},Qt.isActive=function(){return!!this.g},Qt.da=function(){try{return 2<Nc(this)?this.g.status:-1}catch{return-1}},Qt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),QR(e)}},Qt.Ia=function(){return this.m},Qt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qt=QD.prototype).ra=8,Qt.H=1,Qt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new B2(this,this.l,n);let c=this.s;if(this.U&&(c?(c=oD(c),aD(c,this.U)):c=this.U),null!==this.o||this.O||(i.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eM(this,i,e),Ai(t=ml(this.I),"RID",n),Ai(t,"CVER",22),this.F&&Ai(t,"X-HTTP-Session-Id",this.F),Q2(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(ZD(c)))+"&"+e:this.o&&Jv(t,this.o,c)),Qv(this.i,i),this.bb&&Ai(t,"TYPE","init"),this.P?(Ai(t,"$req",e),Ai(t,"SID","null"),i.aa=!0,Kv(i,t,null)):Kv(i,t,e),this.H=2}}else 3==this.H&&(n?JD(this,n):0==this.j.length||VD(this.i)||JD(this))},Qt.Ma=function(){if(this.u=null,nM(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=V2(Ts(this.jb,this),n)}},Qt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Us(10),yf(this),nM(this))},Qt.ib=function(){null!=this.v&&(this.v=null,yf(this),t9(this),Us(19))},Qt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Us(2)):(this.l.info("Failed to ping google.com"),Us(1))},Qt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qt=cM.prototype).Ba=function(){},Qt.Aa=function(){},Qt.za=function(){},Qt.ya=function(){},Qt.isActive=function(){return!0},Qt.Va=function(){},Cf.prototype.g=function(n,e){return new va(n,e)},Jo(va,es),va.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Us(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=sM(n,null,n.Y),_f(n)},va.prototype.close=function(){e9(this.g)},va.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Vv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&_f(e)},va.prototype.N=function(){this.g.h=null,delete this.j,e9(this.g),delete this.g,va.$.N.call(this)},Jo(lM,jv),Jo(uM,$v),Jo(wh,cM),wh.prototype.Ba=function(){ms(this.g,"a")},wh.prototype.Aa=function(n){ms(this.g,new lM(n))},wh.prototype.za=function(n){ms(this.g,new uM)},wh.prototype.ya=function(){ms(this.g,"b")},Jo(lc,function rN(){this.blockSize=-1}),lc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,c=0;c<e;){if(0==i)for(;c<=t;)r9(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(r[i++]=n.charCodeAt(c++),i==this.blockSize){r9(this,r),i=0;break}}else for(;c<e;)if(r[i++]=n[c++],i==this.blockSize){r9(this,r),i=0;break}}this.h=i,this.i+=e},lc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var iN={};function o9(n){return-128<=n&&128>n?function hR(n,e){var t=iN;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new mi([0|e],0>e?-1:0)}):new mi([0|n],0>n?-1:0)}function Fc(n){if(isNaN(n)||!isFinite(n))return Ch;if(0>n)return gs(Fc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=s9;return new mi(e,0)}var s9=4294967296,Ch=o9(0),a9=o9(1),hM=o9(16777216);function gl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ra(n){return-1==n.h}function gs(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new mi(t,~n.h).add(a9)}function bf(n,e){return n.add(gs(e))}function Sf(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function X2(n,e){this.g=n,this.h=e}function Ef(n,e){if(gl(e))throw Error("division by zero");if(gl(n))return new X2(Ch,Ch);if(Ra(n))return e=Ef(gs(n),e),new X2(gs(e.g),gs(e.h));if(Ra(e))return e=Ef(n,gs(e)),new X2(gs(e.g),e.h);if(30<n.g.length){if(Ra(n)||Ra(e))throw Error("slowDivide_ only works with positive integers.");for(var t=a9,r=e;0>=r.X(n);)t=fM(t),r=fM(r);var i=bh(t,1),c=bh(r,1);for(r=bh(r,2),t=bh(t,2);!gl(r);){var l=c.add(r);0>=l.X(n)&&(i=i.add(t),c=l),r=bh(r,1),t=bh(t,1)}return e=bf(n,i.R(e)),new X2(i,e)}for(i=Ch;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(c=Fc(t)).R(e);Ra(l)||0<l.X(n);)l=(c=Fc(t-=r)).R(e);gl(c)&&(c=a9),i=i.add(c),n=bf(n,l)}return new X2(i,n)}function fM(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new mi(t,n.h)}function bh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],c=0;c<r;c++)i[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new mi(i,n.h)}(Qt=mi.prototype).ea=function(){if(Ra(this))return-gs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:s9+r)*e,e*=s9}return n},Qt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(gl(this))return"0";if(Ra(this))return"-"+gs(this).toString(n);for(var e=Fc(Math.pow(n,6)),t=this,r="";;){var i=Ef(t,e).g,c=((0<(t=bf(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(gl(t=i))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},Qt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qt.X=function(n){return Ra(n=bf(this,n))?-1:gl(n)?0:1},Qt.abs=function(){return Ra(this)?gs(this):this},Qt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var c=r+(65535&this.D(i))+(65535&n.D(i)),l=(c>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(c&=65535)}return new mi(t,-2147483648&t[t.length-1]?-1:0)},Qt.R=function(n){if(gl(this)||gl(n))return Ch;if(Ra(this))return Ra(n)?gs(this).R(gs(n)):gs(gs(this).R(n));if(Ra(n))return gs(this.R(gs(n)));if(0>this.X(hM)&&0>n.X(hM))return Fc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var c=this.D(r)>>>16,l=65535&this.D(r),h=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,Sf(t,2*r+2*i),t[2*r+2*i+1]+=c*y,Sf(t,2*r+2*i+1),t[2*r+2*i+1]+=l*h,Sf(t,2*r+2*i+1),t[2*r+2*i+2]+=c*h,Sf(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new mi(t,0)},Qt.gb=function(n){return Ef(this,n).h},Qt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new mi(t,this.h&n.h)},Qt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new mi(t,this.h|n.h)},Qt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new mi(t,this.h^n.h)},Cf.prototype.createWebChannel=Cf.prototype.g,va.prototype.send=va.prototype.u,va.prototype.open=va.prototype.m,va.prototype.close=va.prototype.close,cf.NO_ERROR=0,cf.TIMEOUT=8,cf.HTTP_ERROR=6,SD.COMPLETE="complete",TD.EventType=H2,H2.OPEN="a",H2.CLOSE="b",H2.ERROR="c",H2.MESSAGE="d",es.prototype.listen=es.prototype.O,oo.prototype.listenOnce=oo.prototype.P,oo.prototype.getLastError=oo.prototype.Sa,oo.prototype.getLastErrorCode=oo.prototype.Ia,oo.prototype.getStatus=oo.prototype.da,oo.prototype.getResponseJson=oo.prototype.Wa,oo.prototype.getResponseText=oo.prototype.ja,oo.prototype.send=oo.prototype.ha,oo.prototype.setWithCredentials=oo.prototype.Oa,lc.prototype.digest=lc.prototype.l,lc.prototype.reset=lc.prototype.reset,lc.prototype.update=lc.prototype.j,mi.prototype.add=mi.prototype.add,mi.prototype.multiply=mi.prototype.R,mi.prototype.modulo=mi.prototype.gb,mi.prototype.compare=mi.prototype.X,mi.prototype.toNumber=mi.prototype.ea,mi.prototype.toString=mi.prototype.toString,mi.prototype.getBits=mi.prototype.D,mi.fromNumber=Fc,mi.fromString=function dM(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return gs(dM(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Fc(Math.pow(e,8)),r=Ch,i=0;i<n.length;i+=8){var c=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+c),e);8>c?(c=Fc(Math.pow(e,c)),r=r.R(c).add(Fc(l))):r=(r=r.R(t)).add(Fc(l))}return r};var oN=cc.createWebChannelTransport=function(){return new Cf},sN=cc.getStatEventTarget=function(){return af()},c9=cc.ErrorCode=cf,aN=cc.EventType=SD,cN=cc.Event=x1,pM=cc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lN=cc.FetchXmlHttpFactory=W2,Tf=cc.WebChannel=TD,uN=cc.XhrIo=oo,dN=cc.Md5=lc,Sh=cc.Integer=mi;const mM="@firebase/firestore";class ts{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");let Eh="9.23.0";const ou=new I1.Yd("@firebase/firestore");function l9(){return ou.logLevel}function Dt(n,...e){if(ou.logLevel<=I1.in.DEBUG){const t=e.map(u9);ou.debug(`Firestore (${Eh}): ${n}`,...t)}}function go(n,...e){if(ou.logLevel<=I1.in.ERROR){const t=e.map(u9);ou.error(`Firestore (${Eh}): ${n}`,...t)}}function Na(n,...e){if(ou.logLevel<=I1.in.WARN){const t=e.map(u9);ou.warn(`Firestore (${Eh}): ${n}`,...t)}}function u9(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function sn(n="Unexpected state"){const e=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: `+n;throw go(e),new Error(e)}function yn(n,e){n||sn()}function Wt(n,e){return n}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends xr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ts.UNAUTHENTICATED))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gN{constructor(e){this.t=e,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const c=M=>this.i!==i?(i=this.i,t(M)):Promise.resolve();let l=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yo,e.enqueueRetryable(()=>c(this.currentUser))};const h=()=>{const M=l;e.enqueueRetryable((0,pt.Z)(function*(){yield M.promise,yield c(r.currentUser)}))},y=M=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(M=>y(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?y(M):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yo)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yn("string"==typeof r.accessToken),new gM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yn(null===e||"string"==typeof e),new ts(e)}}class vN{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yN{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new vN(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _N{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=c=>{null!=c.error&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const l=c.token!==this.T;return this.T=c.token,Dt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?i(c):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yn("string"==typeof t.token),this.T=t.token,new vM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class yM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wN(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<t&&(r+=e.charAt(i[c]%e.length))}return r}}function Qn(n,e){return n<e?-1:n>e?1:0}function Th(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function _M(n){return n+"\0"}class Bi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bi.fromMillis(Date.now())}static fromDate(e){return Bi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Bi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new Bi(0,0))}static max(){return new Sn(new Bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class J2{constructor(e,t,r){void 0===t?t=0:t>e.length&&sn(),void 0===r?r=e.length-t:r>e.length-t&&sn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===J2.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J2?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const c=e.get(i),l=t.get(i);if(c<l)return-1;if(c>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ur extends J2{construct(e,t,r){return new Ur(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new vt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ur(t)}static emptyPath(){return new Ur([])}}const CN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class so extends J2{construct(e,t,r){return new so(e,t,r)}static isValidIdentifier(e){return CN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),so.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new so(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const c=()=>{if(0===r.length)throw new vt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new vt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new vt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===h?(l=!l,i++):"."!==h||l?(r+=h,i++):(c(),i++)}if(c(),l)throw new vt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new so(t)}static emptyPath(){return new so([])}}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(Ur.fromString(e))}static fromName(e){return new $t(Ur.fromString(e).popFirst(5))}static empty(){return new $t(Ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ur.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ur.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new Ur(e.slice()))}}class Df{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function d9(n){return n.fields.find(e=>2===e.kind)}function k1(n){return n.fields.filter(e=>2!==e.kind)}Df.UNKNOWN_ID=-1;class Mf{constructor(e,t){this.fieldPath=e,this.kind=t}}class e0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new e0(0,ya.min())}}function wM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Sn.fromTimestamp(1e9===r?new Bi(t+1,0):new Bi(t,r));return new ya(i,$t.empty(),e)}function CM(n){return new ya(n.readTime,n.key,-1)}class ya{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ya(Sn.min(),$t.empty(),-1)}static max(){return new ya(Sn.max(),$t.empty(),-1)}}function h9(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$t.comparator(n.documentKey,e.documentKey),0!==t?t:Qn(n.largestBatchId,e.largestBatchId))}const bM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function su(n){return f9.apply(this,arguments)}function f9(){return f9=(0,pt.Z)(function*(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==bM)throw n;Dt("LocalStore","Unexpectedly lost primary lease")}),f9.apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qe((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qe?t:qe.resolve(t)}catch(t){return qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qe.reject(t)}static resolve(e){return new qe((t,r)=>{t(e)})}static reject(e){return new qe((t,r)=>{r(e)})}static waitFor(e){return new qe((t,r)=>{let i=0,c=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++c,l&&c===i&&t()},y=>r(y))}),l=!0,c===i&&t()})}static or(e){let t=qe.resolve(!1);for(const r of e)t=t.next(i=>i?qe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,c)=>{r.push(t.call(this,i,c))}),this.waitFor(r)}static mapArray(e,t){return new qe((r,i)=>{const c=e.length,l=new Array(c);let h=0;for(let y=0;y<c;y++){const M=y;t(e[M]).next(R=>{l[M]=R,++h,h===c&&r(l)},R=>i(R))}})}static doWhile(e,t){return new qe((r,i)=>{const c=()=>{!0===e()?t().next(()=>{c()},i):r()};c()})}}class If{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Yo,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new t0(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=p9(r.target.error);this.v.reject(new t0(e,i))}}static open(e,t,r,i){try{return new If(t,e.transaction(i,r))}catch(c){throw new t0(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new TN(t)}}class uc{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===uc.S((0,xr.z$)())&&go("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Dt("SimpleDb","Removing database:",e),O1(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,xr.hl)())return!1;if(uc.C())return!0;const e=(0,xr.z$)(),t=uc.S(e),r=0<t&&t<10,i=uc.N(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,pt.Z)(function*(){return t.db||(Dt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=l=>{r(l.target.result)},c.onblocked=()=>{i(new t0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=l=>{const h=l.target.error;i("VersionError"===h.name?new vt(nt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new vt(nt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new t0(e,h))},c.onupgradeneeded=l=>{Dt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,c.transaction,l.oldVersion,t.version).next(()=>{Dt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var c=this;return(0,pt.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{c.db=yield c.$(e);const y=If.open(c.db,e,l?"readonly":"readwrite",r),M=i(y).next(R=>(y.P(),R)).catch(R=>(y.abort(R),qe.reject(R))).toPromise();return M.catch(()=>{}),yield y.R,M}catch(y){const M=y,R="FirebaseError"!==M.name&&h<3;if(Dt("SimpleDb","Transaction failed with error:",M.message,"Retrying:",R),c.close(),!R)return Promise.reject(M)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class EN{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return O1(this.L.delete())}}class t0 extends vt{constructor(e,t){super(nt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function au(n){return"IndexedDbTransactionError"===n.name}class TN{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Dt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),O1(r)}add(e){return Dt("SimpleDb","ADD",this.store.name,e,e),O1(this.store.add(e))}get(e){return O1(this.store.get(e)).next(t=>(void 0===t&&(t=null),Dt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Dt("SimpleDb","DELETE",this.store.name,e),O1(this.store.delete(e))}count(){return Dt("SimpleDb","COUNT",this.store.name),O1(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.W(i,(l,h)=>{c.push(h)}).next(()=>c)}{const i=this.store.getAll(r.range);return new qe((c,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{c(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new qe((i,c)=>{r.onerror=l=>{c(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Dt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(c,l,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new qe((r,i)=>{t.onerror=c=>{const l=p9(c.target.error);i(l)},t.onsuccess=c=>{const l=c.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():r()}):r()}})}W(e,t){const r=[];return new qe((i,c)=>{e.onerror=l=>{c(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void i();const y=new EN(h),M=t(h.primaryKey,h.value,y);if(M instanceof qe){const R=M.catch($=>(y.done(),qe.reject($)));r.push(R)}y.isDone?i():null===y.K?h.continue():h.continue(y.K)}}).next(()=>qe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function O1(n){return new qe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=p9(r.target.error);t(i)}})}let EM=!1;function p9(n){const e=uc.S((0,xr.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return EM||(EM=!0,setTimeout(()=>{throw r},0)),r}}return n}class DN{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Dt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pt.Z)(function*(){t.task=null;try{Dt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){au(r)?Dt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield su(r)}yield t.et(6e4)}))}}class MN{constructor(e,t){this.localStore=e,this.persistence=t}nt(){var e=this;return(0,pt.Z)(function*(t=50){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.st(r,t))}).apply(this,arguments)}st(e,t){const r=new Set;let i=t,c=!0;return qe.doWhile(()=>!0===c&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Dt("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(h=>{i-=h,r.add(l)});c=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(c=>{const l=c.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,c)).next(h=>(Dt("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,c)=>{const l=CM(c);h9(l,r)>0&&(r=l)}),new ya(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let _a=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function n0(n){return null==n}function r0(n){return 0===n&&1/n==-1/0}function TM(n){return"number"==typeof n&&Number.isInteger(n)&&!r0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DM(e)),e=IN(n.get(t),e);return DM(e)}function IN(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function DM(n){return n+"\x01\x01"}function Lc(n){const e=n.length;if(yn(e>=2),2===e)return yn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ur.emptyPath();const t=e-2,r=[];let i="";for(let c=0;c<e;){const l=n.indexOf("\x01",c);switch((l<0||l>t)&&sn(),n.charAt(l+1)){case"\x01":const h=n.substring(c,l);let y;0===i.length?y=h:(i+=h,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(c,l),i+="\0";break;case"\x11":i+=n.substring(c,l+1);break;default:sn()}c=l+2}return new Ur(r)}const MM=["userId","batchId"];function xf(n,e){return[n,Ms(e)]}function IM(n,e,t){return[n,Ms(e),t]}const xN={},zN=["prefixPath","collectionGroup","readTime","documentId"],AN=["prefixPath","collectionGroup","documentId"],PN=["collectionGroup","readTime","prefixPath","documentId"],kN=["canonicalId","targetId"],ON=["targetId","path"],RN=["path","targetId"],NN=["collectionId","parent"],FN=["indexId","uid"],LN=["uid","sequenceNumber"],VN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HN=["indexId","uid","orderedDocumentKey"],BN=["userId","collectionPath","documentId"],UN=["userId","collectionPath","largestBatchId"],YN=["userId","collectionGroup","largestBatchId"],xM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jN=[...xM,"documentOverlays"],zM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AM=zM,$N=[...AM,"indexConfiguration","indexState","indexEntries"];class m9 extends SM{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ns(n,e){const t=Wt(n);return uc.M(t.ht,e)}function PM(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Si{constructor(e,t){this.comparator=e,this.root=t||vs.EMPTY}insert(e,t){return new Si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(e){return new Si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vs{constructor(e,t,r,i,c){this.key=e,this.value=t,this.color=r??vs.RED,this.left=i??vs.EMPTY,this.right=c??vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,c){return new vs(e??this.key,t??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===c?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return vs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sn();const e=this.left.check();if(e!==this.right.check())throw sn();return e+(this.isRed()?0:1)}}vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1,vs.EMPTY=new class{constructor(){this.size=0}get key(){throw sn()}get value(){throw sn()}get color(){throw sn()}get left(){throw sn()}get right(){throw sn()}copy(n,e,t,r,i){return this}insert(n,e,t){return new vs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pi{constructor(e){this.comparator=e,this.data=new Si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OM(this.data.getIterator())}getIteratorFrom(e){return new OM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pi(this.comparator);return t.data=e,t}}class OM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dh(n){return n.hasNext()?n.getNext():void 0}class oa{constructor(e){this.fields=e,e.sort(so.comparator)}static empty(){return new oa([])}unionWith(e){let t=new Pi(so.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new oa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Th(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class RM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RM("Invalid base64 string: "+i):i}}(e);return new jo(t)}static fromUint8Array(e){const t=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(e);return new jo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jo.EMPTY_BYTE_STRING=new jo("");const WN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(yn(!!n),"string"==typeof n){let e=0;const t=WN.exec(n);if(yn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ao(n.seconds),nanos:ao(n.nanos)}}function ao(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vl(n){return"string"==typeof n?jo.fromBase64String(n):jo.fromUint8Array(n)}function Af(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Pf(n){const e=n.mapValue.fields.__previous_value__;return Af(e)?Pf(e):e}function o0(n){const e=lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Bi(e.seconds,e.nanos)}class KN{constructor(e,t,r,i,c,l,h,y,M){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=y,this.useFetchStreams=M}}class uu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kf={nullValue:"NULL_VALUE"};function hu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Af(n)?4:VM(n)?9007199254740991:10:sn()}function Vc(n,e){if(n===e)return!0;const t=hu(n);if(t!==hu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return o0(n).isEqual(o0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=lu(r.timestampValue),l=lu(i.timestampValue);return c.seconds===l.seconds&&c.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,vl(n.bytesValue).isEqual(vl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ao(r.geoPointValue.latitude)===ao(i.geoPointValue.latitude)&&ao(r.geoPointValue.longitude)===ao(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ao(r.integerValue)===ao(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=ao(r.doubleValue),l=ao(i.doubleValue);return c===l?r0(c)===r0(l):isNaN(c)&&isNaN(l)}return!1}(n,e);case 9:return Th(n.arrayValue.values||[],e.arrayValue.values||[],Vc);case 10:return function(r,i){const c=r.mapValue.fields||{},l=i.mapValue.fields||{};if(PM(c)!==PM(l))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(void 0===l[h]||!Vc(c[h],l[h])))return!1;return!0}(n,e);default:return sn()}var i}function s0(n,e){return void 0!==(n.values||[]).find(t=>Vc(t,e))}function fu(n,e){if(n===e)return 0;const t=hu(n),r=hu(e);if(t!==r)return Qn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(n.booleanValue,e.booleanValue);case 2:return function(i,c){const l=ao(i.integerValue||i.doubleValue),h=ao(c.integerValue||c.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return NM(n.timestampValue,e.timestampValue);case 4:return NM(o0(n),o0(e));case 5:return Qn(n.stringValue,e.stringValue);case 6:return function(i,c){const l=vl(i),h=vl(c);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,c){const l=i.split("/"),h=c.split("/");for(let y=0;y<l.length&&y<h.length;y++){const M=Qn(l[y],h[y]);if(0!==M)return M}return Qn(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,c){const l=Qn(ao(i.latitude),ao(c.latitude));return 0!==l?l:Qn(ao(i.longitude),ao(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,c){const l=i.values||[],h=c.values||[];for(let y=0;y<l.length&&y<h.length;++y){const M=fu(l[y],h[y]);if(M)return M}return Qn(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,c){if(i===du.mapValue&&c===du.mapValue)return 0;if(i===du.mapValue)return 1;if(c===du.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),y=c.fields||{},M=Object.keys(y);h.sort(),M.sort();for(let R=0;R<h.length&&R<M.length;++R){const $=Qn(h[R],M[R]);if(0!==$)return $;const se=fu(l[h[R]],y[M[R]]);if(0!==se)return se}return Qn(h.length,M.length)}(n.mapValue,e.mapValue);default:throw sn()}}function NM(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qn(n,e);const t=lu(n),r=lu(e),i=Qn(t.seconds,r.seconds);return 0!==i?i:Qn(t.nanos,r.nanos)}function Mh(n){return g9(n)}function g9(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=lu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vl(n.bytesValue).toBase64():"referenceValue"in n?$t.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",c=!0;for(const l of r.values||[])c?c=!1:i+=",",i+=g9(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",l=!0;for(const h of i)l?l=!1:c+=",",c+=`${h}:${g9(r.fields[h])}`;return c+"}"}(n.mapValue):sn();var e}function R1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function v9(n){return!!n&&"integerValue"in n}function a0(n){return!!n&&"arrayValue"in n}function FM(n){return!!n&&"nullValue"in n}function LM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rf(n){return!!n&&"mapValue"in n}function c0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=c0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=c0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VM(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qN(n){return"nullValue"in n?kf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?R1(uu.empty(),$t.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:sn()}function ZN(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?R1(uu.empty(),$t.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?du:sn()}function HM(n,e){const t=fu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BM(n,e){const t=fu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ys{constructor(e){this.value=e}static empty(){return new ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=c0(t)}setAll(e){let t=so.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=h.popLast()}l?r[h.lastSegment()]=c0(l):i.push(h.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,i)}delete(e){const t=this.field(e.popLast());Rf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cu(t,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new ys(c0(this.value))}}function UM(n){const e=[];return cu(n.fields,(t,r)=>{const i=new so([t]);if(Rf(r)){const c=UM(r.mapValue).fields;if(0===c.length)e.push(i);else for(const l of c)e.push(i.child(l))}else e.push(i)}),new oa(e)}class ki{constructor(e,t,r,i,c,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=c,this.data=l,this.documentState=h}static newInvalidDocument(e){return new ki(e,0,Sn.min(),Sn.min(),Sn.min(),ys.empty(),0)}static newFoundDocument(e,t,r,i){return new ki(e,1,t,Sn.min(),r,i,0)}static newNoDocument(e,t){return new ki(e,2,t,Sn.min(),Sn.min(),ys.empty(),0)}static newUnknownDocument(e,t){return new ki(e,3,t,Sn.min(),Sn.min(),ys.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pu{constructor(e,t){this.position=e,this.inclusive=t}}function YM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const c=e[i],l=n.position[i];if(r=c.field.isKeyField()?$t.comparator($t.fromName(l.referenceValue),t.key):fu(l,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function jM(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vc(n.position[t],e.position[t]))return!1;return!0}class Ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function QN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class $M{}class Nr extends $M{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new XN(e,t,r):"array-contains"===t?new tF(e,r):"in"===t?new QM(e,r):"not-in"===t?new nF(e,r):"array-contains-any"===t?new rF(e,r):new Nr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new JN(e,r):new eF(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fu(t,this.value)):null!==t&&hu(this.value)===hu(t)&&this.matchesComparison(fu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gi extends $M{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new gi(e,t)}matches(e){return xh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xh(n){return"and"===n.op}function y9(n){return"or"===n.op}function _9(n){return GM(n)&&xh(n)}function GM(n){for(const e of n.filters)if(e instanceof gi)return!1;return!0}function w9(n){if(n instanceof Nr)return n.field.canonicalString()+n.op.toString()+Mh(n.value);if(_9(n))return n.filters.map(e=>w9(e)).join(",");{const e=n.filters.map(t=>w9(t)).join(",");return`${n.op}(${e})`}}function WM(n,e){return n instanceof Nr?(t=n,(r=e)instanceof Nr&&t.op===r.op&&t.field.isEqual(r.field)&&Vc(t.value,r.value)):n instanceof gi?function(t,r){return r instanceof gi&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,c,l)=>i&&WM(c,r.filters[l]),!0)}(n,e):void sn();var t,r}function KM(n,e){const t=n.filters.concat(e);return gi.create(t,n.op)}function qM(n){return n instanceof Nr?`${(e=n).field.canonicalString()} ${e.op} ${Mh(e.value)}`:n instanceof gi?function(e){return e.op.toString()+" {"+e.getFilters().map(qM).join(" ,")+"}"}(n):"Filter";var e}class XN extends Nr{constructor(e,t,r){super(e,t,r),this.key=$t.fromName(r.referenceValue)}matches(e){const t=$t.comparator(e.key,this.key);return this.matchesComparison(t)}}class JN extends Nr{constructor(e,t){super(e,"in",t),this.keys=ZM(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eF extends Nr{constructor(e,t){super(e,"not-in",t),this.keys=ZM(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZM(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$t.fromName(r.referenceValue))}class tF extends Nr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return a0(t)&&s0(t.arrayValue,this.value)}}class QM extends Nr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&s0(this.value.arrayValue,t)}}class nF extends Nr{constructor(e,t){super(e,"not-in",t)}matches(e){if(s0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!s0(this.value.arrayValue,t)}}class rF extends Nr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!a0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>s0(this.value.arrayValue,r))}}class iF{constructor(e,t=null,r=[],i=[],c=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=l,this.endAt=h,this.dt=null}}function C9(n,e=null,t=[],r=[],i=null,c=null,l=null){return new iF(n,e,t,r,i,c,l)}function N1(n){const e=Wt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>w9(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),n0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mh(r)).join(",")),e.dt=t}return e.dt}function l0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jM(n.startAt,e.startAt)&&jM(n.endAt,e.endAt)}function Nf(n){return $t.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ff(n,e){return n.filters.filter(t=>t instanceof Nr&&t.field.isEqual(e))}function XM(n,e,t){let r=kf,i=!0;for(const c of Ff(n,e)){let l=kf,h=!0;switch(c.op){case"<":case"<=":l=qN(c.value);break;case"==":case"in":case">=":l=c.value;break;case">":l=c.value,h=!1;break;case"!=":case"not-in":l=kf}HM({value:r,inclusive:i},{value:l,inclusive:h})<0&&(r=l,i=h)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const l=t.position[c];HM({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function JM(n,e,t){let r=du,i=!0;for(const c of Ff(n,e)){let l=du,h=!0;switch(c.op){case">=":case">":l=ZN(c.value),h=!1;break;case"==":case"in":case"<=":l=c.value;break;case"<":l=c.value,h=!1;break;case"!=":case"not-in":l=du}BM({value:r,inclusive:i},{value:l,inclusive:h})>0&&(r=l,i=h)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const l=t.position[c];BM({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class yl{constructor(e,t=null,r=[],i=[],c=null,l="F",h=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=l,this.startAt=h,this.endAt=y,this.wt=null,this._t=null}}function eI(n,e,t,r,i,c,l,h){return new yl(n,e,t,r,i,c,l,h)}function zh(n){return new yl(n)}function tI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function b9(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Lf(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function S9(n){return null!==n.collectionGroup}function F1(n){const e=Wt(n);if(null===e.wt){e.wt=[];const t=Lf(e),r=b9(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ih(t)),e.wt.push(new Ih(so.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ih(so.keyField(),c))}}}return e.wt}function Ys(n){const e=Wt(n);if(!e._t)if("F"===e.limitType)e._t=C9(e.path,e.collectionGroup,F1(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of F1(e))t.push(new Ih(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new pu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pu(e.startAt.position,e.startAt.inclusive):null;e._t=C9(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function E9(n,e){e.getFirstInequalityField(),Lf(n);const t=n.filters.concat([e]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vf(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function u0(n,e){return l0(Ys(n),Ys(e))&&n.limitType===e.limitType}function nI(n){return`${N1(Ys(n))}|lt:${n.limitType}`}function T9(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>qM(r)).join(", ")}]`),n0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mh(r)).join(",")),`Target(${t})`}(Ys(n))}; limitType=${n.limitType})`}function d0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$t.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of F1(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,c,l){const h=YM(i,c,l);return i.inclusive?h<=0:h<0}(t.startAt,F1(t),r)||t.endAt&&!function(i,c,l){const h=YM(i,c,l);return i.inclusive?h>=0:h>0}(t.endAt,F1(t),r)));var t,r}function rI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iI(n){return(e,t)=>{let r=!1;for(const i of F1(n)){const c=oF(i,e,t);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function oF(n,e,t){const r=n.field.isKeyField()?$t.comparator(e.key,t.key):function(i,c,l){const h=c.data.field(i),y=l.data.field(i);return null!==h&&null!==y?fu(h,y):sn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return sn()}}class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cu(this.inner,(t,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return kM(this.inner)}size(){return this.innerSize}}const sF=new Si($t.comparator);function sa(){return sF}const oI=new Si($t.comparator);function h0(...n){let e=oI;for(const t of n)e=e.insert(t.key,t);return e}function sI(n){let e=oI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hc(){return f0()}function aI(){return f0()}function f0(){return new _l(n=>n.toString(),(n,e)=>n.isEqual(e))}const aF=new Si($t.comparator),cF=new Pi($t.comparator);function ur(...n){let e=cF;for(const t of n)e=e.add(t);return e}const lF=new Pi(Qn);function D9(){return lF}function cI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r0(e)?"-0":e}}function lI(n){return{integerValue:""+n}}function uI(n,e){return TM(e)?lI(e):cI(n,e)}class Hf{constructor(){this._=void 0}}function uF(n,e,t){return n instanceof Ah?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Af(i)&&(i=Pf(i)),i&&(c.fields.__previous_value__=i),{mapValue:c}}(t,e):n instanceof L1?hI(n,e):n instanceof V1?fI(n,e):function(r,i){const c=dI(r,i),l=pI(c)+pI(r.gt);return v9(c)&&v9(r.gt)?lI(l):cI(r.serializer,l)}(n,e)}function dF(n,e,t){return n instanceof L1?hI(n,e):n instanceof V1?fI(n,e):t}function dI(n,e){return n instanceof Ph?v9(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ah extends Hf{}class L1 extends Hf{constructor(e){super(),this.elements=e}}function hI(n,e){const t=mI(e);for(const r of n.elements)t.some(i=>Vc(i,r))||t.push(r);return{arrayValue:{values:t}}}class V1 extends Hf{constructor(e){super(),this.elements=e}}function fI(n,e){let t=mI(e);for(const r of n.elements)t=t.filter(i=>!Vc(i,r));return{arrayValue:{values:t}}}class Ph extends Hf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function pI(n){return ao(n.integerValue||n.doubleValue)}function mI(n){return a0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class p0{constructor(e,t){this.field=e,this.transform=t}}class fF{constructor(e,t){this.version=e,this.transformResults=t}}class Ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Uf{}function gI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Oh(n.key,Ui.none()):new kh(n.key,n.data,Ui.none());{const t=n.data,r=ys.empty();let i=new Pi(so.comparator);for(let c of e.fields)if(!i.has(c)){let l=t.field(c);null===l&&c.length>1&&(c=c.popLast(),l=t.field(c)),null===l?r.delete(c):r.set(c,l),i=i.add(c)}return new wl(n.key,r,new oa(i.toArray()),Ui.none())}}function pF(n,e,t){n instanceof kh?function(r,i,c){const l=r.value.clone(),h=_I(r.fieldTransforms,i,c.transformResults);l.setAll(h),i.convertToFoundDocument(c.version,l).setHasCommittedMutations()}(n,e,t):n instanceof wl?function(r,i,c){if(!Bf(r.precondition,i))return void i.convertToUnknownDocument(c.version);const l=_I(r.fieldTransforms,i,c.transformResults),h=i.data;h.setAll(yI(r)),h.setAll(l),i.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function m0(n,e,t,r){return n instanceof kh?function(i,c,l,h){if(!Bf(i.precondition,c))return l;const y=i.value.clone(),M=wI(i.fieldTransforms,h,c);return y.setAll(M),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof wl?function(i,c,l,h){if(!Bf(i.precondition,c))return l;const y=wI(i.fieldTransforms,h,c),M=c.data;return M.setAll(yI(i)),M.setAll(y),c.convertToFoundDocument(c.version,M).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(R=>R.field))}(n,e,t,r):(l=t,Bf(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):l);var c,l}function mF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),c=dI(r.transform,i||null);null!=c&&(null===t&&(t=ys.empty()),t.set(r.field,c))}return t||null}function vI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Th(t,r,(i,c)=>function hF(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof L1&&r instanceof L1||t instanceof V1&&r instanceof V1?Th(t.elements,r.elements,Vc):t instanceof Ph&&r instanceof Ph?Vc(t.gt,r.gt):t instanceof Ah&&r instanceof Ah);var t,r}(i,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class kh extends Uf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wl extends Uf{constructor(e,t,r,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function yI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _I(n,e,t){const r=new Map;yn(n.length===t.length);for(let i=0;i<t.length;i++){const c=n[i],l=c.transform,h=e.data.field(c.field);r.set(c.field,dF(l,h,t[i]))}return r}function wI(n,e,t){const r=new Map;for(const i of n){const c=i.transform,l=t.data.field(i.field);r.set(i.field,uF(c,l,e))}return r}class Oh extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M9 extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I9{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&pF(c,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=m0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=m0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=aI();return this.mutations.forEach(i=>{const c=e.get(i.key),l=c.overlayedDocument;let h=this.applyToLocalView(l,c.mutatedFields);h=t.has(i.key)?null:h;const y=gI(l,h);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(Sn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ur())}isEqual(e){return this.batchId===e.batchId&&Th(this.mutations,e.mutations,(t,r)=>vI(t,r))&&Th(this.baseMutations,e.baseMutations,(t,r)=>vI(t,r))}}class x9{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){yn(e.mutations.length===r.length);let i=aF;const c=e.mutations;for(let l=0;l<c.length;l++)i=i.insert(c[l].key,r[l].version);return new x9(e,t,r,i)}}class z9{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vF{constructor(e,t){this.count=e,this.unchangedNames=t}}var Io,Yr;function CI(n){switch(n){default:return sn();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}function bI(n){if(void 0===n)return go("GRPC error has no .code"),nt.UNKNOWN;switch(n){case Io.OK:return nt.OK;case Io.CANCELLED:return nt.CANCELLED;case Io.UNKNOWN:return nt.UNKNOWN;case Io.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Io.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Io.INTERNAL:return nt.INTERNAL;case Io.UNAVAILABLE:return nt.UNAVAILABLE;case Io.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Io.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Io.NOT_FOUND:return nt.NOT_FOUND;case Io.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Io.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Io.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Io.ABORTED:return nt.ABORTED;case Io.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Io.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Io.DATA_LOSS:return nt.DATA_LOSS;default:return sn()}}(Yr=Io||(Io={}))[Yr.OK=0]="OK",Yr[Yr.CANCELLED=1]="CANCELLED",Yr[Yr.UNKNOWN=2]="UNKNOWN",Yr[Yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yr[Yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yr[Yr.NOT_FOUND=5]="NOT_FOUND",Yr[Yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yr[Yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yr[Yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yr[Yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yr[Yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yr[Yr.ABORTED=10]="ABORTED",Yr[Yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yr[Yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yr[Yr.INTERNAL=13]="INTERNAL",Yr[Yr.UNAVAILABLE=14]="UNAVAILABLE",Yr[Yr.DATA_LOSS=15]="DATA_LOSS";class A9{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yf}static getOrCreateInstance(){return null===Yf&&(Yf=new A9),Yf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Yf=null;function SI(){return new TextEncoder}const yF=new Sh([4294967295,4294967295],0);function EI(n){const e=SI().encode(n),t=new dN;return t.update(e),new Uint8Array(t.digest())}function TI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Sh([t,r],0),new Sh([i,c],0)]}class P9{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new g0(`Invalid padding: ${t}`);if(r<0)throw new g0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new g0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new g0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Sh.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Sh.fromNumber(r)));return 1===i.compare(yF)&&(i=new Sh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=EI(e),[r,i]=TI(t);for(let c=0;c<this.hashCount;c++){const l=this.Et(r,i,c);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),l=new P9(c,i,t);return r.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const t=EI(e),[r,i]=TI(t);for(let c=0;c<this.hashCount;c++){const l=this.Et(r,i,c);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class g0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class v0{constructor(e,t,r,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,y0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new v0(Sn.min(),i,new Si(Qn),sa(),ur())}}class y0{constructor(e,t,r,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new y0(r,t,ur(),ur(),ur())}}class jf{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class DI{constructor(e,t){this.targetId=e,this.Vt=t}}class MI{constructor(e,t,r=jo.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class II{constructor(){this.St=0,this.Dt=zI(),this.Ct=jo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ur(),t=ur(),r=ur();return this.Dt.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:sn()}}),new y0(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=zI()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _F{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=sa(),this.zt=xI(),this.Wt=new Si(Qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:sn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,c=this.se(r);if(c){const l=c.target;if(Nf(l))if(0===i){const h=new $t(l.path);this.Yt(r,h,ki.newNoDocument(h,Sn.min()))}else yn(1===i);else{const h=this.ie(r);if(h!==i){const y=this.re(e,h);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=A9.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(M,R,$){var se,fe,Ce,Be,et,St;const Kt={localCacheCount:R,existenceFilterCount:$.count},Rt=$.unchangedNames;return Rt&&(Kt.bloomFilter={applied:0===M,hashCount:null!==(se=Rt?.hashCount)&&void 0!==se?se:0,bitmapLength:null!==(Be=null===(Ce=null===(fe=Rt?.bits)||void 0===fe?void 0:fe.bitmap)||void 0===Ce?void 0:Ce.length)&&void 0!==Be?Be:0,padding:null!==(St=null===(et=Rt?.bits)||void 0===et?void 0:et.padding)&&void 0!==St?St:0}),Kt}(y,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:l=0},hashCount:h=0}=r;let y,M;try{y=vl(c).toUint8Array()}catch(R){if(R instanceof RM)return Na("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw R}try{M=new P9(y,l,h)}catch(R){return Na(R instanceof g0?"BloomFilter error: ":"Applying bloom filter failed: ",R),1}return 0===M.It?1:i!==t-this.oe(e.targetId,M)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(c=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${c.path.canonicalString()}`;t.vt(h)||(this.Yt(e,c,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((c,l)=>{const h=this.se(l);if(h){if(c.current&&Nf(h.target)){const y=new $t(h.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,ki.newNoDocument(y,e))}c.Mt&&(t.set(l,c.Ot()),c.Ft())}});let r=ur();this.zt.forEach((c,l)=>{let h=!0;l.forEachWhile(y=>{const M=this.se(y);return!M||"TargetPurposeLimboResolution"===M.purpose||(h=!1,!1)}),h&&(r=r.add(c))}),this.jt.forEach((c,l)=>l.setReadTime(e));const i=new v0(e,t,this.Wt,this.jt,r);return this.jt=sa(),this.zt=xI(),this.Wt=new Si(Qn),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new II,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Pi(Qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Dt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new II),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function xI(){return new Si($t.comparator)}function zI(){return new Si($t.comparator)}const wF={asc:"ASCENDING",desc:"DESCENDING"},CF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bF={and:"AND",or:"OR"};class SF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function k9(n,e){return n.useProto3Json||n0(e)?e:{value:e}}function Rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EF(n,e){return Rh(n,e.toTimestamp())}function vo(n){return yn(!!n),Sn.fromTimestamp(function(e){const t=lu(e);return new Bi(t.seconds,t.nanos)}(n))}function O9(n,e){return(t=n,new Ur(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function PI(n){const e=Ur.fromString(n);return yn(BI(e)),e}function _0(n,e){return O9(n.databaseId,e.path)}function Bc(n,e){const t=PI(e);if(t.get(1)!==n.databaseId.projectId)throw new vt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new vt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $t(OI(t))}function R9(n,e){return O9(n.databaseId,e)}function kI(n){const e=PI(n);return 4===e.length?Ur.emptyPath():OI(e)}function w0(n){return new Ur(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OI(n){return yn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RI(n,e,t){return{name:_0(n,e),fields:t.value.mapValue.fields}}function NI(n,e,t){const r=Bc(n,e.name),i=vo(e.updateTime),c=e.createTime?vo(e.createTime):Sn.min(),l=new ys({mapValue:{fields:e.fields}}),h=ki.newFoundDocument(r,i,c,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function C0(n,e){let t;if(e instanceof kh)t={update:RI(n,e.key,e.value)};else if(e instanceof Oh)t={delete:_0(n,e.key)};else if(e instanceof wl)t={update:RI(n,e.key,e.data),updateMask:PF(e.fieldMask)};else{if(!(e instanceof M9))return sn();t={verify:_0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,c){const l=c.transform;if(l instanceof Ah)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof L1)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof V1)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ph)return{fieldPath:c.field.canonicalString(),increment:l.gt};throw sn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:EF(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:sn()),t;var i}function N9(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ui.updateTime(vo(i.updateTime)):void 0!==i.exists?Ui.exists(i.exists):Ui.none():Ui.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(c,l){let h=null;"setToServerValue"in l?(yn("REQUEST_TIME"===l.setToServerValue),h=new Ah):"appendMissingElements"in l?h=new L1(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new V1(l.removeAllFromArray.values||[]):"increment"in l?h=new Ph(c,l.increment):sn();const y=so.fromServerFormat(l.fieldPath);return new p0(y,h)}(n,i)):[];var i;if(e.update){const i=Bc(n,e.update.name),c=new ys({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new oa((e.updateMask.fieldPaths||[]).map(M=>so.fromServerFormat(M)));return new wl(i,c,l,t,r)}return new kh(i,c,t,r)}if(e.delete){const i=Bc(n,e.delete);return new Oh(i,t)}if(e.verify){const i=Bc(n,e.verify);return new M9(i,t)}return sn()}function FI(n,e){return{documents:[R9(n,e.path)]}}function F9(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=R9(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=R9(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return HI(gi.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const c=function(y){if(0!==y.length)return y.map(M=>{return{field:mu((R=M).field),direction:xF(R.dir)};var R})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const l=k9(n,e.limit);var h,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function LI(n){let e=kI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){yn(1===r);const R=t.from[0];R.allDescendants?i=R.collectionId:e=e.child(R.collectionId)}let c=[];t.where&&(c=function(R){const $=VI(R);return $ instanceof gi&&_9($)?$.getFilters():[$]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(R=>{return new Ih(Nh(($=R).field),function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction));var $}));let h=null;t.limit&&(h=function(R){let $;return $="object"==typeof R?R.value:R,n0($)?null:$}(t.limit));let y=null;var R;t.startAt&&(y=new pu((R=t.startAt).values||[],!!R.before));let M=null;return t.endAt&&(M=function(R){return new pu(R.values||[],!R.before)}(t.endAt)),eI(e,i,l,c,h,"F",y,M)}function VI(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nh(e.unaryFilter.field);return Nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Nh(e.unaryFilter.field);return Nr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nh(e.unaryFilter.field);return Nr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Nh(e.unaryFilter.field);return Nr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return sn()}}(n):void 0!==n.fieldFilter?Nr.create(Nh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return gi.create(e.compositeFilter.filters.map(t=>VI(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return sn()}}(e.compositeFilter.op))}(n):sn();var e}function xF(n){return wF[n]}function zF(n){return CF[n]}function AF(n){return bF[n]}function mu(n){return{fieldPath:n.canonicalString()}}function Nh(n){return so.fromServerFormat(n.fieldPath)}function HI(n){return n instanceof Nr?function(e){if("=="===e.op){if(LM(e.value))return{unaryFilter:{field:mu(e.field),op:"IS_NAN"}};if(FM(e.value))return{unaryFilter:{field:mu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LM(e.value))return{unaryFilter:{field:mu(e.field),op:"IS_NOT_NAN"}};if(FM(e.value))return{unaryFilter:{field:mu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(e.field),op:zF(e.op),value:e.value}}}(n):n instanceof gi?function(e){const t=e.getFilters().map(r=>HI(r));return 1===t.length?t[0]:{compositeFilter:{op:AF(e.op),filters:t}}}(n):sn()}function PF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function BI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cl{constructor(e,t,r,i,c=Sn.min(),l=Sn.min(),h=jo.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=y}withSequenceNumber(e){return new Cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UI{constructor(e){this.fe=e}}function YI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$f(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_0(i=n.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Rh(i,c.version.toTimestamp()),createTime:Rh(i,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:H1(e.version)};else{if(!e.isUnknownDocument())return sn();r.unknownDocument={path:t.path.toArray(),version:H1(e.version)}}var i,c;return r}function $f(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function H1(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function B1(n){const e=new Bi(n.seconds,n.nanoseconds);return Sn.fromTimestamp(e)}function U1(n,e){const t=(e.baseMutations||[]).map(c=>N9(n.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>N9(n.fe,c)),i=Bi.fromMillis(e.localWriteTimeMs);return new I9(e.batchId,i,t,r)}function b0(n){const e=B1(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?B1(n.lastLimboFreeSnapshotVersion):Sn.min();let r;var i;return void 0!==n.query.documents?(yn(1===(i=n.query).documents.length),r=Ys(zh(kI(i.documents[0])))):r=Ys(LI(n.query)),new Cl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jo.fromBase64String(n.resumeToken))}function jI(n,e){const t=H1(e.snapshotVersion),r=H1(e.lastLimboFreeSnapshotVersion);let i;i=Nf(e.target)?FI(n.fe,e.target):F9(n.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:N1(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function L9(n){const e=LI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Vf(e,e.limit,"L"):e}function V9(n,e){return new z9(e.largestBatchId,N9(n.fe,e.overlayMutation))}function $I(n,e){const t=e.path.lastSegment();return[n,Ms(e.path.popLast()),t]}function GI(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:H1(r.readTime),documentKey:Ms(r.documentKey.path),largestBatchId:r.largestBatchId}}class OF{getBundleMetadata(e,t){return WI(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:B1(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return WI(e).put({bundleId:(r=t).id,createTime:H1(vo(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return KI(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:L9(i.bundledQuery),readTime:B1(i.readTime)};var i})}saveNamedQuery(e,t){return KI(e).put({name:(r=t).name,readTime:H1(vo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function WI(n){return ns(n,"bundles")}function KI(n){return ns(n,"namedQueries")}class Gf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Gf(e,t.uid||"")}getOverlay(e,t){return S0(e).get($I(this.userId,t)).next(r=>r?V9(this.serializer,r):null)}getOverlays(e,t){const r=Hc();return qe.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((c,l)=>{const h=new z9(t,l);i.push(this.we(e,h))}),qe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ms(l.getCollectionPath())));const c=[];return i.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);c.push(S0(e).J("collectionPathOverlayIndex",h))}),qe.waitFor(c)}getOverlaysForCollection(e,t,r){const i=Hc(),c=Ms(t),l=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return S0(e).j("collectionPathOverlayIndex",l).next(h=>{for(const y of h){const M=V9(this.serializer,y);i.set(M.getKey(),M)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const c=Hc();let l;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return S0(e).X({index:"collectionGroupOverlayIndex",range:h},(y,M,R)=>{const $=V9(this.serializer,M);c.size()<i||$.largestBatchId===l?(c.set($.getKey(),$),l=$.largestBatchId):R.done()}).next(()=>c)}we(e,t){return S0(e).put(function(r,i,c){const[l,h,y]=$I(i,c.mutation.key);return{userId:i,collectionPath:h,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:C0(r.fe,c.mutation)}}(this.serializer,this.userId,t))}}function S0(n){return ns(n,"documentOverlays")}class Y1{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ao(e.integerValue));else if("doubleValue"in e){const r=ao(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),r0(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(vl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?VM(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):sn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),$t.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function RF(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function qI(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const c=RF(255&t[i]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}Y1.Ve=new Y1;class NF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=qI(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=qI(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,i,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class FF{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class LF{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class E0{constructor(){this.je=new NF,this.ze=new FF(this.je),this.We=new LF(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class j1{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new j1(this.indexId,this.documentKey,this.arrayValue,r)}}function gu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ZI(n.arrayValue,e.arrayValue),0!==t?t:(t=ZI(n.directionalValue,e.directionalValue),0!==t?t:$t.comparator(n.documentKey,e.documentKey)))}function ZI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class VF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){yn(e.collectionGroup===this.collectionId);const t=d9(e);if(void 0!==t&&!this.en(t))return!1;const r=k1(e);let i=new Set,c=0,l=0;for(;c<r.length&&this.en(r[c]);++c)i=i.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=r[c];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++c}for(;c<r.length;++c)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[c]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function QI(n){var e,t;if(yn(n instanceof Nr||n instanceof gi),n instanceof Nr){if(n instanceof QM){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Nr.create(n.field,"==",c)))||[];return gi.create(i,"or")}return n}const r=n.filters.map(i=>QI(i));return gi.create(r,n.op)}function HF(n){if(0===n.getFilters().length)return[];const e=U9(QI(n));return yn(XI(e)),H9(e)||B9(e)?[e]:e.getFilters()}function H9(n){return n instanceof Nr}function B9(n){return n instanceof gi&&_9(n)}function XI(n){return H9(n)||B9(n)||function(e){if(e instanceof gi&&y9(e)){for(const t of e.getFilters())if(!H9(t)&&!B9(t))return!1;return!0}return!1}(n)}function U9(n){if(yn(n instanceof Nr||n instanceof gi),n instanceof Nr)return n;if(1===n.filters.length)return U9(n.filters[0]);const e=n.filters.map(r=>U9(r));let t=gi.create(e,n.op);return t=Wf(t),XI(t)?t:(yn(t instanceof gi),yn(xh(t)),yn(t.filters.length>1),t.filters.reduce((r,i)=>Y9(r,i)))}function Y9(n,e){let t;return yn(n instanceof Nr||n instanceof gi),yn(e instanceof Nr||e instanceof gi),t=n instanceof Nr?e instanceof Nr?gi.create([n,e],"and"):JI(n,e):e instanceof Nr?JI(e,n):function(r,i){if(yn(r.filters.length>0&&i.filters.length>0),xh(r)&&xh(i))return KM(r,i.getFilters());const c=y9(r)?r:i,l=y9(r)?i:r,h=c.filters.map(y=>Y9(y,l));return gi.create(h,"or")}(n,e),Wf(t)}function JI(n,e){if(xh(e))return KM(e,n.getFilters());{const t=e.filters.map(r=>Y9(n,r));return gi.create(t,"or")}}function Wf(n){if(yn(n instanceof Nr||n instanceof gi),n instanceof Nr)return n;const e=n.getFilters();if(1===e.length)return Wf(e[0]);if(GM(n))return n;const t=e.map(i=>Wf(i)),r=[];return t.forEach(i=>{i instanceof Nr?r.push(i):i instanceof gi&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:gi.create(r,n.op)}class BF{constructor(){this.rn=new j9}addToCollectionParentIndex(e,t){return this.rn.add(t),qe.resolve()}getCollectionParents(e,t){return qe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qe.resolve()}deleteFieldIndex(e,t){return qe.resolve()}getDocumentsMatchingTarget(e,t){return qe.resolve(null)}getIndexType(e,t){return qe.resolve(0)}getFieldIndexes(e,t){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,t){return qe.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,t){return qe.resolve(ya.min())}updateCollectionGroup(e,t,r){return qe.resolve()}updateIndexEntries(e,t){return qe.resolve()}}class j9{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pi(Ur.comparator),c=!i.has(r);return this.index[t]=i.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pi(Ur.comparator)).toArray()}}const Kf=new Uint8Array(0);class UF{constructor(e,t){this.user=e,this.databaseId=t,this.on=new j9,this.un=new _l(r=>N1(r),(r,i)=>l0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:r,parent:Ms(i)};return ex(e).put(c)}return qe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[_M(t),""],!1,!0);return ex(e).j(i).next(c=>{for(const l of c){if(l.collectionId!==t)break;r.push(Lc(l.parent))}return r})}addFieldIndex(e,t){const r=qf(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete i.indexId;const c=r.add(i);if(t.indexState){const l=D0(e);return c.next(h=>{l.put(GI(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=qf(e),i=D0(e),c=T0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=T0(e);let i=!0;const c=new Map;return qe.forEach(this.cn(t),l=>this.an(e,l).next(h=>{i&&(i=!!h),c.set(l,h)})).next(()=>{if(i){let l=ur();const h=[];return qe.forEach(c,(y,M)=>{var R;Dt("IndexedDbIndexManager",`Using index ${R=y,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(Rt=>`${Rt.fieldPath}:${Rt.kind}`).join(",")}`} to execute ${N1(t)}`);const $=function(Rt,Lt){const Ln=d9(Lt);if(void 0===Ln)return null;for(const kn of Ff(Rt,Ln.fieldPath))switch(kn.op){case"array-contains-any":return kn.value.arrayValue.values||[];case"array-contains":return[kn.value]}return null}(M,y),se=function(Rt,Lt){const Ln=new Map;for(const kn of k1(Lt))for(const Tr of Ff(Rt,kn.fieldPath))switch(Tr.op){case"==":case"in":Ln.set(kn.fieldPath.canonicalString(),Tr.value);break;case"not-in":case"!=":return Ln.set(kn.fieldPath.canonicalString(),Tr.value),Array.from(Ln.values())}return null}(M,y),fe=function(Rt,Lt){const Ln=[];let kn=!0;for(const Tr of k1(Lt)){const Ni=0===Tr.kind?XM(Rt,Tr.fieldPath,Rt.startAt):JM(Rt,Tr.fieldPath,Rt.startAt);Ln.push(Ni.value),kn&&(kn=Ni.inclusive)}return new pu(Ln,kn)}(M,y),Ce=function(Rt,Lt){const Ln=[];let kn=!0;for(const Tr of k1(Lt)){const Ni=0===Tr.kind?JM(Rt,Tr.fieldPath,Rt.endAt):XM(Rt,Tr.fieldPath,Rt.endAt);Ln.push(Ni.value),kn&&(kn=Ni.inclusive)}return new pu(Ln,kn)}(M,y),Be=this.hn(y,M,fe),et=this.hn(y,M,Ce),St=this.ln(y,M,se),Kt=this.fn(y.indexId,$,Be,fe.inclusive,et,Ce.inclusive,St);return qe.forEach(Kt,Rt=>r.H(Rt,t.limit).next(Lt=>{Lt.forEach(Ln=>{const kn=$t.fromSegments(Ln.documentKey);l.has(kn)||(l=l.add(kn),h.push(kn))})}))}).next(()=>h)}return qe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:HF(gi.create(e.filters,"and")).map(r=>C9(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,c,l,h){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),M=y/(null!=t?t.length:1),R=[];for(let $=0;$<y;++$){const se=t?this.dn(t[$/M]):Kf,fe=this.wn(e,se,r[$%M],i),Ce=this._n(e,se,c[$%M],l),Be=h.map(et=>this.wn(e,se,et,!0));R.push(...this.createRange(fe,Ce,Be))}return R}wn(e,t,r,i){const c=new j1(e,$t.empty(),t,r);return i?c:c.Je()}_n(e,t,r,i){const c=new j1(e,$t.empty(),t,r);return i?c.Je():c}an(e,t){const r=new VF(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let l=null;for(const h of c)r.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return qe.forEach(i,c=>this.an(e,c).next(l=>{l?0!==r&&l.fields.length<function(h){let y=new Pi(so.comparator),M=!1;for(const R of h.filters)for(const $ of R.getFlattenedFilters())$.field.isKeyField()||("array-contains"===$.op||"array-contains-any"===$.op?M=!0:y=y.add($.field));for(const R of h.orderBy)R.field.isKeyField()||(y=y.add(R.field));return y.size+(M?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new E0;for(const i of k1(e)){const c=t.data.field(i.fieldPath);if(null==c)return null;const l=r.He(i.kind);Y1.Ve._e(c,l)}return r.Qe()}dn(e){const t=new E0;return Y1.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new E0;return Y1.Ve._e(R1(this.databaseId,t),r.He(function(i){const c=k1(i);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new E0);let c=0;for(const l of k1(e)){const h=r[c++];for(const y of i)if(this.yn(t,l.fieldPath)&&a0(h))i=this.pn(i,l,h);else{const M=y.He(l.kind);Y1.Ve._e(h,M)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],c=[];for(const l of r.arrayValue.values||[])for(const h of i){const y=new E0;y.seed(h.Qe()),Y1.Ve._e(l,y.He(t.kind)),c.push(y)}return c}yn(e,t){return!!e.filters.find(r=>r instanceof Nr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=qf(e),i=D0(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(c=>{const l=[];return qe.forEach(c,h=>i.get([h.indexId,this.uid]).next(y=>{l.push(function(M,R){const $=R?new e0(R.sequenceNumber,new ya(B1(R.readTime),new $t(Lc(R.documentKey)),R.largestBatchId)):e0.empty(),se=M.fields.map(([fe,Ce])=>new Mf(so.fromServerFormat(fe),Ce));return new Df(M.indexId,M.collectionGroup,se,$)}(h,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:Qn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=qf(e),c=D0(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>qe.forEach(h,y=>c.put(GI(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return qe.forEach(t,(i,c)=>{const l=r.get(i.collectionGroup);return(l?qe.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),qe.forEach(h,y=>this.En(e,i,y).next(M=>{const R=this.An(c,y);return M.isEqual(R)?qe.resolve():this.vn(e,c,y,M,R)}))))})}Rn(e,t,r,i){return T0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return T0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=T0(e);let c=new Pi(gu);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,h)=>{c=c.add(new j1(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>c)}An(e,t){let r=new Pi(gu);const i=this.mn(t,e);if(null==i)return r;const c=d9(t);if(null!=c){const l=e.data.field(c.fieldPath);if(a0(l))for(const h of l.arrayValue.values||[])r=r.add(new j1(t.indexId,e.key,this.dn(h),i))}else r=r.add(new j1(t.indexId,e.key,Kf,i));return r}vn(e,t,r,i,c){Dt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,y,M,R,$){const se=h.getIterator(),fe=y.getIterator();let Ce=Dh(se),Be=Dh(fe);for(;Ce||Be;){let et=!1,St=!1;if(Ce&&Be){const Kt=M(Ce,Be);Kt<0?St=!0:Kt>0&&(et=!0)}else null!=Ce?St=!0:et=!0;et?(R(Be),Be=Dh(fe)):St?($(Ce),Ce=Dh(se)):(Ce=Dh(se),Be=Dh(fe))}}(i,c,gu,h=>{l.push(this.Rn(e,t,r,h))},h=>{l.push(this.Pn(e,t,r,h))}),qe.waitFor(l)}Tn(e){let t=1;return D0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,h)=>gu(l,h)).filter((l,h,y)=>!h||0!==gu(l,y[h-1]));const i=[];i.push(e);for(const l of r){const h=gu(l,e),y=gu(l,t);if(0===h)i[0]=e.Je();else if(h>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const c=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];c.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Kf,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Kf,[]]))}return c}bn(e,t){return gu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tx)}getMinOffset(e,t){return qe.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||sn())).next(tx)}}function ex(n){return ns(n,"collectionParents")}function T0(n){return ns(n,"indexEntries")}function qf(n){return ns(n,"indexConfiguration")}function D0(n){return ns(n,"indexState")}function tx(n){yn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;h9(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ya(e.readTime,e.documentKey,t)}const nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Is{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Is(e,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),c=[],l=IDBKeyRange.only(t.batchId);let h=0;const y=r.X({range:l},(R,$,se)=>(h++,se.delete()));c.push(y.next(()=>{yn(1===h)}));const M=[];for(const R of t.mutations){const $=IM(e,R.key.path,t.batchId);c.push(i.delete($)),M.push(R.key)}return qe.waitFor(c).next(()=>M)}function Zf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw sn();e=n.noDocument}return JSON.stringify(e).length}Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(41943040,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);class Qf{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){yn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Qf(c,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vu(e).X({index:"userMutationsIndex",range:r},(i,c,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const c=Fh(e),l=vu(e);return l.add({}).next(h=>{yn("number"==typeof h);const y=new I9(h,t,r,i),M=function(se,fe,Ce){const Be=Ce.baseMutations.map(St=>C0(se.fe,St)),et=Ce.mutations.map(St=>C0(se.fe,St));return{userId:fe,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:Be,mutations:et}}(this.serializer,this.userId,y),R=[];let $=new Pi((se,fe)=>Qn(se.canonicalString(),fe.canonicalString()));for(const se of i){const fe=IM(this.userId,se.key.path,h);$=$.add(se.key.path.popLast()),R.push(l.put(M)),R.push(c.put(fe,xN))}return $.forEach(se=>{R.push(this.indexManager.addToCollectionParentIndex(e,se))}),e.addOnCommittedListener(()=>{this.Vn[h]=y.keys()}),qe.waitFor(R).next(()=>y)})}lookupMutationBatch(e,t){return vu(e).get(t).next(r=>r?(yn(r.userId===this.userId),U1(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?qe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return vu(e).X({index:"userMutationsIndex",range:i},(l,h,y)=>{h.userId===this.userId&&(yn(h.batchId>=r),c=U1(this.serializer,h)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,c,l)=>{r=c.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vu(e).j("userMutationsIndex",t).next(r=>r.map(i=>U1(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),c=[];return Fh(e).X({range:i},(l,h,y)=>{const[M,R,$]=l,se=Lc(R);if(M===this.userId&&t.path.isEqual(se))return vu(e).get($).next(fe=>{if(!fe)throw sn();yn(fe.userId===this.userId),c.push(U1(this.serializer,fe))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pi(Qn);const i=[];return t.forEach(c=>{const l=xf(this.userId,c.path),h=IDBKeyRange.lowerBound(l),y=Fh(e).X({range:h},(M,R,$)=>{const[se,fe,Ce]=M,Be=Lc(fe);se===this.userId&&c.path.isEqual(Be)?r=r.add(Ce):$.done()});i.push(y)}),qe.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,c=xf(this.userId,r),l=IDBKeyRange.lowerBound(c);let h=new Pi(Qn);return Fh(e).X({range:l},(y,M,R)=>{const[$,se,fe]=y,Ce=Lc(se);$===this.userId&&r.isPrefixOf(Ce)?Ce.length===i&&(h=h.add(fe)):R.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(c=>{i.push(vu(e).get(c).next(l=>{if(null===l)throw sn();yn(l.userId===this.userId),r.push(U1(this.serializer,l))}))}),qe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return rx(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),qe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return qe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Fh(e).X({range:r},(c,l,h)=>{if(c[0]===this.userId){const y=Lc(c[1]);i.push(y)}else h.done()}).next(()=>{yn(0===i.length)})})}containsKey(e,t){return ix(e,this.userId,t)}xn(e){return ox(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ix(n,e,t){const r=xf(e,t.path),i=r[1],c=IDBKeyRange.lowerBound(r);let l=!1;return Fh(n).X({range:c,Y:!0},(h,y,M)=>{const[R,$,se]=h;R===e&&$===i&&(l=!0),M.done()}).next(()=>l)}function vu(n){return ns(n,"mutations")}function Fh(n){return ns(n,"documentMutations")}function ox(n){return ns(n,"mutationQueues")}class $1{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $1(0)}static Mn(){return new $1(-1)}}class YF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new $1(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Sn.fromTimestamp(new Bi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Lh(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(yn(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const c=[];return Lh(e).X((l,h)=>{const y=b0(h);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,c.push(this.removeTargetData(e,y)))}).next(()=>qe.waitFor(c)).next(()=>i)}forEachTarget(e,t){return Lh(e).X((r,i)=>{const c=b0(i);t(c)})}$n(e){return sx(e).get("targetGlobalKey").next(t=>(yn(null!==t),t))}On(e,t){return sx(e).put("targetGlobalKey",t)}Fn(e,t){return Lh(e).put(jI(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=N1(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Lh(e).X({range:i,index:"queryTargetsIndex"},(l,h,y)=>{const M=b0(h);l0(t,M.target)&&(c=M,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const i=[],c=yu(e);return t.forEach(l=>{const h=Ms(l.path);i.push(c.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,l))}),qe.waitFor(i)}removeMatchingKeys(e,t,r){const i=yu(e);return qe.forEach(t,c=>{const l=Ms(c.path);return qe.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=yu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=yu(e);let c=ur();return i.X({range:r,Y:!0},(l,h,y)=>{const M=Lc(l[1]),R=new $t(M);c=c.add(R)}).next(()=>c)}containsKey(e,t){const r=Ms(t.path),i=IDBKeyRange.bound([r],[_M(r)],!1,!0);let c=0;return yu(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,h],y,M)=>{0!==l&&(c++,M.done())}).next(()=>c>0)}le(e,t){return Lh(e).get(t).next(r=>r?b0(r):null)}}function Lh(n){return ns(n,"targets")}function sx(n){return ns(n,"targetGlobal")}function yu(n){return ns(n,"targetDocuments")}function ax([n,e],[t,r]){const i=Qn(n,t);return 0===i?Qn(e,r):i}class jF{constructor(e){this.Ln=e,this.buffer=new Pi(ax),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ax(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Dt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pt.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){au(r)?Dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield su(r)}yield t.Qn(3e5)}))}}class $F{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return qe.resolve(_a.ct);const r=new jF(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,c,l,h,y,M;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next($=>($>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${$}`),i=this.params.maximumSequenceNumbersToCollect):i=$,l=Date.now(),this.nthSequenceNumber(e,i))).next($=>(r=$,h=Date.now(),this.removeTargets(e,r,t))).next($=>(c=$,y=Date.now(),this.removeOrphanedDocuments(e,r))).next($=>(M=Date.now(),l9()<=I1.in.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-R}ms\n\tDetermined least recently used ${i} in `+(h-l)+`ms\n\tRemoved ${c} targets in `+(y-h)+`ms\n\tRemoved ${$} documents in `+(M-y)+`ms\nTotal Duration: ${M-R}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:$})))}}class GF{constructor(e,t){this.db=e,this.garbageCollector=function lx(n,e){return new $F(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return Xf(e,r)}removeReference(e,t,r){return Xf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Xf(e,t)}Xn(e,t){return function(r,i){let c=!1;return ox(r).Z(l=>ix(r,l,i).next(h=>(h&&(c=!0),qe.resolve(!h)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Yn(e,(l,h)=>{if(h<=t){const y=this.Xn(e,l).next(M=>{if(!M)return c++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Sn.min()),yu(e).delete([0,Ms(l.path)])))});i.push(y)}}).next(()=>qe.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Xf(e,t)}Yn(e,t){const r=yu(e);let i,c=_a.ct;return r.X({index:"documentTargetsIndex"},([l,h],{path:y,sequenceNumber:M})=>{0===l?(c!==_a.ct&&t(new $t(Lc(i)),c),c=M,i=y):c=_a.ct}).next(()=>{c!==_a.ct&&t(new $t(Lc(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xf(n,e){return yu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ms(e.path),sequenceNumber:r}));var r}class ux{constructor(){this.changes=new _l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?qe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return G1(e).put(r)}removeEntry(e,t,r){return G1(e).delete(function(i,c){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],$f(c),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=ki.newInvalidDocument(t);return G1(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(M0(t))},(i,c)=>{r=this.ts(t,c)}).next(()=>r)}es(e,t){let r={size:0,document:ki.newInvalidDocument(t)};return G1(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(M0(t))},(i,c)=>{r={document:this.ts(t,c),size:Zf(c)}}).next(()=>r)}getEntries(e,t){let r=sa();return this.ns(e,t,(i,c)=>{const l=this.ts(i,c);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=sa(),i=new Si($t.comparator);return this.ns(e,t,(c,l)=>{const h=this.ts(c,l);r=r.insert(c,h),i=i.insert(c,Zf(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return qe.resolve();let i=new Pi(px);t.forEach(y=>i=i.add(y));const c=IDBKeyRange.bound(M0(i.first()),M0(i.last())),l=i.getIterator();let h=l.getNext();return G1(e).X({index:"documentKeyIndex",range:c},(y,M,R)=>{const $=$t.fromSegments([...M.prefixPath,M.collectionGroup,M.documentId]);for(;h&&px(h,$)<0;)r(h,null),h=l.getNext();h&&h.isEqual($)&&(r(h,M),h=l.hasNext()?l.getNext():null),h?R.G(M0(h)):R.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const c=t.path,l=[c.popLast().toArray(),c.lastSegment(),$f(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return G1(e).j(IDBKeyRange.bound(l,h,!0)).next(y=>{let M=sa();for(const R of y){const $=this.ts($t.fromSegments(R.prefixPath.concat(R.collectionGroup,R.documentId)),R);$.isFoundDocument()&&(d0(t,$)||i.has($.key))&&(M=M.insert($.key,$))}return M})}getAllFromCollectionGroup(e,t,r,i){let c=sa();const l=fx(t,r),h=fx(t,ya.max());return G1(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(y,M,R)=>{const $=this.ts($t.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);c=c.insert($.key,$),c.size===i&&R.done()}).next(()=>c)}newChangeBuffer(e){return new KF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hx(e).get("remoteDocumentGlobalKey").next(t=>(yn(!!t),t))}Zn(e,t){return hx(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function kF(n,e){let t;if(e.document)t=NI(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$t.fromSegments(e.noDocument.path),i=B1(e.noDocument.readTime);t=ki.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return sn();{const r=$t.fromSegments(e.unknownDocument.path),i=B1(e.unknownDocument.version);t=ki.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Bi(r[0],r[1]);return Sn.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Sn.min()))return r}return ki.newInvalidDocument(e)}}function dx(n){return new WF(n)}class KF extends ux{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new _l(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Pi((c,l)=>Qn(c.canonicalString(),l.canonicalString()));return this.changes.forEach((c,l)=>{const h=this.us.get(c);if(t.push(this.os.removeEntry(e,c,h.readTime)),l.isValidDocument()){const y=YI(this.os.serializer,l);i=i.add(c.path.popLast());const M=Zf(y);r+=M-h.size,t.push(this.os.addEntry(e,c,y))}else if(r-=h.size,this.trackRemovals){const y=YI(this.os.serializer,l.convertToNoDocument(Sn.min()));t.push(this.os.addEntry(e,c,y))}}),i.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,r)),qe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((c,l)=>{this.us.set(c,{size:l,readTime:r.get(c).readTime})}),r))}}function hx(n){return ns(n,"remoteDocumentGlobal")}function G1(n){return ns(n,"remoteDocumentsV14")}function M0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fx(n,e){const t=e.documentKey.path.toArray();return[n,$f(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function px(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(i=Qn(t[c],r[c]),i)return i;return i=Qn(t.length,r.length),i||(i=Qn(t[t.length-2],r[r.length-2]),i||Qn(t[t.length-1],r[r.length-1]))}class qF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&m0(r.mutation,i,oa.empty(),Bi.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ur()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ur()){const i=Hc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(c=>{let l=h0();return c.forEach((h,y)=>{l=l.insert(h,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Hc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ur()))}populateOverlays(e,t,r){const i=[];return r.forEach(c=>{t.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(e,i).next(c=>{c.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,r,i){let c=sa();const l=f0(),h=f0();return t.forEach((y,M)=>{const R=r.get(M.key);i.has(M.key)&&(void 0===R||R.mutation instanceof wl)?c=c.insert(M.key,M):void 0!==R?(l.set(M.key,R.mutation.getFieldMask()),m0(R.mutation,M,R.mutation.getFieldMask(),Bi.now())):l.set(M.key,oa.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((M,R)=>l.set(M,R)),t.forEach((M,R)=>{var $;return h.set(M,new qF(R,null!==($=l.get(M))&&void 0!==$?$:null))}),h))}recalculateAndSaveOverlays(e,t){const r=f0();let i=new Si((l,h)=>l-h),c=ur();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(y=>{const M=t.get(y);if(null===M)return;let R=r.get(y)||oa.empty();R=h.applyToLocalView(M,R),r.set(y,R);const $=(i.get(h.batchId)||ur()).add(y);i=i.insert(h.batchId,$)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),M=y.key,R=y.value,$=aI();R.forEach(se=>{if(!c.has(se)){const fe=gI(t.get(se),r.get(se));null!==fe&&$.set(se,fe),c=c.add(se)}}),l.push(this.documentOverlayCache.saveOverlays(e,M,$))}return qe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return $t.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):S9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(c=>{const l=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-c.size):qe.resolve(Hc());let h=-1,y=c;return l.next(M=>qe.forEach(M,(R,$)=>(h<$.largestBatchId&&(h=$.largestBatchId),c.get(R)?qe.resolve():this.remoteDocumentCache.getEntry(e,R).next(se=>{y=y.insert(R,se)}))).next(()=>this.populateOverlays(e,M,c)).next(()=>this.computeViews(e,y,M,ur())).next(R=>({batchId:h,changes:sI(R)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $t(t)).next(r=>{let i=h0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let c=h0();return this.indexManager.getCollectionParents(e,i).next(l=>qe.forEach(l,h=>{const y=(M=t,R=h.child(i),new yl(R,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,R;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(M=>{M.forEach((R,$)=>{c=c.insert(R,$)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(i=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(c=>{i.forEach((h,y)=>{const M=y.getKey();null===c.get(M)&&(c=c.insert(M,ki.newInvalidDocument(M)))});let l=h0();return c.forEach((h,y)=>{const M=i.get(h);void 0!==M&&m0(M.mutation,y,oa.empty(),Bi.now()),d0(t,y)&&(l=l.insert(h,y))}),l})}}class ZF{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:vo(r.createTime)}),qe.resolve()}getNamedQuery(e,t){return qe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:L9(r.bundledQuery),readTime:vo(r.readTime)}),qe.resolve();var r}}class QF{constructor(){this.overlays=new Si($t.comparator),this.ls=new Map}getOverlay(e,t){return qe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hc();return qe.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,c)=>{this.we(e,t,c)}),qe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),qe.resolve()}getOverlaysForCollection(e,t,r){const i=Hc(),c=t.length+1,l=new $t(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const y=h.getNext().value,M=y.getKey();if(!t.isPrefixOf(M.path))break;M.path.length===c&&y.largestBatchId>r&&i.set(y.getKey(),y)}return qe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let c=new Si((M,R)=>M-R);const l=this.overlays.getIterator();for(;l.hasNext();){const M=l.getNext().value;if(M.getKey().getCollectionGroup()===t&&M.largestBatchId>r){let R=c.get(M.largestBatchId);null===R&&(R=Hc(),c=c.insert(M.largestBatchId,R)),R.set(M.getKey(),M)}}const h=Hc(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((M,R)=>h.set(M,R)),!(h.size()>=i)););return qe.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new z9(t,r));let c=this.ls.get(t);void 0===c&&(c=ur(),this.ls.set(t,c)),this.ls.set(t,c.add(r.key))}}class $9{constructor(){this.fs=new Pi(rs.ds),this.ws=new Pi(rs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new rs(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new rs(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new $t(new Ur([])),r=new rs(t,e),i=new rs(t,e+1),c=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),c.push(l.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new $t(new Ur([])),r=new rs(t,e),i=new rs(t,e+1);let c=ur();return this.ws.forEachInRange([r,i],l=>{c=c.add(l.key)}),c}containsKey(e){const t=new rs(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class rs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return $t.comparator(e.key,t.key)||Qn(e.As,t.As)}static _s(e,t){return Qn(e.As,t.As)||$t.comparator(e.key,t.key)}}class XF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Pi(rs.ds)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const c=this.vs;this.vs++;const l=new I9(c,t,r,i);this.mutationQueue.push(l);for(const h of i)this.Rs=this.Rs.add(new rs(h.key,c)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return qe.resolve(l)}lookupMutationBatch(e,t){return qe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),c=i<0?0:i;return qe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rs(t,0),i=new rs(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,i],l=>{const h=this.Ps(l.As);c.push(h)}),qe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pi(Qn);return t.forEach(i=>{const c=new rs(i,0),l=new rs(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,l],h=>{r=r.add(h.As)})}),qe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let c=r;$t.isDocumentKey(c)||(c=c.child(""));const l=new rs(new $t(c),0);let h=new Pi(Qn);return this.Rs.forEachWhile(y=>{const M=y.key.path;return!!r.isPrefixOf(M)&&(M.length===i&&(h=h.add(y.As)),!0)},l),qe.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){yn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return qe.forEach(t.mutations,i=>{const c=new rs(i.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new rs(t,0),i=this.Rs.firstAfterOrEqual(r);return qe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return qe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class JF{constructor(e){this.Ds=e,this.docs=new Si($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),c=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return qe.resolve(r?r.document.mutableCopy():ki.newInvalidDocument(t))}getEntries(e,t){let r=sa();return t.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():ki.newInvalidDocument(i))}),qe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let c=sa();const l=t.path,h=new $t(l.child("")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:M,value:{document:R}}=y.getNext();if(!l.isPrefixOf(M.path))break;M.path.length>l.length+1||h9(CM(R),r)<=0||(i.has(R.key)||d0(t,R))&&(c=c.insert(R.key,R.mutableCopy()))}return qe.resolve(c)}getAllFromCollectionGroup(e,t,r,i){sn()}Cs(e,t){return qe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eL(this)}getSize(e){return qe.resolve(this.size)}}class eL extends ux{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),qe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class tL{constructor(e){this.persistence=e,this.xs=new _l(t=>N1(t),l0),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $9,this.targetCount=0,this.Ms=$1.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),qe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new $1(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qe.resolve()}updateTargetData(e,t){return this.Fn(t),qe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,t,r){let i=0;const c=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(l),c.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),qe.waitFor(c).next(()=>i)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return qe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),qe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach(l=>{c.push(i.markPotentiallyOrphaned(e,l))}),qe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return qe.resolve(r)}containsKey(e,t){return qe.resolve(this.ks.containsKey(t))}}class G9{constructor(e,t){this.$s={},this.overlays={},this.Os=new _a(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new tL(this),this.indexManager=new BF,this.remoteDocumentCache=new JF(r=>this.referenceDelegate.Ls(r)),this.serializer=new UI(t),this.qs=new ZF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new XF(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Dt("MemoryPersistence","Starting transaction:",e);const i=new nL(this.Os.next());return this.referenceDelegate.Us(),r(i).next(c=>this.referenceDelegate.Ks(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Gs(e,t){return qe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class nL extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class Jf{constructor(e){this.persistence=e,this.Qs=new $9,this.js=null}static zs(e){return new Jf(e)}get Ws(){if(this.js)return this.js;throw sn()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),qe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),qe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,r=>{const i=$t.fromPath(r);return this.Hs(e,i).next(c=>{c||t.removeEntry(i,Sn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return qe.or([()=>qe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class rL{constructor(e){this.serializer=e}O(e,t,r,i){const c=new If("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MM,{unique:!0}),h.createObjectStore("documentMutations"),gx(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=qe.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),gx(e)),l=l.next(()=>function(h){const y=h.store("targetGlobal"),M={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sn.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",M)}(c))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(h,y){return y.store("mutations").j().next(M=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MM,{unique:!0});const R=y.store("mutations"),$=M.map(se=>R.put(se));return qe.waitFor($)})}(e,c))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(c))),r<6&&i>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(c))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,c))),r<9&&i>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(c))),r<11&&i>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(h){const y=h.createObjectStore("documentOverlays",{keyPath:BN});y.createIndex("collectionPathOverlayIndex",UN,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",YN,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(h){const y=h.createObjectStore("remoteDocumentsV14",{keyPath:zN});y.createIndex("documentKeyIndex",AN),y.createIndex("collectionGroupIndex",PN)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,c))),r<15&&i>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:FN}).createIndex("sequenceNumberIndex",LN,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:VN}).createIndex("documentKeyIndex",HN,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=Zf(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>qe.forEach(i,c=>{const l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(h=>qe.forEach(h,y=>{yn(y.userId===c.userId);const M=U1(this.serializer,y);return rx(e,c.userId,M).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.X((l,h)=>{const y=new Ur(l),M=[0,Ms(y)];c.push(t.get(M).next(R=>R?qe.resolve():t.put({targetId:0,path:Ms(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>qe.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:NN});const r=t.store("collectionParents"),i=new j9,c=l=>{if(i.add(l)){const h=l.lastSegment(),y=l.popLast();return r.put({collectionId:h,parent:Ms(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,h)=>{const y=new Ur(l);return c(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,h,y],M)=>{const R=Lc(h);return c(R.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const c=b0(i),l=jI(this.serializer,c);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((c,l)=>{const h=t.store("remoteDocumentsV14"),y=(M=l,M.document?new $t(Ur.fromString(M.document.name).popFirst(5)):M.noDocument?$t.fromSegments(M.noDocument.path):M.unknownDocument?$t.fromSegments(M.unknownDocument.path):sn()).path.toArray();var M;const R={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(h.put(R))}).next(()=>qe.waitFor(i))}si(e,t){const r=t.store("mutations"),i=dx(this.serializer),c=new G9(Jf.zs,this.serializer.fe);return r.j().next(l=>{const h=new Map;return l.forEach(y=>{var M;let R=null!==(M=h.get(y.userId))&&void 0!==M?M:ur();U1(this.serializer,y).keys().forEach($=>R=R.add($)),h.set(y.userId,R)}),qe.forEach(h,(y,M)=>{const R=new ts(M),$=Gf.de(this.serializer,R),se=c.getIndexManager(R),fe=Qf.de(R,this.serializer,se,c.referenceDelegate);return new mx(i,fe,$,se).recalculateAndSaveOverlaysForDocumentKeys(new m9(t,_a.ct),y).next()})})}}function gx(n){n.createObjectStore("targetDocuments",{keyPath:ON}).createIndex("documentTargetsIndex",RN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kN,{unique:!0}),n.createObjectStore("targetGlobal")}const W9="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class K9{constructor(e,t,r,i,c,l,h,y,M,R,$=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=c,this.window=l,this.document=h,this.ri=M,this.oi=R,this.ui=$,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=se=>Promise.resolve(),!K9.D())throw new vt(nt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GF(this,i),this.di=t+"main",this.serializer=new UI(y),this.wi=new uc(this.di,this.ui,new rL(this.serializer)),this.Bs=new YF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dx(this.serializer),this.qs=new OF,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===R&&go("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(nt.FAILED_PRECONDITION,W9);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new _a(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,pt.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,pt.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,pt.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(au(e))return Dt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return I0(e).get("owner").next(t=>qe.resolve(this.Ri(t)))}Pi(e){return tp(e).delete(this.clientId)}bi(){var e=this;return(0,pt.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ns(r,"clientMetadata");return i.j().next(c=>{const l=e.Si(c,18e5),h=c.filter(y=>-1===l.indexOf(y));return qe.forEach(h,y=>i.delete(y.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?qe.resolve(!0):I0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new vt(nt.FAILED_PRECONDITION,W9);return!1}}return!(!this.networkEnabled||!this.inForeground)||tp(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Dt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pt.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new m9(t,_a.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>tp(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Qf.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new UF(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Gf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Dt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",c=15===(l=this.ui)?$N:14===l?AM:13===l?zM:12===l?jN:11===l?xM:void sn();var l;let h;return this.wi.runTransaction(e,i,c,y=>(h=new m9(y,this.Os?this.Os.next():_a.ct),"readwrite-primary"===t?this.Ti(h).next(M=>!!M||this.Ei(h)).next(M=>{if(!M)throw go(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new vt(nt.FAILED_PRECONDITION,bM);return r(h)}).next(M=>this.vi(h).next(()=>M)):this.Oi(h).next(()=>r(h)))).then(y=>(h.raiseOnCommittedEvent(),y))}Oi(e){return I0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new vt(nt.FAILED_PRECONDITION,W9)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return I0(e).put("owner",t)}static D(){return uc.D()}Ai(e){const t=I0(e);return t.get("owner").next(r=>this.Ri(r)?(Dt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):qe.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(go(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,xr.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Dt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return go("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){go("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function I0(n){return ns(n,"owner")}function tp(n){return ns(n,"clientMetadata")}function q9(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Z9{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=ur(),i=ur();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new Z9(e,t.fromCache,r,i)}}class vx{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(c=>c||this.Gi(e,t,i,r)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(tI(t))return qe.resolve(null);let r=Ys(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Vf(t,null,"F"),r=Ys(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const l=ur(...c);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(y=>{const M=this.ji(t,h);return this.zi(t,M,l,y.readTime)?this.Ki(e,Vf(t,null,"F")):this.Wi(e,M,t,y)}))})))}Gi(e,t,r,i){return tI(t)||i.isEqual(Sn.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(c=>{const l=this.ji(t,c);return this.zi(t,l,r,i)?this.Qi(e,t):(l9()<=I1.in.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),T9(t)),this.Wi(e,l,t,wM(i,-1)))})}ji(e,t){let r=new Pi(iI(e));return t.forEach((i,c)=>{d0(e,c)&&(r=r.add(c))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Qi(e,t){return l9()<=I1.in.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",T9(t)),this.Ui.getDocumentsMatchingQuery(e,t,ya.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(c=>(t.forEach(l=>{c=c.insert(l.key,l)}),c))}}class iL{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Si(Qn),this.Yi=new _l(c=>N1(c),l0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function yx(n,e,t,r){return new iL(n,e,t,r)}function _x(n,e){return Q9.apply(this,arguments)}function Q9(){return Q9=(0,pt.Z)(function*(n,e){const t=Wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const l=[],h=[];let y=ur();for(const M of i){l.push(M.batchId);for(const R of M.mutations)y=y.add(R.key)}for(const M of c){h.push(M.batchId);for(const R of M.mutations)y=y.add(R.key)}return t.localDocuments.getDocuments(r,y).next(M=>({er:M,removedBatchIds:l,addedBatchIds:h}))})})}),Q9.apply(this,arguments)}function wx(n){const e=Wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Cx(n,e,t){let r=ur(),i=ur();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let l=sa();return t.forEach((h,y)=>{const M=c.get(h);y.isFoundDocument()!==M.isFoundDocument()&&(i=i.add(h)),y.isNoDocument()&&y.version.isEqual(Sn.min())?(e.removeEntry(h,y.readTime),l=l.insert(h,y)):!M.isValidDocument()||y.version.compareTo(M.version)>0||0===y.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(y),l=l.insert(h,y)):Dt("LocalStore","Ignoring outdated watch update for ",h,". Current version:",M.version," Watch version:",y.version)}),{nr:l,sr:i}})}function aL(n,e){const t=Wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vh(n,e){const t=Wt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(c=>c?(i=c,qe.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Cl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Hh(n,e,t){return X9.apply(this,arguments)}function X9(){return X9=(0,pt.Z)(function*(n,e,t){const r=Wt(n),i=r.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!au(l))throw l;Dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),X9.apply(this,arguments)}function np(n,e,t){const r=Wt(n);let i=Sn.min(),c=ur();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,y,M){const R=Wt(h),$=R.Yi.get(M);return void 0!==$?qe.resolve(R.Ji.get($)):R.Bs.getTargetData(y,M)}(r,l,Ys(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,h.targetId).next(y=>{c=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Sn.min(),t?c:ur())).next(h=>(Ex(r,rI(e),h),{documents:h,ir:c})))}function bx(n,e){const t=Wt(n),r=Wt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(l=>l?l.target:null))}function Sx(n,e){const t=Wt(n),r=t.Xi.get(e)||Sn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,wM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Ex(t,e,i),i))}function Ex(n,e,t){let r=n.Xi.get(e)||Sn.min();t.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Xi.set(e,r)}function J9(){return J9=(0,pt.Z)(function*(n,e,t,r){const i=Wt(n);let c=ur(),l=sa();for(const M of t){const R=e.rr(M.metadata.name);M.document&&(c=c.add(R));const $=e.ur(M);$.setReadTime(e.cr(M.metadata.readTime)),l=l.insert(R,$)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield Vh(i,(M=r,Ys(zh(Ur.fromString(`__bundle__/docs/${M}`)))));var M;return i.persistence.runTransaction("Apply bundle documents","readwrite",M=>Cx(M,h,l).next(R=>(h.apply(M),R)).next(R=>i.Bs.removeMatchingKeysForTargetId(M,y.targetId).next(()=>i.Bs.addMatchingKeys(M,c,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(M,R.nr,R.sr)).next(()=>R.nr)))}),J9.apply(this,arguments)}function lL(n,e){return ey.apply(this,arguments)}function ey(){return ey=(0,pt.Z)(function*(n,e,t=ur()){const r=yield Vh(n,Ys(L9(e.bundledQuery))),i=Wt(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const l=vo(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(c,e);const h=r.withResumeToken(jo.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(c,h).next(()=>i.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.Bs.addMatchingKeys(c,t,r.targetId)).next(()=>i.qs.saveNamedQuery(c,e))})}),ey.apply(this,arguments)}function Tx(n,e){return`firestore_clients_${n}_${e}`}function Dx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ty(n,e){return`firestore_targets_${n}_${e}`}class rp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let c,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(c=new vt(i.error.code,i.error.message))),l?new rp(e,t,i.state,c):(go("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class x0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new vt(r.error.code,r.error.message))),c?new x0(e,r.state,i):(go("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ip{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=D9();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=TM(r.activeTargetIds[l]),c=c.add(r.activeTargetIds[l]);return i?new ip(e,c):(go("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ny{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ny(t.clientId,t.onlineState):(go("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ry{constructor(){this.activeTargetIds=D9()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iy{constructor(e,t,r,i,c){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Si(Qn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=Tx(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ry),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pt.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const c=e.getItem(Tx(e.persistenceKey,i));if(c){const l=ip.ar(i,c);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ty(this.persistenceKey,e));if(r){const i=x0.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ty(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Dt("SharedClientState","READ",e,t),t}setItem(e,t){Dt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Dt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void go("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,pt.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(c){let l=_a.ct;if(null!=c)try{const h=JSON.parse(c);yn("number"==typeof h),l=h}catch(h){go("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(r.newValue);i!==_a.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new rp(this.currentUser,e,t,r),c=Dx(this.persistenceKey,this.currentUser,e);this.setItem(c,i.hr())}Cr(e){const t=Dx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=ty(this.persistenceKey,e),c=new x0(e,t,r);this.setItem(i,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return ip.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return rp.ar(new ts(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return x0.ar(i,t)}br(e){return ny.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,pt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Dt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),c=this.Sr(r),l=[],h=[];return c.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{c.has(y)||h.push(y)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=D9();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Mx{constructor(){this.Hr=new ry,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ry,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uL{Yr(e){}shutdown(){}}class Ix{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let op=null;function oy(){return null===op?op=268435456+Math.round(2147483648*Math.random()):op++,"0x"+op.toString(16)}const dL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hL{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xs="WebChannelConnection";class fL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,c){const l=oy(),h=this.To(e,t);Dt("RestConnection",`Sending RPC '${e}' ${l}:`,h,r);const y={};return this.Eo(y,i,c),this.Ao(e,h,y,r).then(M=>(Dt("RestConnection",`Received RPC '${e}' ${l}: `,M),M),M=>{throw Na("RestConnection",`RPC '${e}' ${l} failed with error: `,M,"url: ",h,"request:",r),M})}vo(e,t,r,i,c,l){return this.Io(e,t,r,i,c)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,c)=>e[c]=i),r&&r.headers.forEach((i,c)=>e[c]=i)}To(e,t){return`${this.mo}/v1/${t}:${dL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const c=oy();return new Promise((l,h)=>{const y=new uN;y.setWithCredentials(!0),y.listenOnce(aN.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case c9.NO_ERROR:const R=y.getResponseJson();Dt(xs,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(R)),l(R);break;case c9.TIMEOUT:Dt(xs,`RPC '${e}' ${c} timed out`),h(new vt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case c9.HTTP_ERROR:const $=y.getStatus();if(Dt(xs,`RPC '${e}' ${c} failed with status:`,$,"response text:",y.getResponseText()),$>0){let se=y.getResponseJson();Array.isArray(se)&&(se=se[0]);const fe=se?.error;if(fe&&fe.status&&fe.message){const Ce=function(Be){const et=Be.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(et)>=0?et:nt.UNKNOWN}(fe.status);h(new vt(Ce,fe.message))}else h(new vt(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new vt(nt.UNAVAILABLE,"Connection failed."));break;default:sn()}}finally{Dt(xs,`RPC '${e}' ${c} completed.`)}});const M=JSON.stringify(i);Dt(xs,`RPC '${e}' ${c} sending request:`,i),y.send(t,"POST",M,r,15)})}Ro(e,t,r){const i=oy(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=oN(),h=sN(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},M=this.longPollingOptions.timeoutSeconds;void 0!==M&&(y.longPollingTimeout=Math.round(1e3*M)),this.useFetchStreams&&(y.xmlHttpFactory=new lN({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const R=c.join("");Dt(xs,`Creating RPC '${e}' stream ${i}: ${R}`,y);const $=l.createWebChannel(R,y);let se=!1,fe=!1;const Ce=new hL({ro:et=>{fe?Dt(xs,`Not sending because RPC '${e}' stream ${i} is closed:`,et):(se||(Dt(xs,`Opening RPC '${e}' stream ${i} transport.`),$.open(),se=!0),Dt(xs,`RPC '${e}' stream ${i} sending:`,et),$.send(et))},oo:()=>$.close()}),Be=(et,St,Kt)=>{et.listen(St,Rt=>{try{Kt(Rt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return Be($,Tf.EventType.OPEN,()=>{fe||Dt(xs,`RPC '${e}' stream ${i} transport opened.`)}),Be($,Tf.EventType.CLOSE,()=>{fe||(fe=!0,Dt(xs,`RPC '${e}' stream ${i} transport closed`),Ce.wo())}),Be($,Tf.EventType.ERROR,et=>{fe||(fe=!0,Na(xs,`RPC '${e}' stream ${i} transport errored:`,et),Ce.wo(new vt(nt.UNAVAILABLE,"The operation could not be completed")))}),Be($,Tf.EventType.MESSAGE,et=>{var St;if(!fe){const Kt=et.data[0];yn(!!Kt);const Lt=Kt.error||(null===(St=Kt[0])||void 0===St?void 0:St.error);if(Lt){Dt(xs,`RPC '${e}' stream ${i} received error:`,Lt);const Ln=Lt.status;let kn=function(Ni){const Dr=Io[Ni];if(void 0!==Dr)return bI(Dr)}(Ln),Tr=Lt.message;void 0===kn&&(kn=nt.INTERNAL,Tr="Unknown error status: "+Ln+" with message "+Lt.message),fe=!0,Ce.wo(new vt(kn,Tr)),$.close()}else Dt(xs,`RPC '${e}' stream ${i} received:`,Kt),Ce._o(Kt)}}),Be(h,cN.STAT_EVENT,et=>{et.stat===pM.PROXY?Dt(xs,`RPC '${e}' stream ${i} detected buffering proxy`):et.stat===pM.NOPROXY&&Dt(xs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Ce.fo()},0),Ce}}function xx(){return typeof window<"u"?window:null}function sp(){return typeof document<"u"?document:null}function z0(n){return new SF(n,!0)}class sy{constructor(e,t,r=1e3,i=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class zx{constructor(e,t,r,i,c,l,h,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=c,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sy(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,pt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,pt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,pt.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===nt.RESOURCE_EXHAUSTED?(go(t.toString()),go("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===nt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new vt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,pt.Z)(function*(){e.state=0,e.start()}))}tu(e){return Dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pL extends zx{constructor(e,t,r,i,c,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function DF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:sn(),i=e.targetChange.targetIds||[],c=function(y,M){return y.useProto3Json?(yn(void 0===M||"string"==typeof M),jo.fromBase64String(M||"")):(yn(void 0===M||M instanceof Uint8Array),jo.fromUint8Array(M||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(y){const M=void 0===y.code?nt.UNKNOWN:bI(y.code);return new vt(M,y.message||"")}(l);t=new MI(r,i,c,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Bc(n,r.document.name),c=vo(r.document.updateTime),l=r.document.createTime?vo(r.document.createTime):Sn.min(),h=new ys({mapValue:{fields:r.document.fields}}),y=ki.newFoundDocument(i,c,l,h);t=new jf(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Bc(n,r.document),c=r.readTime?vo(r.readTime):Sn.min(),l=ki.newNoDocument(i,c);t=new jf([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Bc(n,r.document);t=new jf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return sn();{const r=e.filter,{count:i=0,unchangedNames:c}=r,l=new vF(i,c);t=new DI(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Sn.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?Sn.min():c.readTime?vo(c.readTime):Sn.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=w0(this.serializer),t.addTarget=function(i,c){let l;const h=c.target;if(l=Nf(h)?{documents:FI(i,h)}:{query:F9(i,h)},l.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){l.resumeToken=AI(i,c.resumeToken);const y=k9(i,c.expectedCount);null!==y&&(l.expectedCount=y)}else if(c.snapshotVersion.compareTo(Sn.min())>0){l.readTime=Rh(i,c.snapshotVersion.toTimestamp());const y=k9(i,c.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function IF(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=w0(this.serializer),t.removeTarget=e,this.Wo(t)}}class mL extends zx{constructor(e,t,r,i,c,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function MF(n,e){return n&&n.length>0?(yn(void 0!==e),n.map(t=>function(r,i){let c=vo(r.updateTime?r.updateTime:i);return c.isEqual(Sn.min())&&(c=vo(i)),new fF(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vo(e.commitTime);return this.listener.cu(r,t)}return yn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=w0(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>C0(this.serializer,r))};this.Wo(t)}}class gL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new vt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.Io(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new vt(nt.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,l])=>this.connection.vo(e,t,r,c,l,i)).catch(c=>{throw"FirebaseError"===c.name?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(nt.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class yL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(go(t),this.mu=!1):Dt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _L{constructor(e,t,r,i,c){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(h=>{r.enqueueAndForget((0,pt.Z)(function*(){var y;_u(l)&&(Dt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,pt.Z)(function*(M){const R=Wt(M);R.vu.add(4),yield Bh(R),R.bu.set("Unknown"),R.vu.delete(4),yield A0(R)}),function(M){return y.apply(this,arguments)})(l))}))}),this.bu=new yL(r,i)}}function A0(n){return cy.apply(this,arguments)}function cy(){return cy=(0,pt.Z)(function*(n){if(_u(n))for(const e of n.Ru)yield e(!0)}),cy.apply(this,arguments)}function Bh(n){return ly.apply(this,arguments)}function ly(){return ly=(0,pt.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),ly.apply(this,arguments)}function ap(n,e){const t=Wt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),hy(t)?dy(t):Yh(t).Ko()&&uy(t,e))}function P0(n,e){const t=Wt(n),r=Yh(t);t.Au.delete(e),r.Ko()&&Ax(t,e),0===t.Au.size&&(r.Ko()?r.jo():_u(t)&&t.bu.set("Unknown"))}function uy(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Sn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yh(n).su(e)}function Ax(n,e){n.Vu.qt(e),Yh(n).iu(e)}function dy(n){n.Vu=new _F({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Yh(n).start(),n.bu.gu()}function hy(n){return _u(n)&&!Yh(n).Uo()&&n.Au.size>0}function _u(n){return 0===Wt(n).vu.size}function Px(n){n.Vu=void 0}function wL(n){return fy.apply(this,arguments)}function fy(){return fy=(0,pt.Z)(function*(n){n.Au.forEach((e,t)=>{uy(n,e)})}),fy.apply(this,arguments)}function CL(n,e){return py.apply(this,arguments)}function py(){return py=(0,pt.Z)(function*(n,e){Px(n),hy(n)?(n.bu.Iu(e),dy(n)):n.bu.set("Unknown")}),py.apply(this,arguments)}function bL(n,e,t){return my.apply(this,arguments)}function my(){return my=(0,pt.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof MI&&2===e.state&&e.cause)try{yield(r=(0,pt.Z)(function*(i,c){const l=c.cause;for(const h of c.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,l),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,c){return r.apply(this,arguments)})(n,e)}catch(r){Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield cp(n,r)}else if(e instanceof jf?n.Vu.Ht(e):e instanceof DI?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Sn.min()))try{const r=yield wx(n.localStore);t.compareTo(r)>=0&&(yield function(i,c){const l=i.Vu.ce(c);return l.targetChanges.forEach((h,y)=>{if(h.resumeToken.approximateByteSize()>0){const M=i.Au.get(y);M&&i.Au.set(y,M.withResumeToken(h.resumeToken,c))}}),l.targetMismatches.forEach((h,y)=>{const M=i.Au.get(h);if(!M)return;i.Au.set(h,M.withResumeToken(jo.EMPTY_BYTE_STRING,M.snapshotVersion)),Ax(i,h);const R=new Cl(M.target,h,y,M.sequenceNumber);uy(i,R)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Dt("RemoteStore","Failed to raise snapshot:",r),yield cp(n,r)}var r}),my.apply(this,arguments)}function cp(n,e,t){return gy.apply(this,arguments)}function gy(){return gy=(0,pt.Z)(function*(n,e,t){if(!au(e))throw e;n.vu.add(1),yield Bh(n),n.bu.set("Offline"),t||(t=()=>wx(n.localStore)),n.asyncQueue.enqueueRetryable((0,pt.Z)(function*(){Dt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield A0(n)}))}),gy.apply(this,arguments)}function kx(n,e){return e().catch(t=>cp(n,t,e))}function Uh(n){return vy.apply(this,arguments)}function vy(){return vy=(0,pt.Z)(function*(n){const e=Wt(n),t=wu(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;SL(e);)try{const i=yield aL(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,EL(e,i)}catch(i){yield cp(e,i)}Ox(e)&&Rx(e)}),vy.apply(this,arguments)}function SL(n){return _u(n)&&n.Eu.length<10}function EL(n,e){n.Eu.push(e);const t=wu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Ox(n){return _u(n)&&!wu(n).Uo()&&n.Eu.length>0}function Rx(n){wu(n).start()}function TL(n){return yy.apply(this,arguments)}function yy(){return yy=(0,pt.Z)(function*(n){wu(n).hu()}),yy.apply(this,arguments)}function DL(n){return _y.apply(this,arguments)}function _y(){return _y=(0,pt.Z)(function*(n){const e=wu(n);for(const t of n.Eu)e.uu(t.mutations)}),_y.apply(this,arguments)}function ML(n,e,t){return wy.apply(this,arguments)}function wy(){return wy=(0,pt.Z)(function*(n,e,t){const r=n.Eu.shift(),i=x9.from(r,e,t);yield kx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Uh(n)}),wy.apply(this,arguments)}function IL(n,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,pt.Z)(function*(n,e){var t;e&&wu(n).ou&&(yield(t=(0,pt.Z)(function*(r,i){if(CI(c=i.code)&&c!==nt.ABORTED){const l=r.Eu.shift();wu(r).Qo(),yield kx(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Uh(r)}var c}),function(r,i){return t.apply(this,arguments)})(n,e)),Ox(n)&&Rx(n)}),Cy.apply(this,arguments)}function Nx(n,e){return by.apply(this,arguments)}function by(){return by=(0,pt.Z)(function*(n,e){const t=Wt(n);t.asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials");const r=_u(t);t.vu.add(3),yield Bh(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield A0(t)}),by.apply(this,arguments)}function Sy(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,pt.Z)(function*(n,e){const t=Wt(n);e?(t.vu.delete(2),yield A0(t)):e||(t.vu.add(2),yield Bh(t),t.bu.set("Unknown"))}),Ey.apply(this,arguments)}function Yh(n){return n.Su||(n.Su=function(e,t,r){const i=Wt(e);return i.fu(),new pL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:wL.bind(null,n),ao:CL.bind(null,n),nu:bL.bind(null,n)}),n.Ru.push(function(){var e=(0,pt.Z)(function*(t){t?(n.Su.Qo(),hy(n)?dy(n):n.bu.set("Unknown")):(yield n.Su.stop(),Px(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function wu(n){return n.Du||(n.Du=function(e,t,r){const i=Wt(e);return i.fu(),new mL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:TL.bind(null,n),ao:IL.bind(null,n),au:DL.bind(null,n),cu:ML.bind(null,n)}),n.Ru.push(function(){var e=(0,pt.Z)(function*(t){t?(n.Du.Qo(),yield Uh(n)):(yield n.Du.stop(),n.Eu.length>0&&(Dt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Ty{constructor(e,t,r,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,c){const l=Date.now()+r,h=new Ty(e,t,l,i,c);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jh(n,e){if(go("AsyncQueue",`${e}: ${n}`),au(n))return new vt(nt.UNAVAILABLE,`${e}: ${n}`);throw n}class $h{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$t.comparator(t.key,r.key):(t,r)=>$t.comparator(t.key,r.key),this.keyedMap=h0(),this.sortedSet=new Si(this.comparator)}static emptySet(e){return new $h(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $h)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $h;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Fx{constructor(){this.Cu=new Si($t.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):sn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Gh{constructor(e,t,r,i,c,l,h,y,M){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=y,this.hasCachedResults=M}static fromInitialDocuments(e,t,r,i,c){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Gh(e,t,$h.emptySet(t),l,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&u0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class xL{constructor(){this.Nu=void 0,this.listeners=[]}}class zL{constructor(){this.queries=new _l(e=>nI(e),u0),this.onlineState="Unknown",this.ku=new Set}}function Dy(n,e){return My.apply(this,arguments)}function My(){return My=(0,pt.Z)(function*(n,e){const t=Wt(n),r=e.query;let i=!1,c=t.queries.get(r);if(c||(i=!0,c=new xL),i)try{c.Nu=yield t.onListen(r)}catch(l){const h=jh(l,`Initialization of query '${T9(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&zy(t)}),My.apply(this,arguments)}function Iy(n,e){return xy.apply(this,arguments)}function xy(){return xy=(0,pt.Z)(function*(n,e){const t=Wt(n),r=e.query;let i=!1;const c=t.queries.get(r);if(c){const l=c.listeners.indexOf(e);l>=0&&(c.listeners.splice(l,1),i=0===c.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),xy.apply(this,arguments)}function AL(n,e){const t=Wt(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const h of l.listeners)h.$u(i)&&(r=!0);l.Nu=i}}r&&zy(t)}function PL(n,e,t){const r=Wt(n),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(t);r.queries.delete(e)}function zy(n){n.ku.forEach(e=>{e.next()})}class Ay{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Gh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class kL{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Lx{constructor(e){this.serializer=e}rr(e){return Bc(this.serializer,e)}ur(e){return e.metadata.exists?NI(this.serializer,e.document,!1):ki.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return vo(e)}}class OL{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vx(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Ur.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new Lx(this.serializer);for(const i of e)if(i.metadata.queries){const c=r.rr(i.metadata.name);for(const l of i.metadata.queries){const h=(t.get(l)||ur()).add(c);t.set(l,h)}}return t}complete(){var e=this;return(0,pt.Z)(function*(){const t=yield function cL(n,e,t,r){return J9.apply(this,arguments)}(e.localStore,new Lx(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield lL(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Vx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Hx{constructor(e){this.key=e}}class Bx{constructor(e){this.key=e}}class Ux{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ur(),this.mutatedKeys=ur(),this.tc=iI(e),this.ec=new $h(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Fx,i=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,M="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((R,$)=>{const se=i.get(R),fe=d0(this.query,$)?$:null,Ce=!!se&&this.mutatedKeys.has(se.key),Be=!!fe&&(fe.hasLocalMutations||this.mutatedKeys.has(fe.key)&&fe.hasCommittedMutations);let et=!1;se&&fe?se.data.isEqual(fe.data)?Ce!==Be&&(r.track({type:3,doc:fe}),et=!0):this.rc(se,fe)||(r.track({type:2,doc:fe}),et=!0,(y&&this.tc(fe,y)>0||M&&this.tc(fe,M)<0)&&(h=!0)):!se&&fe?(r.track({type:0,doc:fe}),et=!0):se&&!fe&&(r.track({type:1,doc:se}),et=!0,(y||M)&&(h=!0)),et&&(fe?(l=l.add(fe),c=Be?c.add(R):c.delete(R)):(l=l.delete(R),c=c.delete(R)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const R="F"===this.query.limitType?l.last():l.first();l=l.delete(R.key),c=c.delete(R.key),r.track({type:1,doc:R})}return{ec:l,ic:r,zi:h,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((M,R)=>function($,se){const fe=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn()}};return fe($)-fe(se)}(M.type,R.type)||this.tc(M.doc,R.doc)),this.oc(r);const l=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,y=h!==this.Xu;return this.Xu=h,0!==c.length||y?{snapshot:new Gh(this.query,e.ec,i,c,e.mutatedKeys,0===h,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Fx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ur(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Bx(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Hx(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ur();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Gh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class RL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NL{constructor(e){this.key=e,this.fc=!1}}class FL{constructor(e,t,r,i,c,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new _l(h=>nI(h),u0),this._c=new Map,this.mc=new Set,this.gc=new Si($t.comparator),this.yc=new Map,this.Ic=new $9,this.Tc={},this.Ec=new Map,this.Ac=$1.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function LL(n,e){return Py.apply(this,arguments)}function Py(){return Py=(0,pt.Z)(function*(n,e){const t=t_(n);let r,i;const c=t.wc.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),i=c.view.lc();else{const l=yield Vh(t.localStore,Ys(e)),h=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield ky(t,e,r,"current"===h,l.resumeToken),t.isPrimaryClient&&ap(t.remoteStore,l)}return i}),Py.apply(this,arguments)}function ky(n,e,t,r,i){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,pt.Z)(function*(n,e,t,r,i){n.Rc=($,se,fe)=>{return(Ce=(0,pt.Z)(function*(Be,et,St,Kt){let Rt=et.view.sc(St);Rt.zi&&(Rt=yield np(Be.localStore,et.query,!1).then(({documents:kn})=>et.view.sc(kn,Rt)));const Lt=Kt&&Kt.targetChanges.get(et.targetId),Ln=et.view.applyChanges(Rt,Be.isPrimaryClient,Lt);return jy(Be,et.targetId,Ln.cc),Ln.snapshot}),function(Be,et,St,Kt){return Ce.apply(this,arguments)})(n,$,se,fe);var Ce};const c=yield np(n.localStore,e,!0),l=new Ux(e,c.ir),h=l.sc(c.documents),y=y0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),M=l.applyChanges(h,n.isPrimaryClient,y);jy(n,t,M.cc);const R=new RL(e,t,l);return n.wc.set(e,R),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),M.snapshot}),Oy.apply(this,arguments)}function VL(n,e){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,pt.Z)(function*(n,e){const t=Wt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(c=>!u0(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),P0(t.remoteStore,r.targetId),Wh(t,r.targetId)}).catch(su))):(Wh(t,r.targetId),yield Hh(t.localStore,r.targetId,!0))}),Ry.apply(this,arguments)}function Ny(){return Ny=(0,pt.Z)(function*(n,e,t){const r=n_(n);try{const i=yield function(c,l){const h=Wt(c),y=Bi.now(),M=l.reduce((se,fe)=>se.add(fe.key),ur());let R,$;return h.persistence.runTransaction("Locally write mutations","readwrite",se=>{let fe=sa(),Ce=ur();return h.Zi.getEntries(se,M).next(Be=>{fe=Be,fe.forEach((et,St)=>{St.isValidDocument()||(Ce=Ce.add(et))})}).next(()=>h.localDocuments.getOverlayedDocuments(se,fe)).next(Be=>{R=Be;const et=[];for(const St of l){const Kt=mF(St,R.get(St.key).overlayedDocument);null!=Kt&&et.push(new wl(St.key,Kt,UM(Kt.value.mapValue),Ui.exists(!0)))}return h.mutationQueue.addMutationBatch(se,y,et,l)}).next(Be=>{$=Be;const et=Be.applyToLocalDocumentSet(R,Ce);return h.documentOverlayCache.saveOverlays(se,Be.batchId,et)})}).then(()=>({batchId:$.batchId,changes:sI(R)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,l,h){let y=c.Tc[c.currentUser.toKey()];y||(y=new Si(Qn)),y=y.insert(l,h),c.Tc[c.currentUser.toKey()]=y}(r,i.batchId,t),yield bl(r,i.changes),yield Uh(r.remoteStore)}catch(i){const c=jh(i,"Failed to persist write");t.reject(c)}}),Ny.apply(this,arguments)}function Yx(n,e){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,pt.Z)(function*(n,e){const t=Wt(n);try{const r=yield function sL(n,e){const t=Wt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((R,$)=>{const se=i.get($);if(!se)return;h.push(t.Bs.removeMatchingKeys(c,R.removedDocuments,$).next(()=>t.Bs.addMatchingKeys(c,R.addedDocuments,$)));let fe=se.withSequenceNumber(c.currentSequenceNumber);var Ce,Be,et;null!==e.targetMismatches.get($)?fe=fe.withResumeToken(jo.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):R.resumeToken.approximateByteSize()>0&&(fe=fe.withResumeToken(R.resumeToken,r)),i=i.insert($,fe),Be=fe,et=R,(0===(Ce=se).resumeToken.approximateByteSize()||Be.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(c,fe))});let y=sa(),M=ur();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(c,R))}),h.push(Cx(c,l,e.documentUpdates).next(R=>{y=R.nr,M=R.sr})),!r.isEqual(Sn.min())){const R=t.Bs.getLastRemoteSnapshotVersion(c).next($=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));h.push(R)}return qe.waitFor(h).next(()=>l.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,y,M)).next(()=>y)}).then(c=>(t.Ji=i,c))}(t.localStore,e);e.targetChanges.forEach((i,c)=>{const l=t.yc.get(c);l&&(yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?yn(l.fc):i.removedDocuments.size>0&&(yn(l.fc),l.fc=!1))}),yield bl(t,r,e)}catch(r){yield su(r)}}),Fy.apply(this,arguments)}function jx(n,e,t){const r=Wt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((c,l)=>{const h=l.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(c,l){const h=Wt(c);h.onlineState=l;let y=!1;h.queries.forEach((M,R)=>{for(const $ of R.listeners)$.Mu(l)&&(y=!0)}),y&&zy(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BL(n,e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,pt.Z)(function*(n,e,t){const r=Wt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),c=i&&i.key;if(c){let l=new Si($t.comparator);l=l.insert(c,ki.newNoDocument(c,Sn.min()));const h=ur().add(c),y=new v0(Sn.min(),new Map,new Si(Qn),l,h);yield Yx(r,y),r.gc=r.gc.remove(c),r.yc.delete(e),$y(r)}else yield Hh(r.localStore,e,!1).then(()=>Wh(r,e,t)).catch(su)}),Ly.apply(this,arguments)}function UL(n,e){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,pt.Z)(function*(n,e){const t=Wt(n),r=e.batch.batchId;try{const i=yield function oL(n,e){const t=Wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,y,M){const R=y.batch,$=R.keys();let se=qe.resolve();return $.forEach(fe=>{se=se.next(()=>M.getEntry(h,fe)).next(Ce=>{const Be=y.docVersions.get(fe);yn(null!==Be),Ce.version.compareTo(Be)<0&&(R.applyToRemoteDocument(Ce,y),Ce.isValidDocument()&&(Ce.setReadTime(y.commitVersion),M.addEntry(Ce)))})}),se.next(()=>l.mutationQueue.removeMutationBatch(h,R))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=ur();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(h=h.add(l.batch.mutations[y].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);Yy(t,r,null),Uy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield bl(t,i)}catch(i){yield su(i)}}),Vy.apply(this,arguments)}function YL(n,e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,pt.Z)(function*(n,e,t){const r=Wt(n);try{const i=yield function(c,l){const h=Wt(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let M;return h.mutationQueue.lookupMutationBatch(y,l).next(R=>(yn(null!==R),M=R.keys(),h.mutationQueue.removeMutationBatch(y,R))).next(()=>h.mutationQueue.performConsistencyCheck(y)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(y,M,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,M)).next(()=>h.localDocuments.getDocuments(y,M))})}(r.localStore,e);Yy(r,e,t),Uy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield bl(r,i)}catch(i){yield su(i)}}),Hy.apply(this,arguments)}function By(){return By=(0,pt.Z)(function*(n,e){const t=Wt(n);_u(t.remoteStore)||Dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const l=Wt(c);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=jh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),By.apply(this,arguments)}function Uy(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Yy(n,e,t){const r=Wt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Wh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||$x(n,r)})}function $x(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(P0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),$y(n))}function jy(n,e,t){for(const r of t)r instanceof Hx?(n.Ic.addReference(r.key,e),$L(n,r)):r instanceof Bx?(Dt("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||$x(n,r.key)):sn()}function $L(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Dt("SyncEngine","New document in limbo: "+t),n.mc.add(r),$y(n))}function $y(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new $t(Ur.fromString(e)),r=n.Ac.next();n.yc.set(r,new NL(t)),n.gc=n.gc.insert(t,r),ap(n.remoteStore,new Cl(Ys(zh(t.path)),r,"TargetPurposeLimboResolution",_a.ct))}}function bl(n,e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,pt.Z)(function*(n,e,t){const r=Wt(n),i=[],c=[],l=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,y)=>{l.push(r.Rc(y,e,t).then(M=>{if((M||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,M?.fromCache?"not-current":"current"),M){i.push(M);const R=Z9.Li(y.targetId,M);c.push(R)}}))}),yield Promise.all(l),r.dc.nu(i),yield(h=(0,pt.Z)(function*(y,M){const R=Wt(y);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",$=>qe.forEach(M,se=>qe.forEach(se.Fi,fe=>R.persistence.referenceDelegate.addReference($,se.targetId,fe)).next(()=>qe.forEach(se.Bi,fe=>R.persistence.referenceDelegate.removeReference($,se.targetId,fe)))))}catch($){if(!au($))throw $;Dt("LocalStore","Failed to update sequence numbers: "+$)}for(const $ of M){const se=$.targetId;if(!$.fromCache){const fe=R.Ji.get(se),Be=fe.withLastLimboFreeSnapshotVersion(fe.snapshotVersion);R.Ji=R.Ji.insert(se,Be)}}}),function(y,M){return h.apply(this,arguments)})(r.localStore,c))}),Gy.apply(this,arguments)}function GL(n,e){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,pt.Z)(function*(n,e){const t=Wt(n);if(!t.currentUser.isEqual(e)){Dt("SyncEngine","User change. New user:",e.toKey());const r=yield _x(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(h=>{h.reject(new vt(nt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bl(t,r.er)}var i}),Wy.apply(this,arguments)}function WL(n,e){const t=Wt(n),r=t.yc.get(e);if(r&&r.fc)return ur().add(r.key);{let i=ur();const c=t._c.get(e);if(!c)return i;for(const l of c){const h=t.wc.get(l);i=i.unionWith(h.view.nc)}return i}}function KL(n,e){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,pt.Z)(function*(n,e){const t=Wt(n),r=yield np(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&jy(t,e.targetId,i.cc),i}),Ky.apply(this,arguments)}function qL(n,e){return qy.apply(this,arguments)}function qy(){return qy=(0,pt.Z)(function*(n,e){const t=Wt(n);return Sx(t.localStore,e).then(r=>bl(t,r))}),qy.apply(this,arguments)}function ZL(n,e,t,r){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,pt.Z)(function*(n,e,t,r){const i=Wt(n),c=yield function(l,h){const y=Wt(l),M=Wt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",R=>M.Sn(R,h).next($=>$?y.localDocuments.getDocuments(R,$):qe.resolve(null)))}(i.localStore,e);var h;null!==c?("pending"===t?yield Uh(i.remoteStore):"acknowledged"===t||"rejected"===t?(Yy(i,e,r||null),Uy(i,e),h=e,Wt(Wt(i.localStore).mutationQueue).Cn(h)):sn(),yield bl(i,c)):Dt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Zy.apply(this,arguments)}function Qy(){return Qy=(0,pt.Z)(function*(n,e){const t=Wt(n);if(t_(t),n_(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Gx(t,r.toArray());t.vc=!0,yield Sy(t.remoteStore,!0);for(const c of i)ap(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((c,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Wh(t,l),Hh(t.localStore,l,!0))),P0(t.remoteStore,l)}),yield i,yield Gx(t,r),function(c){const l=Wt(c);l.yc.forEach((h,y)=>{P0(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Si($t.comparator)}(t),t.vc=!1,yield Sy(t.remoteStore,!1)}}),Qy.apply(this,arguments)}function Gx(n,e,t){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,pt.Z)(function*(n,e,t){const r=Wt(n),i=[],c=[];for(const l of e){let h;const y=r._c.get(l);if(y&&0!==y.length){h=yield Vh(r.localStore,Ys(y[0]));for(const M of y){const R=r.wc.get(M),$=yield KL(r,R);$.snapshot&&c.push($.snapshot)}}else{const M=yield bx(r.localStore,l);h=yield Vh(r.localStore,M),yield ky(r,Wx(M),l,!1,h.resumeToken)}i.push(h)}return r.dc.nu(c),i}),Xy.apply(this,arguments)}function Wx(n){return eI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function XL(n){const e=Wt(n);return Wt(Wt(e.localStore).persistence).$i()}function JL(n,e,t,r){return Jy.apply(this,arguments)}function Jy(){return Jy=(0,pt.Z)(function*(n,e,t,r){const i=Wt(n);if(i.vc)return void Dt("SyncEngine","Ignoring unexpected query state notification.");const c=i._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const l=yield Sx(i.localStore,rI(c[0])),h=v0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,jo.EMPTY_BYTE_STRING);yield bl(i,l,h);break}case"rejected":yield Hh(i.localStore,e,!0),Wh(i,e,r);break;default:sn()}}),Jy.apply(this,arguments)}function eV(n,e,t){return e_.apply(this,arguments)}function e_(){return e_=(0,pt.Z)(function*(n,e,t){const r=t_(n);if(r.vc){for(const i of e){if(r._c.has(i)){Dt("SyncEngine","Adding an already active target "+i);continue}const c=yield bx(r.localStore,i),l=yield Vh(r.localStore,c);yield ky(r,Wx(c),l.targetId,!1,l.resumeToken),ap(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield Hh(r.localStore,i,!1).then(()=>{P0(r.remoteStore,i),Wh(r,i)}).catch(su))}}),e_.apply(this,arguments)}function t_(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BL.bind(null,e),e.dc.nu=AL.bind(null,e.eventManager),e.dc.Pc=PL.bind(null,e.eventManager),e}function n_(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YL.bind(null,e),e}class k0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pt.Z)(function*(){t.serializer=z0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return yx(this.persistence,new vx,e.initialUser,this.serializer)}createPersistence(e){return new G9(Jf.zs,this.serializer)}createSharedClientState(e){return new Mx}terminate(){var e=this;return(0,pt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class r_ extends k0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pt.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield n_(r.Vc.syncEngine),yield Uh(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return yx(this.persistence,new vx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new cx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new MN(t,this.persistence);return new DN(e.asyncQueue,r)}createPersistence(e){const t=q9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new K9(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,xx(),sp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Mx}}class Kx extends r_{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pt.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof iy&&(r.sharedClientState.syncEngine={jr:ZL.bind(null,i),zr:JL.bind(null,i),Wr:eV.bind(null,i),$i:XL.bind(null,i),Qr:qL.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,pt.Z)(function*(l){yield function QL(n,e){return Qy.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=xx();if(!iy.D(t))throw new vt(nt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=q9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Kh{initialize(e,t){var r=this;return(0,pt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=GL.bind(null,r.syncEngine),yield Sy(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zL}createDatastore(e){const t=z0(e.databaseInfo.databaseId),r=new fL(e.databaseInfo);return new gL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,c=h=>jx(this.syncEngine,h,0),l=Ix.D()?new Ix:new uL,new _L(t,r,i,c,l);var t,r,i,c,l}createSyncEngine(e,t){return function(r,i,c,l,h,y,M){const R=new FL(r,i,c,l,h,y);return M&&(R.vc=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pt.Z)(function*(t){const r=Wt(t);Dt("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Bh(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qx(n,e=10240){let t=0;return{read:()=>(0,pt.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):go("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class rV{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Yo,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,pt.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,pt.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,pt.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(i);return new kL(JSON.parse(c),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,pt.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,pt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,pt.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class iV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new vt(nt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,pt.Z)(function*(c,l){const h=Wt(c),y=w0(h.serializer)+"/documents",M={documents:l.map(fe=>_0(h.serializer,fe))},R=yield h.vo("BatchGetDocuments",y,M,l.length),$=new Map;R.forEach(fe=>{const Ce=function TF(n,e){return"found"in e?function(t,r){yn(!!r.found);const i=Bc(t,r.found.name),c=vo(r.found.updateTime),l=r.found.createTime?vo(r.found.createTime):Sn.min(),h=new ys({mapValue:{fields:r.found.fields}});return ki.newFoundDocument(i,c,l,h)}(n,e):"missing"in e?function(t,r){yn(!!r.missing),yn(!!r.readTime);const i=Bc(t,r.missing),c=vo(r.readTime);return ki.newNoDocument(i,c)}(n,e):sn()}(h.serializer,fe);$.set(Ce.key.toString(),Ce)});const se=[];return l.forEach(fe=>{const Ce=$.get(fe.toString());yn(!!Ce),se.push(Ce)}),se}),function(c,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Oh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const c=$t.fromPath(i);e.mutations.push(new M9(c,e.precondition(c)))}),yield(r=(0,pt.Z)(function*(i,c){const l=Wt(i),h=w0(l.serializer)+"/documents",y={writes:c.map(M=>C0(l.serializer,M))};yield l.Io("Commit",h,y)}),function(i,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw sn();t=Sn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new vt(nt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Sn.min())?Ui.exists(!1):Ui.updateTime(t):Ui.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sn.min()))throw new vt(nt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ui.updateTime(t)}return Ui.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class oV{constructor(e,t,r,i,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new sy(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,pt.Z)(function*(){const t=new iV(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Uc(c)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!n0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!CI(t)}return!1}}class sV{constructor(e,t,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ts.UNAUTHENTICATED,this.clientId=yM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,pt.Z)(function*(h){Dt("FirestoreClient","Received user=",h.uid),yield c.authCredentialListener(h),c.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Dt("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,pt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=jh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function up(n,e){return i_.apply(this,arguments)}function i_(){return i_=(0,pt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,pt.Z)(function*(c){r.isEqual(c)||(yield _x(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),i_.apply(this,arguments)}function o_(n,e){return s_.apply(this,arguments)}function s_(){return s_=(0,pt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield a_(n);Dt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Nx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,c)=>Nx(e.remoteStore,c)),n._onlineComponents=e}),s_.apply(this,arguments)}function Zx(n){return"FirebaseError"===n.name?n.code===nt.FAILED_PRECONDITION||n.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function a_(n){return c_.apply(this,arguments)}function c_(){return c_=(0,pt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Dt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield up(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Zx(t))throw t;Na("Error using user provided cache. Falling back to memory cache: "+t),yield up(n,new k0)}}else Dt("FirestoreClient","Using default OfflineComponentProvider"),yield up(n,new k0);return n._offlineComponents}),c_.apply(this,arguments)}function dp(n){return l_.apply(this,arguments)}function l_(){return l_=(0,pt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Dt("FirestoreClient","Using user provided OnlineComponentProvider"),yield o_(n,n._uninitializedComponentsProvider._online)):(Dt("FirestoreClient","Using default OnlineComponentProvider"),yield o_(n,new Kh))),n._onlineComponents}),l_.apply(this,arguments)}function Qx(n){return a_(n).then(e=>e.persistence)}function hp(n){return a_(n).then(e=>e.localStore)}function Xx(n){return dp(n).then(e=>e.remoteStore)}function u_(n){return dp(n).then(e=>e.syncEngine)}function qh(n){return d_.apply(this,arguments)}function d_(){return d_=(0,pt.Z)(function*(n){const e=yield dp(n),t=e.eventManager;return t.onListen=LL.bind(null,e.syncEngine),t.onUnlisten=VL.bind(null,e.syncEngine),t}),d_.apply(this,arguments)}function ez(n,e,t={}){const r=new Yo;return n.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function(i,c,l,h,y){const M=new lp({next:$=>{c.enqueueAndForget(()=>Iy(i,R));const se=$.docs.has(l);!se&&$.fromCache?y.reject(new vt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):se&&$.fromCache&&h&&"server"===h.source?y.reject(new vt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve($)},error:$=>y.reject($)}),R=new Ay(zh(l.path),M,{includeMetadataChanges:!0,Ku:!0});return Dy(i,R)}(yield qh(n),n.asyncQueue,e,t,r)})),r.promise}function tz(n,e,t={}){const r=new Yo;return n.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function(i,c,l,h,y){const M=new lp({next:$=>{c.enqueueAndForget(()=>Iy(i,R)),$.fromCache&&"server"===h.source?y.reject(new vt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve($)},error:$=>y.reject($)}),R=new Ay(l,M,{includeMetadataChanges:!0,Ku:!0});return Dy(i,R)}(yield qh(n),n.asyncQueue,e,t,r)})),r.promise}function nz(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const rz=new Map;function h_(n,e,t){if(!t)throw new vt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iz(n,e,t,r){if(!0===e&&!0===r)throw new vt(nt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oz(n){if(!$t.isDocumentKey(n))throw new vt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sz(n){if($t.isDocumentKey(n))throw new vt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":sn()}function Fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new vt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fp(n);throw new vt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function az(n,e){if(e<=0)throw new vt(nt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cz{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nz(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new vt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new vt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new vt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class O0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pN;switch(t.type){case"firstParty":return new yN(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new vt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rz.get(e);t&&(Dt("ComponentProvider","Removing Datastore"),rz.delete(e),t.terminate())}(this),Promise.resolve()}}class Oi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oi(this.firestore,e,this._key)}}class _s{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Uc extends _s{constructor(e,t,r){super(e,t,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oi(this.firestore,null,new $t(e))}withConverter(e){return new Uc(this.firestore,e,this._path)}}function uz(n,e,...t){if(n=(0,xr.m9)(n),h_("collection","path",e),n instanceof O0){const r=Ur.fromString(e,...t);return sz(r),new Uc(n,null,r)}{if(!(n instanceof Oi||n instanceof Uc))throw new vt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ur.fromString(e,...t));return sz(r),new Uc(n.firestore,null,r)}}function pp(n,e,...t){if(n=(0,xr.m9)(n),1===arguments.length&&(e=yM.A()),h_("doc","path",e),n instanceof O0){const r=Ur.fromString(e,...t);return oz(r),new Oi(n,null,new $t(r))}{if(!(n instanceof Oi||n instanceof Uc))throw new vt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ur.fromString(e,...t));return oz(r),new Oi(n.firestore,n instanceof Uc?n.converter:null,new $t(r))}}function dz(n,e){return n=(0,xr.m9)(n),e=(0,xr.m9)(e),(n instanceof Oi||n instanceof Uc)&&(e instanceof Oi||e instanceof Uc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function f_(n,e){return n=(0,xr.m9)(n),e=(0,xr.m9)(e),n instanceof _s&&e instanceof _s&&n.firestore===e.firestore&&u0(n._query,e._query)&&n.converter===e.converter}class gV{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sy(this,"async_queue_retry"),this.Xc=()=>{const t=sp();t&&Dt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=sp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=sp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Yo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,pt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!au(t))throw t;Dt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,go("INTERNAL UNHANDLED ERROR: ",function(c){let l=c.message||"";return c.stack&&(l=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=Ty.createAndSchedule(this,e,t,r,c=>this.na(c));return this.zc.push(i),i}Zc(){this.Wc&&sn()}verifyOperationInProgress(){}sa(){var e=this;return(0,pt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function p_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class vV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ri extends O0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new gV,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hz(this),this._firestoreClient.terminate()}}function yo(n){return n._firestoreClient||hz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hz(n){var e,t,r;const i=n._freezeSettings(),c=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new KN(n._databaseId,h,n._persistenceKey,(M=i).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,nz(M.experimentalLongPollingOptions),M.useFetchStreams));var h,M;n._firestoreClient=new sV(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function fz(n,e,t){const r=new Yo;return n.asyncQueue.enqueue((0,pt.Z)(function*(){try{yield up(n,t),yield o_(n,e),r.resolve()}catch(i){const c=i;if(!Zx(c))throw c;Na("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function pz(n){if(n._initialized||n._terminated)throw new vt(nt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yc(jo.fromBase64String(e))}catch(t){throw new vt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yc(jo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new vt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new so(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class W1{constructor(e){this._methodName=e}}class mp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const IV=/^__.*__$/;class xV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wl(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class mz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn()}}class gp{constructor(e,t,r,i,c,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return _p(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(gz(this.ca)&&IV.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||z0(e)}ya(e,t,r,i=!1){return new gp({ca:e,methodName:t,ga:r,path:so.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K1(n){const e=n._freezeSettings(),t=z0(n._databaseId);return new zV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vp(n,e,t,r,i,c={}){const l=n.ya(c.merge||c.mergeFields?2:0,e,t,i);y_("Data must be an object, but it was:",l,r);const h=_z(r,l);let y,M;if(c.merge)y=new oa(l.fieldMask),M=l.fieldTransforms;else if(c.mergeFields){const R=[];for(const $ of c.mergeFields){const se=F0(e,$,t);if(!l.contains(se))throw new vt(nt.INVALID_ARGUMENT,`Field '${se}' is specified in your field mask but missing from your input data.`);Cz(R,se)||R.push(se)}y=new oa(R),M=l.fieldTransforms.filter($=>y.covers($.field))}else y=null,M=l.fieldTransforms;return new xV(new ys(h),y,M)}class N0 extends W1{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof N0}}function vz(n,e,t){return new gp({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class m_ extends W1{_toFieldTransform(e){return new p0(e.path,new Ah)}isEqual(e){return e instanceof m_}}class AV extends W1{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vz(this,e,!0),r=this.pa.map(c=>q1(c,t)),i=new L1(r);return new p0(e.path,i)}isEqual(e){return this===e}}class PV extends W1{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vz(this,e,!0),r=this.pa.map(c=>q1(c,t)),i=new V1(r);return new p0(e.path,i)}isEqual(e){return this===e}}class kV extends W1{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ph(e.serializer,uI(e.serializer,this.Ia));return new p0(e.path,t)}isEqual(e){return this===e}}function g_(n,e,t,r){const i=n.ya(1,e,t);y_("Data must be an object, but it was:",i,r);const c=[],l=ys.empty();cu(r,(y,M)=>{const R=yp(e,y,t);M=(0,xr.m9)(M);const $=i.da(R);if(M instanceof N0)c.push(R);else{const se=q1(M,$);null!=se&&(c.push(R),l.set(R,se))}});const h=new oa(c);return new mz(l,h,i.fieldTransforms)}function v_(n,e,t,r,i,c){const l=n.ya(1,e,t),h=[F0(e,r,t)],y=[i];if(c.length%2!=0)throw new vt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let se=0;se<c.length;se+=2)h.push(F0(e,c[se])),y.push(c[se+1]);const M=[],R=ys.empty();for(let se=h.length-1;se>=0;--se)if(!Cz(M,h[se])){const fe=h[se];let Ce=y[se];Ce=(0,xr.m9)(Ce);const Be=l.da(fe);if(Ce instanceof N0)M.push(fe);else{const et=q1(Ce,Be);null!=et&&(M.push(fe),R.set(fe,et))}}const $=new oa(M);return new mz(R,$,l.fieldTransforms)}function yz(n,e,t,r=!1){return q1(t,n.ya(r?4:3,e))}function q1(n,e){if(wz(n=(0,xr.m9)(n)))return y_("Unsupported field value:",e,n),_z(n,e);if(n instanceof W1)return function(t,r){if(!gz(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let c=0;for(const l of t){let h=q1(l,r.wa(c));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),c++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,xr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uI(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Bi.fromDate(t);return{timestampValue:Rh(r.serializer,i)}}if(t instanceof Bi){const i=new Bi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rh(r.serializer,i)}}if(t instanceof mp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yc)return{bytesValue:AI(r.serializer,t._byteString)};if(t instanceof Oi){const i=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(i))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:O9(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${fp(t)}`)}(n,e)}function _z(n,e){const t={};return kM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cu(n,(r,i)=>{const c=q1(i,e.ha(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function wz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Bi||n instanceof mp||n instanceof Yc||n instanceof Oi||n instanceof W1)}function y_(n,e,t){if(!wz(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fp(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function F0(n,e,t){if((e=(0,xr.m9)(e))instanceof Sl)return e._internalPath;if("string"==typeof e)return yp(n,e);throw _p("Field path arguments must be of type string or ",n,!1,void 0,t)}const OV=new RegExp("[~\\*/\\[\\]]");function yp(n,e,t){if(e.search(OV)>=0)throw _p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sl(...e.split("."))._internalPath}catch{throw _p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _p(n,e,t,r,i){const c=r&&!r.isEmpty(),l=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(c||l)&&(y+=" (found",c&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new vt(nt.INVALID_ARGUMENT,h+n+y)}function Cz(n,e){return n.some(t=>t.isEqual(e))}class L0{constructor(e,t,r,i,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RV extends L0{data(){return super.data()}}function wp(n,e){return"string"==typeof e?yp(n,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}function bz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class __{}class V0 extends __{}function Cu(n,e,...t){let r=[];e instanceof __&&r.push(e),r=r.concat(t),function(i){const c=i.filter(h=>h instanceof Zh).length,l=i.filter(h=>h instanceof H0).length;if(c>1||c>0&&l>0)throw new vt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class H0 extends V0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new H0(e,t,r)}_apply(e){const t=this._parse(e);return Dz(e._query,t),new _s(e.firestore,e.converter,E9(e._query,t))}_parse(e){const t=K1(e.firestore);return function(i,c,l,h,y,M,R){let $;if(y.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new vt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if("in"===M||"not-in"===M){Tz(R,M);const se=[];for(const fe of R)se.push(Ez(h,i,fe));$={arrayValue:{values:se}}}else $=Ez(h,i,R)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||Tz(R,M),$=yz(l,"where",R,"in"===M||"not-in"===M);return Nr.create(y,M,$)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Zh extends __{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let c=r;const l=i.getFlattenedFilters();for(const h of l)Dz(c,h),c=E9(c,h)}(e._query,t),new _s(e.firestore,e.converter,E9(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class w_ extends V0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new w_(e,t)}_apply(e){const t=function(r,i,c){if(null!==r.startAt)throw new vt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new vt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Ih(i,c);return function(h,y){if(null===b9(h)){const M=Lf(h);null!==M&&Mz(0,M,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new yl(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Cp extends V0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Cp(e,t,r)}_apply(e){return new _s(e.firestore,e.converter,Vf(e._query,this._limit,this._limitType))}}class bp extends V0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bp(e,t,r)}_apply(e){const t=Sz(e,this.type,this._docOrFields,this._inclusive);return new _s(e.firestore,e.converter,(i=t,new yl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Sp extends V0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Sp(e,t,r)}_apply(e){const t=Sz(e,this.type,this._docOrFields,this._inclusive);return new _s(e.firestore,e.converter,(i=t,new yl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Sz(n,e,t,r){if(t[0]=(0,xr.m9)(t[0]),t[0]instanceof L0)return function(i,c,l,h,y){if(!h)throw new vt(nt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const M=[];for(const R of F1(i))if(R.field.isKeyField())M.push(R1(c,h.key));else{const $=h.data.field(R.field);if(Af($))throw new vt(nt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$){const se=R.field.canonicalString();throw new vt(nt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${se}' (used as the orderBy) does not exist.`)}M.push($)}return new pu(M,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=K1(n.firestore);return function(c,l,h,y,M,R){const $=c.explicitOrderBy;if(M.length>$.length)throw new vt(nt.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const se=[];for(let fe=0;fe<M.length;fe++){const Ce=M[fe];if($[fe].field.isKeyField()){if("string"!=typeof Ce)throw new vt(nt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Ce}`);if(!S9(c)&&-1!==Ce.indexOf("/"))throw new vt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Ce}' contains a slash.`);const Be=c.path.child(Ur.fromString(Ce));if(!$t.isDocumentKey(Be))throw new vt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Be}' is not because it contains an odd number of segments.`);const et=new $t(Be);se.push(R1(l,et))}else{const Be=yz(h,y,Ce);se.push(Be)}}return new pu(se,R)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Ez(n,e,t){if("string"==typeof(t=(0,xr.m9)(t))){if(""===t)throw new vt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S9(e)&&-1!==t.indexOf("/"))throw new vt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ur.fromString(t));if(!$t.isDocumentKey(r))throw new vt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R1(n,new $t(r))}if(t instanceof Oi)return R1(n,t._key);throw new vt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fp(t)}.`)}function Tz(n,e){if(!Array.isArray(n)||0===n.length)throw new vt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dz(n,e){if(e.isInequality()){const r=Lf(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new vt(nt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const c=b9(n);null!==c&&Mz(0,i,c)}const t=function(r,i){for(const c of r)for(const l of c.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new vt(nt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Mz(n,e,t){if(!t.isEqual(e))throw new vt(nt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class C_{convertValue(e,t="none"){switch(hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ao(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return cu(e,(i,c)=>{r[i]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new mp(ao(e.latitude),ao(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(o0(e));default:return null}}convertTimestamp(e){const t=lu(e);return new Bi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ur.fromString(e);yn(BI(r));const i=new uu(r.get(1),r.get(3)),c=new $t(r.popFirst(5));return i.isEqual(t)||go(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Ep(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class jV extends C_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oi(this.firestore,null,t)}}class Z1{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class El extends L0{constructor(e,t,r,i,c,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new B0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class B0 extends El{data(e={}){return super.data(e)}}class bu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Z1(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new B0(this._firestore,this._userDataWriter,r.key,r,new Z1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new B0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Z1(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const h=new B0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Z1(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,M=-1;return 0!==l.type&&(y=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),1!==l.type&&(c=c.add(l.doc),M=c.indexOf(l.doc.key)),{type:GV(l.type),doc:h,oldIndex:y,newIndex:M}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn()}}function xz(n,e){return n instanceof El&&e instanceof El?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bu&&e instanceof bu&&n._firestore===e._firestore&&f_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Su extends C_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oi(this.firestore,null,t)}}function zz(n,e,t){n=Fr(n,Oi);const r=Fr(n.firestore,Ri),i=Ep(n.converter,e,t);return Qh(r,[vp(K1(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ui.none())])}function Az(n,e,t,...r){n=Fr(n,Oi);const i=Fr(n.firestore,Ri),c=K1(i);let l;return l="string"==typeof(e=(0,xr.m9)(e))||e instanceof Sl?v_(c,"updateDoc",n._key,e,t,r):g_(c,"updateDoc",n._key,e),Qh(i,[l.toMutation(n._key,Ui.exists(!0))])}function Pz(n,...e){var t,r,i;n=(0,xr.m9)(n);let c={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||p_(e[l])||(c=e[l],l++);const h={includeMetadataChanges:c.includeMetadataChanges};if(p_(e[l])){const $=e[l];e[l]=null===(t=$.next)||void 0===t?void 0:t.bind($),e[l+1]=null===(r=$.error)||void 0===r?void 0:r.bind($),e[l+2]=null===(i=$.complete)||void 0===i?void 0:i.bind($)}let y,M,R;if(n instanceof Oi)M=Fr(n.firestore,Ri),R=zh(n._key.path),y={next:$=>{e[l]&&e[l](b_(M,n,$))},error:e[l+1],complete:e[l+2]};else{const $=Fr(n,_s);M=Fr($.firestore,Ri),R=$._query;const se=new Su(M);y={next:fe=>{e[l]&&e[l](new bu(M,se,$,fe))},error:e[l+1],complete:e[l+2]},bz(n._query)}return function($,se,fe,Ce){const Be=new lp(Ce),et=new Ay(se,Be,fe);return $.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return Dy(yield qh($),et)})),()=>{Be.Dc(),$.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return Iy(yield qh($),et)}))}}(yo(M),R,h,y)}function Qh(n,e){return function(t,r){const i=new Yo;return t.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function HL(n,e,t){return Ny.apply(this,arguments)}(yield u_(t),r,i)})),i.promise}(yo(n),e)}function b_(n,e,t){const r=t.docs.get(e._key),i=new Su(n);return new El(n,i,e._key,r,new Z1(t.hasPendingWrites,t.fromCache),e.converter)}const uH={maxAttempts:5};class kz{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=K1(e)}set(e,t,r){this._verifyNotCommitted();const i=Eu(e,this._firestore),c=Ep(i.converter,t,r),l=vp(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Ui.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const c=Eu(e,this._firestore);let l;return l="string"==typeof(t=(0,xr.m9)(t))||t instanceof Sl?v_(this._dataReader,"WriteBatch.update",c._key,t,r,i):g_(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(l.toMutation(c._key,Ui.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Eu(e,this._firestore);return this._mutations=this._mutations.concat(new Oh(t._key,Ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eu(n,e){if((n=(0,xr.m9)(n)).firestore!==e)throw new vt(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=K1(e)}get(e){const t=Eu(e,this._firestore),r=new jV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return sn();const c=i[0];if(c.isFoundDocument())return new L0(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new L0(this._firestore,r,t._key,null,t.converter);throw sn()})}set(e,t,r){const i=Eu(e,this._firestore),c=Ep(i.converter,t,r),l=vp(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const c=Eu(e,this._firestore);let l;return l="string"==typeof(t=(0,xr.m9)(t))||t instanceof Sl?v_(this._dataReader,"Transaction.update",c._key,t,r,i):g_(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,l),this}delete(e){const t=Eu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Eu(e,this._firestore),r=new Su(this._firestore);return super.get(e).then(i=>new El(this._firestore,r,t._key,i._document,new Z1(!1,!1),t.converter))}}!function(n,e=!0){Eh=nu.SDK_VERSION,(0,nu._registerComponent)(new Z6.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const c=t.getProvider("app").getImmediate(),l=new Ri(new gN(t.getProvider("auth-internal")),new _N(t.getProvider("app-check-internal")),function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new vt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(h.options.projectId,y)}(c,r),c);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,nu.registerVersion)(mM,"3.13.0",n),(0,nu.registerVersion)(mM,"3.13.0","esm2017")}();function S_(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Rz(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function Nz(){if(!function GN(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class U0{constructor(e){this._delegate=e}static fromBase64String(e){return Nz(),new U0(Yc.fromBase64String(e))}static fromUint8Array(e){return Rz(),new U0(Yc.fromUint8Array(e))}toBase64(){return Nz(),this._delegate.toBase64()}toUint8Array(){return Rz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function E_(n){return function wH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class CH{enableIndexedDbPersistence(e,t){return function _V(n,e){pz(n=Fr(n,Ri));const t=yo(n);if(t._uninitializedComponentsProvider)throw new vt(nt.FAILED_PRECONDITION,"SDK cache is already specified.");Na("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Kh;return fz(t,i,new r_(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function wV(n){pz(n=Fr(n,Ri));const e=yo(n);if(e._uninitializedComponentsProvider)throw new vt(nt.FAILED_PRECONDITION,"SDK cache is already specified.");Na("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Kh;return fz(e,r,new Kx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function CV(n){if(n._initialized&&!n._terminated)throw new vt(nt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pt.Z)(function*(){try{yield(t=(0,pt.Z)(function*(r){if(!uc.D())return Promise.resolve();const i=r+"main";yield uc.delete(i)}),function(r){return t.apply(this,arguments)})(q9(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Fz{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof uu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Na("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function lz(n,e,t,r={}){var i;const c=(n=Fr(n,O0))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==l&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:l,ssl:!1})),r.mockUserToken){let h,y;if("string"==typeof r.mockUserToken)h=r.mockUserToken,y=ts.MOCK_USER;else{h=(0,xr.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const M=r.mockUserToken.sub||r.mockUserToken.user_id;if(!M)throw new vt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ts(M)}n._authCredentials=new mN(new gM(h,y))}}(this._delegate,e,t,r)}enableNetwork(){return function SV(n){return function aV(n){return n.asyncQueue.enqueue((0,pt.Z)(function*(){const e=yield Qx(n),t=yield Xx(n);return e.setNetworkEnabled(!0),function(r){const i=Wt(r);return i.vu.delete(0),A0(i)}(t)}))}(yo(n=Fr(n,Ri)))}(this._delegate)}disableNetwork(){return function EV(n){return function cV(n){return n.asyncQueue.enqueue((0,pt.Z)(function*(){const e=yield Qx(n),t=yield Xx(n);return e.setNetworkEnabled(!1),(r=(0,pt.Z)(function*(i){const c=Wt(i);c.vu.add(0),yield Bh(c),c.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(yo(n=Fr(n,Ri)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iz("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function bV(n){return function(e){const t=new Yo;return e.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return function jL(n,e){return By.apply(this,arguments)}(yield u_(e),t)})),t.promise}(yo(n=Fr(n,Ri)))}(this._delegate)}onSnapshotsInSync(e){return function tH(n,e){return function dV(n,e){const t=new lp(e);return n.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return r=yield qh(n),i=t,Wt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return r=yield qh(n),i=t,void Wt(r).ku.delete(i);var r,i}))}}(yo(n=Fr(n,Ri)),p_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xh(this,uz(this._delegate,e))}catch(t){throw js(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fa(this,pp(this._delegate,e))}catch(t){throw js(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $s(this,function mV(n,e){if(n=Fr(n,O0),h_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vt(nt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _s(n,null,(t=e,new yl(Ur.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw js(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hH(n,e,t){n=Fr(n,Ri);const r=Object.assign(Object.assign({},uH),t);return function(i){if(i.maxAttempts<1)throw new vt(nt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,c,l){const h=new Yo;return i.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){const y=yield function Jx(n){return dp(n).then(e=>e.datastore)}(i);new oV(i.asyncQueue,y,l,c,h).run()})),h.promise}(yo(n),i=>e(new dH(n,i)),r)}(this._delegate,t=>e(new Lz(this,t)))}batch(){return yo(this._delegate),new Vz(new kz(this._delegate,e=>Qh(this._delegate,e)))}loadBundle(e){return function TV(n,e){const t=yo(n=Fr(n,Ri)),r=new vV;return function hV(n,e,t,r){const i=function(c,l){let h;return h="string"==typeof c?SI().encode(c):c,y=function(y,M){if(y instanceof Uint8Array)return qx(y,M);if(y instanceof ArrayBuffer)return qx(new Uint8Array(y),M);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new rV(y,l);var y}(t,z0(e));n.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){!function tV(n,e,t){const r=Wt(n);var i;(i=(0,pt.Z)(function*(c,l,h){try{const y=yield l.getMetadata();if(yield function(se,fe){const Ce=Wt(se),Be=vo(fe.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",et=>Ce.qs.getBundleMetadata(et,fe.id)).then(et=>!!et&&et.createTime.compareTo(Be)>=0)}(c.localStore,y))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(se=y).totalDocuments,bytesLoaded:se.totalBytes,totalDocuments:se.totalDocuments,totalBytes:se.totalBytes}),Promise.resolve(new Set);h._updateProgress(Vx(y));const M=new OL(y,c.localStore,l.serializer);let R=yield l.bc();for(;R;){const se=yield M.zu(R);se&&h._updateProgress(se),R=yield l.bc()}const $=yield M.complete();return yield bl(c,$.Ju,void 0),yield function(se,fe){const Ce=Wt(se);return Ce.persistence.runTransaction("Save bundle","readwrite",Be=>Ce.qs.saveBundleMetadata(Be,fe))}(c.localStore,y),h._completeWith($.progress),Promise.resolve($.Hu)}catch(y){return Na("SyncEngine",`Loading bundle failed with ${y}`),h._failWith(y),Promise.resolve(new Set)}var se}),function(c,l,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield u_(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function DV(n,e){return function fV(n,e){return n.asyncQueue.enqueue((0,pt.Z)(function*(){return function(t,r){const i=Wt(t);return i.persistence.runTransaction("Get named query","readonly",c=>i.qs.getNamedQuery(c,r))}(yield hp(n),e)}))}(yo(n=Fr(n,Ri)),e).then(t=>t?new _s(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $s(this,t):null)}}class Tp extends C_{constructor(e){super(),this.firestore=e}convertBytes(e){return new U0(new Yc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fa.forKey(t,this.firestore,null)}}class Lz{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}get(e){const t=X1(e);return this._delegate.get(t).then(r=>new Y0(this._firestore,new El(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=X1(e);return r?(S_("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=X1(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=X1(e);return this._delegate.delete(t),this}}class Vz{constructor(e){this._delegate=e}set(e,t,r){const i=X1(e);return r?(S_("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=X1(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=X1(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Q1{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new B0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new j0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Q1.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(t);return c||(c=new Q1(e,new Tp(e),t),i.set(t,c)),c}}Q1.INSTANCES=new WeakMap;class Fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}static forPath(e,t,r){if(e.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fa(t,new Oi(t._delegate,r,new $t(e)))}static forKey(e,t,r){return new Fa(t,new Oi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Xh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xh(this.firestore,uz(this._delegate,e))}catch(t){throw js(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,xr.m9)(e))instanceof Oi&&dz(this._delegate,e)}set(e,t){t=S_("DocumentReference.set",t);try{return t?zz(this._delegate,e,t):zz(this._delegate,e)}catch(r){throw js(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Az(this._delegate,e):Az(this._delegate,e,t,...r)}catch(i){throw js(i,"updateDoc()","DocumentReference.update()")}}delete(){return function JV(n){return Qh(Fr(n.firestore,Ri),[new Oh(n._key,Ui.none())])}(this._delegate)}onSnapshot(...e){const t=Hz(e),r=Bz(e,i=>new Y0(this.firestore,new El(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Pz(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function KV(n){n=Fr(n,Oi);const e=Fr(n.firestore,Ri),t=yo(e),r=new Su(e);return function lV(n,e){const t=new Yo;return n.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return(r=(0,pt.Z)(function*(i,c,l){try{const h=yield function(y,M){const R=Wt(y);return R.persistence.runTransaction("read document","readonly",$=>R.localDocuments.getDocument($,M))}(i,c);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new vt(nt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const y=jh(h,`Failed to get document '${c} from cache`);l.reject(y)}}),function(i,c,l){return r.apply(this,arguments)})(yield hp(n),e,t);var r})),t.promise}(t,n._key).then(i=>new El(e,r,n._key,i,new Z1(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qV(n){n=Fr(n,Oi);const e=Fr(n.firestore,Ri);return ez(yo(e),n._key,{source:"server"}).then(t=>b_(e,n,t))}(this._delegate):function WV(n){n=Fr(n,Oi);const e=Fr(n.firestore,Ri);return ez(yo(e),n._key).then(t=>b_(e,n,t))}(this._delegate),t.then(r=>new Y0(this.firestore,new El(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fa(this.firestore,this._delegate.withConverter(e?Q1.getInstance(this.firestore,e):null))}}function js(n,e,t){return n.message=n.message.replace(e,t),n}function Hz(n){for(const e of n)if("object"==typeof e&&!E_(e))return e;return{}}function Bz(n,e){var t,r;let i;return i=E_(n[0])?n[0]:E_(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Y0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xz(this._delegate,e._delegate)}}class j0 extends Y0{data(e){const t=this._delegate.data(e);return function fN(n,e){n||sn()}(void 0!==t),t}}class $s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}where(e,t,r){try{return new $s(this.firestore,Cu(this._delegate,function NV(n,e,t){const r=e,i=wp("where",n);return H0._create(i,r,t)}(e,t,r)))}catch(i){throw js(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $s(this.firestore,Cu(this._delegate,function FV(n,e="asc"){const t=e,r=wp("orderBy",n);return w_._create(r,t)}(e,t)))}catch(r){throw js(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $s(this.firestore,Cu(this._delegate,function LV(n){return az("limit",n),Cp._create("limit",n,"F")}(e)))}catch(t){throw js(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $s(this.firestore,Cu(this._delegate,function VV(n){return az("limitToLast",n),Cp._create("limitToLast",n,"L")}(e)))}catch(t){throw js(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $s(this.firestore,Cu(this._delegate,function HV(...n){return bp._create("startAt",n,!0)}(...e)))}catch(t){throw js(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $s(this.firestore,Cu(this._delegate,function BV(...n){return bp._create("startAfter",n,!1)}(...e)))}catch(t){throw js(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $s(this.firestore,Cu(this._delegate,function UV(...n){return Sp._create("endBefore",n,!1)}(...e)))}catch(t){throw js(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $s(this.firestore,Cu(this._delegate,function YV(...n){return Sp._create("endAt",n,!0)}(...e)))}catch(t){throw js(t,"endAt()","Query.endAt()")}}isEqual(e){return f_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function QV(n){n=Fr(n,_s);const e=Fr(n.firestore,Ri),t=yo(e),r=new Su(e);return function uV(n,e){const t=new Yo;return n.asyncQueue.enqueueAndForget((0,pt.Z)(function*(){return(r=(0,pt.Z)(function*(i,c,l){try{const h=yield np(i,c,!0),y=new Ux(c,h.ir),M=y.sc(h.documents),R=y.applyChanges(M,!1);l.resolve(R.snapshot)}catch(h){const y=jh(h,`Failed to execute query '${c} against cache`);l.reject(y)}}),function(i,c,l){return r.apply(this,arguments)})(yield hp(n),e,t);var r})),t.promise}(t,n._query).then(i=>new bu(e,r,n,i))}(this._delegate):"server"===e?.source?function XV(n){n=Fr(n,_s);const e=Fr(n.firestore,Ri),t=yo(e),r=new Su(e);return tz(t,n._query,{source:"server"}).then(i=>new bu(e,r,n,i))}(this._delegate):function ZV(n){n=Fr(n,_s);const e=Fr(n.firestore,Ri),t=yo(e),r=new Su(e);return bz(n._query),tz(t,n._query).then(i=>new bu(e,r,n,i))}(this._delegate),t.then(r=>new T_(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Hz(e),r=Bz(e,i=>new T_(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Pz(this._delegate,t,r)}withConverter(e){return new $s(this.firestore,this._delegate.withConverter(e?Q1.getInstance(this.firestore,e):null))}}class SH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new j0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class T_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new j0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new SH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new j0(this._firestore,r))})}isEqual(e){return xz(this._delegate,e._delegate)}}class Xh extends $s{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fa(this.firestore,e):null}doc(e){try{return new Fa(this.firestore,void 0===e?pp(this._delegate):pp(this._delegate,e))}catch(t){throw js(t,"doc()","CollectionReference.doc()")}}add(e){return function eH(n,e){const t=Fr(n.firestore,Ri),r=pp(n),i=Ep(n.converter,e);return Qh(t,[vp(K1(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ui.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Fa(this.firestore,t))}isEqual(e){return dz(this._delegate,e._delegate)}withConverter(e){return new Xh(this.firestore,this._delegate.withConverter(e?Q1.getInstance(this.firestore,e):null))}}function X1(n){return Fr(n,Oi)}class D_{constructor(...e){this._delegate=new Sl(...e)}static documentId(){return new D_(so.keyField().canonicalString())}isEqual(e){return(e=(0,xr.m9)(e))instanceof Sl&&this._delegate._internalPath.isEqual(e._internalPath)}}class J1{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pH(){return new m_("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new J1(e)}static delete(){const e=function fH(){return new N0("deleteField")}();return e._methodName="FieldValue.delete",new J1(e)}static arrayUnion(...e){const t=function mH(...n){return new AV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new J1(t)}static arrayRemove(...e){const t=function gH(...n){return new PV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new J1(t)}static increment(e){const t=function vH(n){return new kV("increment",n)}(e);return t._methodName="FieldValue.increment",new J1(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const EH={Firestore:Fz,GeoPoint:mp,Timestamp:Bi,Blob:U0,Transaction:Lz,WriteBatch:Vz,DocumentReference:Fa,DocumentSnapshot:Y0,Query:$s,QueryDocumentSnapshot:j0,QuerySnapshot:T_,CollectionReference:Xh,FieldPath:D_,FieldValue:J1,setLogLevel:function bH(n){!function hN(n){ou.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function DH(n){(function TH(n,e){n.INTERNAL.registerComponent(new Z6.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},EH)))})(n,(e,t)=>new Fz(e,t,new CH)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(XT.Z);var $0=N(5363),La=N(3900),MH=N(6063);class IH extends Mn.x{constructor(e=1/0,t=1/0,r=MH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:c,_windowTime:l}=this;t||(r.push(e),!i&&r.push(c.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,c=i.slice();for(let l=0;l<c.length&&!e.closed;l+=r?1:2)e.next(c[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,c=(i?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!i){const l=t.now();let h=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)h=y;h&&r.splice(0,h+1)}}}function M_(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,gc.B)({connector:()=>new IH(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var xH=N(590);function Uz(n,e){return(0,xc.m)(e)?(0,La.w)(()=>n,e):(0,La.w)(()=>n)}var I_=N(9468),x_=N(2313),zH=N(9260);const Yz=new C.OlP("angularfire2.auth.use-emulator"),jz=new C.OlP("angularfire2.auth.settings"),$z=new C.OlP("angularfire2.auth.tenant-id"),Gz=new C.OlP("angularfire2.auth.langugage-code"),Wz=new C.OlP("angularfire2.auth.use-device-language"),Kz=new C.OlP("angularfire.auth.persistence"),qz=(n,e,t,r,i,c,l,h)=>(0,Uo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,c&&y.useDeviceLanguage(),l)for(const[M,R]of Object.entries(l))y.settings[M]=R;return h&&y.setPersistence(h),y},[t,r,i,c,l,h]);let z_=(()=>{class n{constructor(t,r,i,c,l,h,y,M,R,$,se,fe){const Ce=new Mn.x,Be=(0,$r.of)(void 0).pipe((0,$0.Q)(l.outsideAngular),(0,La.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,9568)))),(0,_r.U)(()=>(0,Uo.on)(t,c,r)),(0,_r.U)(et=>qz(et,c,h,M,R,$,y,se)),M_({bufferSize:1,refCount:!1}));if((0,rn.PM)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$r.of)(null);else{Be.pipe((0,xH.P)()).subscribe();const St=Be.pipe((0,La.w)(Lt=>Lt.getRedirectResult().then(Ln=>Ln,()=>null)),mo.iC,M_({bufferSize:1,refCount:!1})),Kt=Be.pipe((0,La.w)(Lt=>new di.y(Ln=>({unsubscribe:c.runOutsideAngular(()=>Lt.onAuthStateChanged(kn=>Ln.next(kn),kn=>Ln.error(kn),()=>Ln.complete()))})))),Rt=Be.pipe((0,La.w)(Lt=>new di.y(Ln=>({unsubscribe:c.runOutsideAngular(()=>Lt.onIdTokenChanged(kn=>Ln.next(kn),kn=>Ln.error(kn),()=>Ln.complete()))}))));this.authState=St.pipe(Uz(Kt),(0,I_.R)(l.outsideAngular),(0,$0.Q)(l.insideAngular)),this.user=St.pipe(Uz(Rt),(0,I_.R)(l.outsideAngular),(0,$0.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,La.w)(Lt=>Lt?(0,Oc.D)(Lt.getIdToken()):(0,$r.of)(null))),this.idTokenResult=this.user.pipe((0,La.w)(Lt=>Lt?(0,Oc.D)(Lt.getIdTokenResult()):(0,$r.of)(null))),this.credential=(0,L6.T)(St,Ce,this.authState.pipe((0,eo.h)(Lt=>!Lt))).pipe((0,_r.U)(Lt=>Lt?.user?Lt:null),(0,I_.R)(l.outsideAngular),(0,$0.Q)(l.insideAngular))}return(0,Uo.pX)(this,Be,c,{spy:{apply:(et,St,Kt)=>{(et.startsWith("signIn")||et.startsWith("createUser"))&&Kt.then(Rt=>Ce.next(Rt))}}})}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(Uo.Dh),C.LFG(Uo.xv,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(mo.HU),C.LFG(Yz,8),C.LFG(jz,8),C.LFG($z,8),C.LFG(Gz,8),C.LFG(Wz,8),C.LFG(Kz,8),C.LFG(x_.nm,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Zz(n,e){return function PH(n,e=E1.z){return new di.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function A_(n,e){return Zz(n,e).pipe((0,_r.U)(t=>({payload:t,type:"query"})))}function Dp(n,e){return A_(n,e).pipe((0,T1.O)(void 0),yv(),(0,_r.U)(([t,r])=>{const i=r.payload.docChanges(),c=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,h)=>{const y=i.find(R=>R.doc.ref.isEqual(l.ref)),M=t?.payload.docs.find(R=>R.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&M&&JSON.stringify(M.metadata)===JSON.stringify(l.metadata)||c.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),c}))}function Qz(n,e,t){return Dp(n,t).pipe((0,_v.R)((r,i)=>function OH(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function RH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return P_(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return P_(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return P_(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),e),[]),function rR(n,e=nR.y){return n=n??iR,(0,lh.e)((t,r)=>{let i,c=!0;t.subscribe((0,zc.x)(r,l=>{const h=e(l);(c||!n(i,h))&&(c=!1,i=h,r.next(l))}))})}(),(0,_r.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function P_(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Xz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Jz{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Dp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_r.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe((0,T1.O)(void 0),yv(),(0,eo.h)(([r,i])=>i.length>0||!r),(0,_r.U)(([r,i])=>i),mo.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,_v.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Xz(e);return Qz(this.query,t,this.afs.schedulers.outsideAngular).pipe(mo.iC)}valueChanges(e={}){return A_(this.query,this.afs.schedulers.outsideAngular).pipe((0,_r.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),mo.iC)}get(e){return(0,Oc.D)(this.query.get(e)).pipe(mo.iC)}add(e){return this.ref.add(e)}doc(e){return new eA(this.ref.doc(e),this.afs)}}class eA{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:c}=rA(r,t);return new Jz(i,c,this.afs)}snapshotChanges(){return function kH(n,e){return Zz(n,e).pipe((0,T1.O)(void 0),yv(),(0,_r.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mo.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_r.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Oc.D)(this.ref.get(e)).pipe(mo.iC)}}class NH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Dp(this.query,this.afs.schedulers.outsideAngular).pipe((0,_r.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,eo.h)(t=>t.length>0),mo.iC):Dp(this.query,this.afs.schedulers.outsideAngular).pipe(mo.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,_v.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Xz(e);return Qz(this.query,t,this.afs.schedulers.outsideAngular).pipe(mo.iC)}valueChanges(e={}){return A_(this.query,this.afs.schedulers.outsideAngular).pipe((0,_r.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),mo.iC)}get(e){return(0,Oc.D)(this.query.get(e)).pipe(mo.iC)}}const tA=new C.OlP("angularfire2.enableFirestorePersistence"),nA=new C.OlP("angularfire2.firestore.persistenceSettings"),FH=new C.OlP("angularfire2.firestore.settings"),LH=new C.OlP("angularfire2.firestore.use-emulator");function rA(n,e=(t=>t)){return{query:e(n),ref:n}}let iA=(()=>{class n{constructor(t,r,i,c,l,h,y,M,R,$,se,fe,Ce,Be,et,St,Kt){this.schedulers=y;const Rt=(0,Uo.on)(t,h,r),Lt=R;$&&qz(Rt,h,se,Ce,Be,et,fe,St),[this.firestore,this.persistenceEnabled$]=(0,Uo.cc)(`${Rt.name}.firestore`,"AngularFirestore",Rt.name,()=>{const Ln=h.runOutsideAngular(()=>Rt.firestore());if(c&&Ln.settings(c),Lt&&Ln.useEmulator(...Lt),i&&!(0,rn.PM)(l)){const kn=()=>{try{return(0,Oc.D)(Ln.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(Tr){return typeof console<"u"&&console.warn(Tr),(0,$r.of)(!1)}};return[Ln,h.runOutsideAngular(kn)]}return[Ln,(0,$r.of)(!1)]},[c,Lt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:l}=rA(i,r),h=this.schedulers.ngZone.run(()=>c);return new Jz(h,l,this)}collectionGroup(t,r){const i=r||(l=>l),c=this.firestore.collectionGroup(t);return new NH(i(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new eA(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(Uo.Dh),C.LFG(Uo.xv,8),C.LFG(tA,8),C.LFG(FH,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(mo.HU),C.LFG(nA,8),C.LFG(LH,8),C.LFG(z_,8),C.LFG(Yz,8),C.LFG(jz,8),C.LFG($z,8),C.LFG(Gz,8),C.LFG(Wz,8),C.LFG(Kz,8),C.LFG(x_.nm,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VH=(()=>{class n{constructor(){zH.Z.registerVersion("angularfire",mo.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tA,useValue:!0},{provide:nA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({providers:[iA]}),n})();const oA_firebase={apiKey:"AIzaSyAwit8Gs6gctZ11MqSefvXa0Gd15lzVpaw",authDomain:"sell-project-83c72.firebaseapp.com",projectId:"sell-project-83c72",storageBucket:"sell-project-83c72.firebasestorage.app",messagingSenderId:"196626313279",appId:"1:196626313279:web:5ea38e5b40202f1eb9488a",measurementId:"G-7WBCQW6ZC6"};class sA{}class HH{}const Tl="*";function aA(n,e=null){return{type:2,steps:n,options:e}}function cA(n){return{type:6,styles:n,offset:null}}function lA(n){Promise.resolve().then(n)}class G0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class uA{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const c=this.players.length;0==c?lA(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==c&&this._onFinish()}),l.onDestroy(()=>{++r==c&&this._onDestroy()}),l.onStart(()=>{++i==c&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const k_="!";function dA(n){return new C.vHH(3e3,!1)}function CB(){return typeof window<"u"&&typeof window.document<"u"}function O_(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Tu(n){switch(n.length){case 0:return new G0;case 1:return n[0];default:return new uA(n)}}function hA(n,e,t,r,i=new Map,c=new Map){const l=[],h=[];let y=-1,M=null;if(r.forEach(R=>{const $=R.get("offset"),se=$==y,fe=se&&M||new Map;R.forEach((Ce,Be)=>{let et=Be,St=Ce;if("offset"!==Be)switch(et=e.normalizePropertyName(et,l),St){case k_:St=i.get(Be);break;case Tl:St=c.get(Be);break;default:St=e.normalizeStyleValue(Be,et,St,l)}fe.set(et,St)}),se||h.push(fe),M=fe,y=$}),l.length)throw function lB(n){return new C.vHH(3502,!1)}();return h}function R_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&N_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&N_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&N_(t,"destroy",n)))}}function N_(n,e,t){const c=F_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(c._data=l),c}function F_(n,e,t,r,i="",c=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:c,disabled:!!l}}function wa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function fA(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let L_=(n,e)=>!1,pA=(n,e,t)=>[],mA=null;function V_(n){const e=n.parentNode||n.host;return e===mA?null:e}(O_()||typeof Element<"u")&&(CB()?(mA=(()=>document.documentElement)(),L_=(n,e)=>{for(;e;){if(e===n)return!0;e=V_(e)}return!1}):L_=(n,e)=>n.contains(e),pA=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ed=null,gA=!1;const vA=L_,yA=pA;let _A=(()=>{class n{validateStyleProperty(t){return function SB(n){ed||(ed=function EB(){return typeof document<"u"?document.body:null}()||{},gA=!!ed.style&&"WebkitAppearance"in ed.style);let e=!0;return ed.style&&!function bB(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ed.style,!e&&gA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ed.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return vA(t,r)}getParentElement(t){return V_(t)}query(t,r,i){return yA(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,c,l,h=[],y){return new G0(i,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})(),H_=(()=>{class n{}return n.NOOP=new _A,n})();const TB=1e3,B_="ng-enter",Mp="ng-leave",Ip="ng-trigger",xp=".ng-trigger",CA="ng-animating",U_=".ng-animating";function Dl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Y_(parseFloat(e[1]),e[2])}function Y_(n,e){return"s"===e?n*TB:n}function zp(n,e,t){return n.hasOwnProperty("duration")?n:function MB(n,e,t){let i,c=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(dA()),{duration:0,delay:0,easing:""};i=Y_(parseFloat(h[1]),h[2]);const y=h[3];null!=y&&(c=Y_(parseFloat(y),h[4]));const M=h[5];M&&(l=M)}else i=n;if(!t){let h=!1,y=e.length;i<0&&(e.push(function BH(){return new C.vHH(3100,!1)}()),h=!0),c<0&&(e.push(function UH(){return new C.vHH(3101,!1)}()),h=!0),h&&e.splice(y,0,dA())}return{duration:i,delay:c,easing:l}}(n,e,t)}function W0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function bA(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Du(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function EA(n,e,t){return t?e+":"+t+";":""}function TA(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=EA(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=EA(0,AB(t),n.style[t]));n.setAttribute("style",e)}function jc(n,e,t){n.style&&(e.forEach((r,i)=>{const c=$_(i);t&&!t.has(i)&&t.set(i,n.style[c]),n.style[c]=r}),O_()&&TA(n))}function td(n,e){n.style&&(e.forEach((t,r)=>{const i=$_(r);n.style[i]=""}),O_()&&TA(n))}function K0(n){return Array.isArray(n)?1==n.length?n[0]:aA(n):n}const j_=new RegExp("{{\\s*(.+?)\\s*}}","g");function DA(n){let e=[];if("string"==typeof n){let t;for(;t=j_.exec(n);)e.push(t[1]);j_.lastIndex=0}return e}function q0(n,e,t){const r=n.toString(),i=r.replace(j_,(c,l)=>{let h=e[l];return null==h&&(t.push(function jH(n){return new C.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function Ap(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const zB=/-+([a-z0-9])/g;function $_(n){return n.replace(zB,(...e)=>e[1].toUpperCase())}function AB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ca(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $H(n){return new C.vHH(3004,!1)}()}}function MA(n,e){return window.getComputedStyle(n)[e]}const Op="*";function FB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function LB(n,e,t){if(":"==n[0]){const y=function VB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function oB(n){return new C.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function iB(n){return new C.vHH(3015,!1)}()),e;const i=r[1],c=r[2],l=r[3];e.push(IA(i,l));"<"==c[0]&&!(i==Op&&l==Op)&&e.push(IA(l,i))}(r,t,e)):t.push(n),t}const Rp=new Set(["true","1"]),Np=new Set(["false","0"]);function IA(n,e){const t=Rp.has(n)||Np.has(n),r=Rp.has(e)||Np.has(e);return(i,c)=>{let l=n==Op||n==i,h=e==Op||e==c;return!l&&t&&"boolean"==typeof i&&(l=i?Rp.has(n):Np.has(n)),!h&&r&&"boolean"==typeof c&&(h=c?Rp.has(e):Np.has(e)),l&&h}}const HB=new RegExp("s*:selfs*,?","g");function G_(n,e,t,r){return new BB(n).build(e,t,r)}class BB{constructor(e){this._driver=e}build(e,t,r){const i=new jB(t);return this._resetContextStyleTimingState(i),Ca(this,K0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const c=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function WH(){return new C.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const y=h,M=y.name;M.toString().split(/\s*,\s*/).forEach(R=>{y.name=R,c.push(this.visitState(y,t))}),y.name=M}else if(1==h.type){const y=this.visitTransition(h,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function KH(){return new C.vHH(3007,!1)}())}),{type:7,name:e.name,states:c,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,l=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(y=>{DA(y).forEach(M=>{l.hasOwnProperty(M)||c.add(M)})})}),c.size&&(Ap(c.values()),t.errors.push(function qH(n,e){return new C.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ca(this,K0(e.animation),t);return{type:1,matchers:FB(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:nd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ca(this,r,t)),options:nd(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const c=e.steps.map(l=>{t.currentTime=r;const h=Ca(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:c,options:nd(e.options)}}visitAnimate(e,t){const r=function GB(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return W_(zp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=W_(0,0,"");return c.dynamic=!0,c.strValue=t,c}const i=zp(t,e);return W_(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,c=e.styles?e.styles:cA({});if(5==c.type)i=this.visitKeyframes(c,t);else{let l=e.styles,h=!1;if(!l){h=!0;const M={};r.easing&&(M.easing=r.easing),l=cA(M)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=h,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Tl?r.push(h):t.errors.push(new C.vHH(3002,!1)):r.push(bA(h));let c=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!c))for(let y of h.values())if(y.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,y)=>{const M=t.collectedStyles.get(t.currentQuerySelector),R=M.get(y);let $=!0;R&&(c!=i&&c>=R.startTime&&i<=R.endTime&&(t.errors.push(function QH(n,e,t,r,i){return new C.vHH(3010,!1)}()),$=!1),c=R.startTime),$&&M.set(y,{startTime:c,endTime:i}),t.options&&function xB(n,e,t){const r=e.params||{},i=DA(n);i.length&&i.forEach(c=>{r.hasOwnProperty(c)||t.push(function YH(n){return new C.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function XH(){return new C.vHH(3011,!1)}()),r;let c=0;const l=[];let h=!1,y=!1,M=0;const R=e.steps.map(St=>{const Kt=this._makeStyleAst(St,t);let Rt=null!=Kt.offset?Kt.offset:function $B(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Kt.styles),Lt=0;return null!=Rt&&(c++,Lt=Kt.offset=Rt),y=y||Lt<0||Lt>1,h=h||Lt<M,M=Lt,l.push(Lt),Kt});y&&t.errors.push(function JH(){return new C.vHH(3012,!1)}()),h&&t.errors.push(function eB(){return new C.vHH(3200,!1)}());const $=e.steps.length;let se=0;c>0&&c<$?t.errors.push(function tB(){return new C.vHH(3202,!1)}()):0==c&&(se=1/($-1));const fe=$-1,Ce=t.currentTime,Be=t.currentAnimateTimings,et=Be.duration;return R.forEach((St,Kt)=>{const Rt=se>0?Kt==fe?1:se*Kt:l[Kt],Lt=Rt*et;t.currentTime=Ce+Be.delay+Lt,Be.duration=Lt,this._validateStyleAst(St,t),St.offset=Rt,r.styles.push(St)}),r}visitReference(e,t){return{type:8,animation:Ca(this,K0(e.animation),t),options:nd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:nd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:nd(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[c,l]=function UB(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(HB,"")),n=n.replace(/@\*/g,xp).replace(/@\w+/g,t=>xp+"-"+t.slice(1)).replace(/:animating/g,U_),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,wa(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ca(this,K0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:nd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function nB(){return new C.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:zp(e.timings,t.errors,!0);return{type:12,animation:Ca(this,K0(e.animation),t),timings:r,options:null}}}class jB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function nd(n){return n?(n=W0(n)).params&&(n.params=function YB(n){return n?W0(n):null}(n.params)):n={},n}function W_(n,e,t){return{duration:n,delay:e,easing:t}}function K_(n,e,t,r,i,c,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:c,totalTime:i+c,easing:l,subTimeline:h}}class Fp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const qB=new RegExp(":enter","g"),QB=new RegExp(":leave","g");function q_(n,e,t,r,i,c=new Map,l=new Map,h,y,M=[]){return(new XB).buildKeyframes(n,e,t,r,i,c,l,h,y,M)}class XB{buildKeyframes(e,t,r,i,c,l,h,y,M,R=[]){M=M||new Fp;const $=new Z_(e,t,M,i,c,R,[]);$.options=y;const se=y.delay?Dl(y.delay):0;$.currentTimeline.delayNextStep(se),$.currentTimeline.setStyles([l],null,$.errors,y),Ca(this,r,$);const fe=$.timelines.filter(Ce=>Ce.containsAnimation());if(fe.length&&h.size){let Ce;for(let Be=fe.length-1;Be>=0;Be--){const et=fe[Be];if(et.element===t){Ce=et;break}}Ce&&!Ce.allowOnlyTimelineStyles()&&Ce.setStyles([h],null,$.errors,y)}return fe.length?fe.map(Ce=>Ce.buildKeyframes()):[K_(t,[],[],[],0,se,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),c=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);c!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const c=i?.delay;if(c){const l="number"==typeof c?c:Dl(q0(c,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const l=null!=r.duration?Dl(r.duration):null,h=null!=r.delay?Dl(r.delay):null;return 0!==l&&e.forEach(y=>{const M=t.appendInstructionToTimeline(y,l,h);c=Math.max(c,M.duration+M.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Ca(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const c=e.options;if(c&&(c.params||c.delay)&&(i=t.createSubContext(c),i.transformIntoNewTimeline(),null!=c.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Lp);const l=Dl(c.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ca(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?Dl(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);c&&h.delayNextStep(c),Ca(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return zp(t.params?q0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,c=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(y=>{h.forwardTime((y.offset||0)*c),h.setStyles(y.styles,y.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},c=i.delay?Dl(i.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Lp);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let y=null;h.forEach((M,R)=>{t.currentQueryIndex=R;const $=t.createSubContext(e.options,M);c&&$.delayNextStep(c),M===t.element&&(y=$.currentTimeline),Ca(this,e.animation,$),$.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,$.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,c=e.timings,l=Math.abs(c.duration),h=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":y=h-y;break;case"full":y=r.currentStaggerTime}const R=t.currentTimeline;y&&R.delayNextStep(y);const $=R.currentTime;Ca(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-$+(i.startTime-r.currentTimeline.startTime)}}const Lp={};class Z_{constructor(e,t,r,i,c,l,h,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=c,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Vp(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Dl(r.duration)),null!=r.delay&&(i.delay=Dl(r.delay));const c=r.params;if(c){let l=i.params;l||(l=this.options.params={}),Object.keys(c).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=q0(c[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,c=new Z_(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=Lp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},c=new JB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(c),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,c,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(qB,"."+this._enterClassName)).replace(QB,"."+this._leaveClassName);let M=this._driver.query(this.element,e,1!=r);0!==r&&(M=r<0?M.slice(M.length+r,M.length):M.slice(0,r)),h.push(...M)}return!c&&0==h.length&&l.push(function rB(n){return new C.vHH(3014,!1)}()),h}}class Vp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Vp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Tl),this._currentKeyframe.set(t,Tl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const c=i&&i.params||{},l=function eU(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let c of r)t.set(c,Tl)}else Du(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,y]of l){const M=q0(y,c,r);this._pendingStyles.set(h,M),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Tl),this._updateStyle(h,M)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,y)=>{const M=Du(h,new Map,this._backFill);M.forEach((R,$)=>{R===k_?e.add($):R===Tl&&t.add($)}),r||M.set("offset",y/this.duration),i.push(M)});const c=e.size?Ap(e.values()):[],l=t.size?Ap(t.values()):[];if(r){const h=i[0],y=new Map(h);h.set("offset",0),y.set("offset",1),i=[h,y]}return K_(this.element,i,c,l,this.duration,this.startTime,this.easing,!1)}}class JB extends Vp{constructor(e,t,r,i,c,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=c,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],l=r+t,h=t/l,y=Du(e[0]);y.set("offset",0),c.push(y);const M=Du(e[0]);M.set("offset",AA(h)),c.push(M);const R=e.length-1;for(let $=1;$<=R;$++){let se=Du(e[$]);const fe=se.get("offset");se.set("offset",AA((t+fe*r)/l)),c.push(se)}r=l,t=0,i="",e=c}return K_(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function AA(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Q_{}const tU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class nU extends Q_{normalizePropertyName(e,t){return $_(e)}normalizeStyleValue(e,t,r,i){let c="";const l=r.toString().trim();if(tU.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function GH(n,e){return new C.vHH(3005,!1)}())}return l+c}}function PA(n,e,t,r,i,c,l,h,y,M,R,$,se){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:c,toState:r,toStyles:l,timelines:h,queriedElements:y,preStyleProps:M,postStyleProps:R,totalTime:$,errors:se}}const X_={};class kA{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function rU(n,e,t,r,i){return n.some(c=>c(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,c,l,h,y,M,R){const $=[],se=this.ast.options&&this.ast.options.params||X_,Ce=this.buildStyles(r,h&&h.params||X_,$),Be=y&&y.params||X_,et=this.buildStyles(i,Be,$),St=new Set,Kt=new Map,Rt=new Map,Lt="void"===i,Ln={params:iU(Be,se),delay:this.ast.options?.delay},kn=R?[]:q_(e,t,this.ast.animation,c,l,Ce,et,Ln,M,$);let Tr=0;if(kn.forEach(Dr=>{Tr=Math.max(Dr.duration+Dr.delay,Tr)}),$.length)return PA(t,this._triggerName,r,i,Lt,Ce,et,[],[],Kt,Rt,Tr,$);kn.forEach(Dr=>{const _o=Dr.element,Ba=wa(Kt,_o,new Set);Dr.preStyleProps.forEach(Ua=>Ba.add(Ua));const As=wa(Rt,_o,new Set);Dr.postStyleProps.forEach(Ua=>As.add(Ua)),_o!==t&&St.add(_o)});const Ni=Ap(St.values());return PA(t,this._triggerName,r,i,Lt,Ce,et,kn,Ni,Kt,Rt,Tr)}}function iU(n,e){const t=W0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class oU{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=W0(this.defaultParams);return Object.keys(e).forEach(c=>{const l=e[c];null!==l&&(i[c]=l)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((l,h)=>{l&&(l=q0(l,i,t));const y=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,y,l,t),r.set(h,l)})}),r}}class aU{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new oU(i.style,i.options&&i.options.params||{},r))}),OA(this.states,"true","1"),OA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new kA(e,i,this.states))}),this.fallbackTransition=function cU(n,e,t){return new kA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function OA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const lU=new Fp;class uU{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],c=G_(this._driver,t,r,i);if(r.length)throw function uB(n){return new C.vHH(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,r){const i=e.element,c=hA(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],c=this._animations.get(e);let l;const h=new Map;if(c?(l=q_(this._driver,t,c,B_,Mp,new Map,new Map,r,lU,i),l.forEach(R=>{const $=wa(h,R.element,new Map);R.postStyleProps.forEach(se=>$.set(se,null))})):(i.push(function dB(){return new C.vHH(3300,!1)}()),l=[]),i.length)throw function hB(n){return new C.vHH(3504,!1)}();h.forEach((R,$)=>{R.forEach((se,fe)=>{R.set(fe,this._driver.computeStyle($,fe,Tl))})});const M=Tu(l.map(R=>{const $=h.get(R.element);return this._buildPlayer(R,new Map,$)}));return this._playersById.set(e,M),M.onDestroy(()=>this.destroy(e)),this.players.push(M),M}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function fB(n){return new C.vHH(3301,!1)}();return t}listen(e,t,r,i){const c=F_(t,"","","");return R_(this._getPlayer(e),r,c,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const RA="ng-animate-queued",J_="ng-animate-disabled",mU=[],NA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Va="__ng_removed";class ew{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function wU(n){return n??null}(r?e.value:e),r){const c=W0(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Z0="void",tw=new ew(Z0);class vU{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ha(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function pB(n,e){return new C.vHH(3302,!1)}();if(null==r||0==r.length)throw function mB(n){return new C.vHH(3303,!1)}();if(!function CU(n){return"start"==n||"done"==n}(r))throw function gB(n,e){return new C.vHH(3400,!1)}();const c=wa(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};c.push(l);const h=wa(this._engine.statesByElement,e,new Map);return h.has(t)||(Ha(e,Ip),Ha(e,Ip+"-"+t),h.set(t,tw)),()=>{this._engine.afterFlush(()=>{const y=c.indexOf(l);y>=0&&c.splice(y,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function vB(n){return new C.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const c=this._getTrigger(t),l=new nw(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ha(e,Ip),Ha(e,Ip+"-"+t),this._engine.statesByElement.set(e,h=new Map));let y=h.get(t);const M=new ew(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&M.absorbOptions(y.options),h.set(t,M),y||(y=tw),M.value!==Z0&&y.value===M.value){if(!function EU(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const c=t[i];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(y.params,M.params)){const Be=[],et=c.matchStyles(y.value,y.params,Be),St=c.matchStyles(M.value,M.params,Be);Be.length?this._engine.reportError(Be):this._engine.afterFlush(()=>{td(e,et),jc(e,St)})}return}const se=wa(this._engine.playersByElement,e,[]);se.forEach(Be=>{Be.namespaceId==this.id&&Be.triggerName==t&&Be.queued&&Be.destroy()});let fe=c.matchTransition(y.value,M.value,e,M.params),Ce=!1;if(!fe){if(!i)return;fe=c.fallbackTransition,Ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:fe,fromState:y,toState:M,player:l,isFallbackTransition:Ce}),Ce||(Ha(e,RA),l.onStart(()=>{Jh(e,RA)})),l.onDone(()=>{let Be=this.players.indexOf(l);Be>=0&&this.players.splice(Be,1);const et=this._engine.playersByElement.get(e);if(et){let St=et.indexOf(l);St>=0&&et.splice(St,1)}}),this.players.push(l),se.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,xp,!0);r.forEach(i=>{if(i[Va])return;const c=this._engine.fetchNamespacesByElement(i);c.size?c.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const c=this._engine.statesByElement.get(e),l=new Map;if(c){const h=[];if(c.forEach((y,M)=>{if(l.set(M,y.value),this._triggers.has(M)){const R=this.trigger(e,M,Z0,i);R&&h.push(R)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Tu(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(c=>{const l=c.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,M=r.get(l)||tw,R=new ew(Z0),$=new nw(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:M,toState:R,player:$,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[Va];(!c||c===NA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const c=r.element,l=this._elementListeners.get(c);l&&l.forEach(h=>{if(h.name==r.triggerName){const y=F_(c,r.triggerName,r.fromState.value,r.toState.value);y._data=e,R_(r.player,h.phase,y,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const c=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==c||0==l?c-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class yU{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,c)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new vU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const y=i.get(h);if(y){const M=r.indexOf(y);r.splice(M+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const c=this._fetchNamespace(i.namespaceId);c&&t.add(c)}return t}trigger(e,t,r,i){if(Hp(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Hp(t))return;const c=t[Va];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ha(e,J_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jh(e,J_))}removeNode(e,t,r,i){if(Hp(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,c){this.collectedLeaveElements.push(t),t[Va]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,r,i,c){return Hp(t)?this._fetchNamespace(e).listen(t,r,i,c):()=>{}}_buildInstruction(e,t,r,i,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,xp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,U_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Tu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Va];if(t&&t.setForRemoval){if(e[Va]=NA,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(J_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ha(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Tu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function yB(n){return new C.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Fp,i=[],c=new Map,l=[],h=new Map,y=new Map,M=new Map,R=new Set;this.disabledNodes.forEach(dn=>{R.add(dn);const Hn=this.driver.query(dn,".ng-animate-queued",!0);for(let $n=0;$n<Hn.length;$n++)R.add(Hn[$n])});const $=this.bodyNode,se=Array.from(this.statesByElement.keys()),fe=VA(se,this.collectedEnterElements),Ce=new Map;let Be=0;fe.forEach((dn,Hn)=>{const $n=B_+Be++;Ce.set(Hn,$n),dn.forEach(qr=>Ha(qr,$n))});const et=[],St=new Set,Kt=new Set;for(let dn=0;dn<this.collectedLeaveElements.length;dn++){const Hn=this.collectedLeaveElements[dn],$n=Hn[Va];$n&&$n.setForRemoval&&(et.push(Hn),St.add(Hn),$n.hasAnimation?this.driver.query(Hn,".ng-star-inserted",!0).forEach(qr=>St.add(qr)):Kt.add(Hn))}const Rt=new Map,Lt=VA(se,Array.from(St));Lt.forEach((dn,Hn)=>{const $n=Mp+Be++;Rt.set(Hn,$n),dn.forEach(qr=>Ha(qr,$n))}),e.push(()=>{fe.forEach((dn,Hn)=>{const $n=Ce.get(Hn);dn.forEach(qr=>Jh(qr,$n))}),Lt.forEach((dn,Hn)=>{const $n=Rt.get(Hn);dn.forEach(qr=>Jh(qr,$n))}),et.forEach(dn=>{this.processLeaveNode(dn)})});const Ln=[],kn=[];for(let dn=this._namespaceList.length-1;dn>=0;dn--)this._namespaceList[dn].drainQueuedTransitions(t).forEach($n=>{const qr=$n.player,is=$n.element;if(Ln.push(qr),this.collectedEnterElements.length){const Ps=is[Va];if(Ps&&Ps.setForMove){if(Ps.previousTriggersValues&&Ps.previousTriggersValues.has($n.triggerName)){const ad=Ps.previousTriggersValues.get($n.triggerName),Ya=this.statesByElement.get($n.element);if(Ya&&Ya.has($n.triggerName)){const Xp=Ya.get($n.triggerName);Xp.value=ad,Ya.set($n.triggerName,Xp)}}return void qr.destroy()}}const Kc=!$||!this.driver.containsElement($,is),Sa=Rt.get(is),Iu=Ce.get(is),Xi=this._buildInstruction($n,r,Iu,Sa,Kc);if(Xi.errors&&Xi.errors.length)return void kn.push(Xi);if(Kc)return qr.onStart(()=>td(is,Xi.fromStyles)),qr.onDestroy(()=>jc(is,Xi.toStyles)),void i.push(qr);if($n.isFallbackTransition)return qr.onStart(()=>td(is,Xi.fromStyles)),qr.onDestroy(()=>jc(is,Xi.toStyles)),void i.push(qr);const BP=[];Xi.timelines.forEach(Ps=>{Ps.stretchStartingKeyframe=!0,this.disabledNodes.has(Ps.element)||BP.push(Ps)}),Xi.timelines=BP,r.append(is,Xi.timelines),l.push({instruction:Xi,player:qr,element:is}),Xi.queriedElements.forEach(Ps=>wa(h,Ps,[]).push(qr)),Xi.preStyleProps.forEach((Ps,ad)=>{if(Ps.size){let Ya=y.get(ad);Ya||y.set(ad,Ya=new Set),Ps.forEach((Xp,vw)=>Ya.add(vw))}}),Xi.postStyleProps.forEach((Ps,ad)=>{let Ya=M.get(ad);Ya||M.set(ad,Ya=new Set),Ps.forEach((Xp,vw)=>Ya.add(vw))})});if(kn.length){const dn=[];kn.forEach(Hn=>{dn.push(function _B(n,e){return new C.vHH(3505,!1)}())}),Ln.forEach(Hn=>Hn.destroy()),this.reportError(dn)}const Tr=new Map,Ni=new Map;l.forEach(dn=>{const Hn=dn.element;r.has(Hn)&&(Ni.set(Hn,Hn),this._beforeAnimationBuild(dn.player.namespaceId,dn.instruction,Tr))}),i.forEach(dn=>{const Hn=dn.element;this._getPreviousPlayers(Hn,!1,dn.namespaceId,dn.triggerName,null).forEach(qr=>{wa(Tr,Hn,[]).push(qr),qr.destroy()})});const Dr=et.filter(dn=>BA(dn,y,M)),_o=new Map;LA(_o,this.driver,Kt,M,Tl).forEach(dn=>{BA(dn,y,M)&&Dr.push(dn)});const As=new Map;fe.forEach((dn,Hn)=>{LA(As,this.driver,new Set(dn),y,k_)}),Dr.forEach(dn=>{const Hn=_o.get(dn),$n=As.get(dn);_o.set(dn,new Map([...Array.from(Hn?.entries()??[]),...Array.from($n?.entries()??[])]))});const Ua=[],od=[],sd={};l.forEach(dn=>{const{element:Hn,player:$n,instruction:qr}=dn;if(r.has(Hn)){if(R.has(Hn))return $n.onDestroy(()=>jc(Hn,qr.toStyles)),$n.disabled=!0,$n.overrideTotalTime(qr.totalTime),void i.push($n);let is=sd;if(Ni.size>1){let Sa=Hn;const Iu=[];for(;Sa=Sa.parentNode;){const Xi=Ni.get(Sa);if(Xi){is=Xi;break}Iu.push(Sa)}Iu.forEach(Xi=>Ni.set(Xi,is))}const Kc=this._buildAnimation($n.namespaceId,qr,Tr,c,As,_o);if($n.setRealPlayer(Kc),is===sd)Ua.push($n);else{const Sa=this.playersByElement.get(is);Sa&&Sa.length&&($n.parentPlayer=Tu(Sa)),i.push($n)}}else td(Hn,qr.fromStyles),$n.onDestroy(()=>jc(Hn,qr.toStyles)),od.push($n),R.has(Hn)&&i.push($n)}),od.forEach(dn=>{const Hn=c.get(dn.element);if(Hn&&Hn.length){const $n=Tu(Hn);dn.setRealPlayer($n)}}),i.forEach(dn=>{dn.parentPlayer?dn.syncPlayerEvents(dn.parentPlayer):dn.destroy()});for(let dn=0;dn<et.length;dn++){const Hn=et[dn],$n=Hn[Va];if(Jh(Hn,Mp),$n&&$n.hasAnimation)continue;let qr=[];if(h.size){let Kc=h.get(Hn);Kc&&Kc.length&&qr.push(...Kc);let Sa=this.driver.query(Hn,U_,!0);for(let Iu=0;Iu<Sa.length;Iu++){let Xi=h.get(Sa[Iu]);Xi&&Xi.length&&qr.push(...Xi)}}const is=qr.filter(Kc=>!Kc.destroyed);is.length?bU(this,Hn,is):this.processLeaveNode(Hn)}return et.length=0,Ua.forEach(dn=>{this.players.push(dn),dn.onDone(()=>{dn.destroy();const Hn=this.players.indexOf(dn);this.players.splice(Hn,1)}),dn.play()}),Ua}elementContainsData(e,t){let r=!1;const i=t[Va];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,c){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const y=!c||c==Z0;h.forEach(M=>{M.queued||!y&&M.triggerName!=i||l.push(M)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const c=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const M=y.element,R=M!==c,$=wa(r,M,[]);this._getPreviousPlayers(M,R,l,h,t.toState).forEach(fe=>{const Ce=fe.getRealPlayer();Ce.beforeDestroy&&Ce.beforeDestroy(),fe.destroy(),$.push(fe)})}td(c,t.fromStyles)}_buildAnimation(e,t,r,i,c,l){const h=t.triggerName,y=t.element,M=[],R=new Set,$=new Set,se=t.timelines.map(Ce=>{const Be=Ce.element;R.add(Be);const et=Be[Va];if(et&&et.removedBeforeQueried)return new G0(Ce.duration,Ce.delay);const St=Be!==y,Kt=function SU(n){const e=[];return HA(n,e),e}((r.get(Be)||mU).map(Tr=>Tr.getRealPlayer())).filter(Tr=>!!Tr.element&&Tr.element===Be),Rt=c.get(Be),Lt=l.get(Be),Ln=hA(0,this._normalizer,0,Ce.keyframes,Rt,Lt),kn=this._buildPlayer(Ce,Ln,Kt);if(Ce.subTimeline&&i&&$.add(Be),St){const Tr=new nw(e,h,Be);Tr.setRealPlayer(kn),M.push(Tr)}return kn});M.forEach(Ce=>{wa(this.playersByQueriedElement,Ce.element,[]).push(Ce),Ce.onDone(()=>function _U(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Ce.element,Ce))}),R.forEach(Ce=>Ha(Ce,CA));const fe=Tu(se);return fe.onDestroy(()=>{R.forEach(Ce=>Jh(Ce,CA)),jc(y,t.toStyles)}),$.forEach(Ce=>{wa(i,Ce,[]).push(fe)}),fe}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new G0(e.duration,e.delay)}}class nw{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new G0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>R_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){wa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Hp(n){return n&&1===n.nodeType}function FA(n,e){const t=n.style.display;return n.style.display=e??"none",t}function LA(n,e,t,r,i){const c=[];t.forEach(y=>c.push(FA(y)));const l=[];r.forEach((y,M)=>{const R=new Map;y.forEach($=>{const se=e.computeStyle(M,$,i);R.set($,se),(!se||0==se.length)&&(M[Va]=gU,l.push(M))}),n.set(M,R)});let h=0;return t.forEach(y=>FA(y,c[h++])),l}function VA(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=1,i=new Set(e),c=new Map;function l(h){if(!h)return r;let y=c.get(h);if(y)return y;const M=h.parentNode;return y=t.has(M)?M:i.has(M)?r:l(M),c.set(h,y),y}return e.forEach(h=>{const y=l(h);y!==r&&t.get(y).push(h)}),t}function Ha(n,e){n.classList?.add(e)}function Jh(n,e){n.classList?.remove(e)}function bU(n,e,t){Tu(t).onDone(()=>n.processLeaveNode(e))}function HA(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof uA?HA(r.players,e):e.push(r)}}function BA(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(c=>i.add(c)):e.set(n,r),t.delete(n),!0}class Bp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,c)=>{},this._transitionEngine=new yU(e,t,r),this._timelineEngine=new uU(e,t,r),this._transitionEngine.onRemovalComplete=(i,c)=>this.onRemovalComplete(i,c)}registerTrigger(e,t,r,i,c){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const y=[],M=[],R=G_(this._driver,c,y,M);if(y.length)throw function cB(n,e){return new C.vHH(3404,!1)}();h=function sU(n,e,t){return new aU(n,e,t)}(i,R,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[c,l]=fA(r);this._timelineEngine.command(c,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,c){if("@"==r.charAt(0)){const[l,h]=fA(r);return this._timelineEngine.listen(l,t,h,c)}return this._transitionEngine.listen(e,t,r,i,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let DU=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&jc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jc(this._element,this._initialStyles),this._endStyles&&(jc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(td(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(td(this._element,this._endStyles),this._endStyles=null),jc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rw(n){let e=null;return n.forEach((t,r)=>{(function MU(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class UA{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:MA(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class IU{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return vA(e,t)}getParentElement(e){return V_(e)}query(e,t,r){return yA(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,c,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};c&&(y.easing=c);const M=new Map,R=l.filter(fe=>fe instanceof UA);(function PB(n,e){return 0===n||0===e})(r,i)&&R.forEach(fe=>{fe.currentSnapshot.forEach((Ce,Be)=>M.set(Be,Ce))});let $=function IB(n){return n.length?n[0]instanceof Map?n:n.map(e=>bA(e)):[]}(t).map(fe=>Du(fe));$=function kB(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((c,l)=>{r.has(l)||i.push(l),r.set(l,c)}),i.length)for(let c=1;c<e.length;c++){let l=e[c];i.forEach(h=>l.set(h,MA(n,h)))}}return e}(e,$,M);const se=function TU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=rw(e[0]),e.length>1&&(r=rw(e[e.length-1]))):e instanceof Map&&(t=rw(e)),t||r?new DU(n,t,r):null}(e,$);return new UA(e,$,y,se)}}let xU=(()=>{class n extends sA{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:C.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?aA(t):t;return YA(this._renderer,null,r,"register",[i]),new zU(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(C.FYo),C.LFG(rn.K0))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})();class zU extends HH{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new AU(this._id,e,t||{},this._renderer)}}class AU{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return YA(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function YA(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const jA="@.disabled";let PU=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,l)=>{const h=l?.parentNode(c);h&&l.removeChild(h,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let R=this._rendererCache.get(c);return R||(R=new $A("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,R)),R}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const y=R=>{Array.isArray(R)?R.forEach(y):this.engine.registerTrigger(l,h,t,R.name,R)};return r.data.animation.forEach(y),new kU(this,h,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[l,h]=c;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(C.FYo),C.LFG(Bp),C.LFG(C.R0b))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})();class $A{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==jA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class kU extends $A{constructor(e,t,r,i,c){super(t,r,i,c),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jA?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function OU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),l="";return"@"!=c.charAt(0)&&([c,l]=function RU(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,i,c,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let NU=(()=>{class n extends Bp{constructor(t,r,i,c){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(rn.K0),C.LFG(H_),C.LFG(Q_),C.LFG(C.z2F))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac}),n})();const GA=[{provide:sA,useClass:xU},{provide:Q_,useFactory:function FU(){return new nU}},{provide:Bp,useClass:NU},{provide:C.FYo,useFactory:function LU(n,e,t){return new PU(n,e,t)},deps:[m.se,Bp,C.R0b]}],iw=[{provide:H_,useFactory:()=>new IU},{provide:C.QbO,useValue:"BrowserAnimations"},...GA],WA=[{provide:H_,useClass:_A},{provide:C.QbO,useValue:"NoopAnimations"},...GA];let VU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?WA:iw}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({providers:iw,imports:[m.b2]}),n})();var Yp=N(5137);const HU=[{path:"",loadChildren:()=>N.e(38).then(N.bind(N,3038)).then(n=>n.TemplateModule)},{path:"home1",loadChildren:()=>N.e(293).then(N.bind(N,9293)).then(n=>n.HomeModule)},{path:"about",loadChildren:()=>N.e(565).then(N.bind(N,6565)).then(n=>n.AboutModule)},{path:"login",loadChildren:()=>N.e(953).then(N.bind(N,9953)).then(n=>n.LoginModule)},{path:"roadmap",loadChildren:()=>N.e(504).then(N.bind(N,9504)).then(n=>n.RoadmapModule)}];let BU=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[Yp.Bz.forRoot(HU),Yp.Bz]}),n})();const KA="body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--ion-color-hu-background)}.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;align-items:center;justify-content:space-between}.navbar[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-header);padding:0;box-shadow:0 2px 8px #0000001a}.navbar__logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:block}.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:24px;font-weight:900;color:var(--ion-color-hu-white);line-height:1.2;letter-spacing:-1px;display:block}.navbar__menu[_ngcontent-%COMP%]{display:flex;list-style:none;gap:40px;margin:0}.navbar__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-hu-white);text-decoration:none;font-size:16px;font-weight:500;padding:28px 0;display:block;transition:color .3s ease;opacity:.9}.navbar__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:var(--ion-color-hu-green_light)}.navbar__actions[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.btn[_ngcontent-%COMP%]{padding:12px 28px;border-radius:24px;text-decoration:none;font-weight:600;font-size:16px;transition:all .3s ease;display:inline-block;border:2px solid transparent}.btn--login[_ngcontent-%COMP%]{background-color:transparent;color:var(--ion-color-hu-white);border-color:var(--ion-color-hu-white)}.btn--login[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-white);color:var(--ion-color-hu-green)}.btn--primary[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-white);color:var(--ion-color-hu-green);box-shadow:0 4px 12px #69b93f33}.btn--primary[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-green_light);color:var(--ion-color-hu-black);box-shadow:0 6px 16px #2fe6de4d;transform:translateY(-2px)}@media (max-width: 992px){.navbar__menu[_ngcontent-%COMP%]{gap:24px}.navbar__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-wrap:wrap;gap:16px}.navbar__menu[_ngcontent-%COMP%]{order:3;width:100%;justify-content:center;gap:20px;padding-bottom:16px}.navbar__actions[_ngcontent-%COMP%]{gap:12px}}.ion-color-hu-black[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-black) !important}.ion-color-hu-brown[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-brown) !important}.ion-color-hu-red[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-red) !important}.ion-color-hu-orange[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-orange) !important}.ion-color-hu-white[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-white) !important}";let UU=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["app-header"]],decls:33,vars:0,consts:[["lang","vi"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"navbar"],[1,"container"],[1,"navbar__logo"],["href","/"],[1,"logo-text"],[1,"navbar__menu"],["href","#languages"],["href","/courses"],["href","/roadmap"],["href","/about"],[1,"navbar__actions"],["href","/login",1,"btn","btn--login"],["href","#start",1,"btn","btn--primary"]],template:function(i,c){1&i&&(C.TgZ(0,"html",0)(1,"head"),C._UZ(2,"meta",1)(3,"meta",2),C.TgZ(4,"title"),C._uU(5,"Memrise Style Navigation"),C.qZA()(),C.TgZ(6,"body")(7,"nav",3)(8,"div",4)(9,"div",5)(10,"a",6)(11,"span",7),C._uU(12,"MEM"),C._UZ(13,"br"),C._uU(14,"RISE"),C.qZA()()(),C.TgZ(15,"ul",8)(16,"li")(17,"a",9),C._uU(18,"Languages"),C.qZA()(),C.TgZ(19,"li")(20,"a",10),C._uU(21,"Courses"),C.qZA()(),C.TgZ(22,"li")(23,"a",11),C._uU(24,"Roadmap"),C.qZA()(),C.TgZ(25,"li")(26,"a",12),C._uU(27,"About"),C.qZA()()(),C.TgZ(28,"div",13)(29,"a",14),C._uU(30,"Login"),C.qZA(),C.TgZ(31,"a",15),C._uU(32,"Start Learning"),C.qZA()()()()()())},styles:[KA,KA]}),n})();const qA="body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--ion-color-hu-background)}.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px}.footer[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-header);padding:60px 20px 40px;color:var(--ion-color-hu-white)}.footer__top[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px;margin-bottom:40px}.footer__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:36px;font-weight:900;color:var(--ion-color-hu-orange);line-height:1.1;letter-spacing:-1px;display:block;text-align:center}.footer__social[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;margin:32px 0}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{width:48px;height:48px;border:2px solid var(--ion-color-hu-white);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--ion-color-hu-white);transition:all .3s ease;text-decoration:none}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-white);color:var(--ion-color-footer-bg);transform:translateY(-3px)}.footer__links[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:40px;max-width:1000px;margin:0 auto;padding-top:40px;border-top:1px solid rgba(255,255,255,.2)}.footer__column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:column;gap:12px}.footer__column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-hu-white);text-decoration:none;font-size:15px;font-weight:400;transition:all .3s ease;display:inline-block}.footer__column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ion-color-hu-orange);transform:translate(4px)}.btn[_ngcontent-%COMP%]{padding:14px 40px;border-radius:24px;text-decoration:none;font-weight:700;font-size:16px;transition:all .3s ease;display:inline-block;border:none;cursor:pointer}.btn--cta[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-orange);color:var(--ion-color-hu-white);box-shadow:0 4px 12px #146daf4d}.btn--cta[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-green);box-shadow:0 6px 16px #69b93f66;transform:translateY(-2px)}@media (max-width: 992px){.footer__links[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:32px}}@media (max-width: 768px){.footer[_ngcontent-%COMP%]{padding:48px 20px 32px}.footer__top[_ngcontent-%COMP%]{gap:20px;margin-bottom:32px}.footer__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:28px}.footer__social[_ngcontent-%COMP%]{margin:24px 0;gap:12px}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{width:44px;height:44px}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.footer__links[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:24px;padding-top:32px}.footer__column[_ngcontent-%COMP%]{text-align:center}.footer__column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{align-items:center}.btn--cta[_ngcontent-%COMP%]{padding:12px 32px;font-size:15px}}";let YU=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["app-footer"]],decls:78,vars:0,consts:[["lang","vi"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"footer"],[1,"container"],[1,"footer__top"],[1,"footer__logo"],[1,"logo-text"],["href","#start",1,"btn","btn--cta"],[1,"footer__social"],["href","#facebook","aria-label","Facebook",1,"social-link"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["href","#twitter","aria-label","Twitter",1,"social-link"],["d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["href","#youtube","aria-label","YouTube",1,"social-link"],["d","M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9.75 15.02l5.75-3.27-5.75-3.27v6.54z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["href","#instagram","aria-label","Instagram",1,"social-link"],["x","2","y","2","width","20","height","20","rx","5","ry","5","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","17.5","y1","6.5","x2","17.51","y2","6.5","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"footer__links"],[1,"footer__column"],["href","#about"],["href","#contact"],["href","#faq"],["href","#arabic"],["href","#spanish"],["href","#french"],["href","#arabic-course"],["href","#spanish-course"],["href","#french-course"],["href","#arabic-phrasebook"],["href","#spanish-phrasebook"],["href","#french-phrasebook"]],template:function(i,c){1&i&&(C.TgZ(0,"html",0)(1,"head"),C._UZ(2,"meta",1)(3,"meta",2),C.TgZ(4,"title"),C._uU(5,"Footer Section"),C.qZA()(),C.TgZ(6,"body")(7,"footer",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"span",7),C._uU(12,"MEM"),C._UZ(13,"br"),C._uU(14,"RISE"),C.qZA()(),C.TgZ(15,"a",8),C._uU(16,"Start learning"),C.qZA()(),C.TgZ(17,"div",9)(18,"a",10),C.O4$(),C.TgZ(19,"svg",11),C._UZ(20,"path",12),C.qZA()(),C.kcU(),C.TgZ(21,"a",13),C.O4$(),C.TgZ(22,"svg",11),C._UZ(23,"path",14),C.qZA()(),C.kcU(),C.TgZ(24,"a",15),C.O4$(),C.TgZ(25,"svg",11),C._UZ(26,"path",16)(27,"path",17),C.qZA()(),C.kcU(),C.TgZ(28,"a",18),C.O4$(),C.TgZ(29,"svg",11),C._UZ(30,"rect",19)(31,"path",20)(32,"line",21),C.qZA()()(),C.kcU(),C.TgZ(33,"div",22)(34,"div",23)(35,"ul")(36,"li")(37,"a",24),C._uU(38,"About Us"),C.qZA()(),C.TgZ(39,"li")(40,"a",25),C._uU(41,"Contact Us"),C.qZA()(),C.TgZ(42,"li")(43,"a",26),C._uU(44,"FAQ & Help"),C.qZA()()()(),C.TgZ(45,"div",23)(46,"ul")(47,"li")(48,"a",27),C._uU(49,"Learn Arabic"),C.qZA()(),C.TgZ(50,"li")(51,"a",28),C._uU(52,"Learn Spanish"),C.qZA()(),C.TgZ(53,"li")(54,"a",29),C._uU(55,"Learn French"),C.qZA()()()(),C.TgZ(56,"div",23)(57,"ul")(58,"li")(59,"a",30),C._uU(60,"Arabic Course"),C.qZA()(),C.TgZ(61,"li")(62,"a",31),C._uU(63,"Spanish Course"),C.qZA()(),C.TgZ(64,"li")(65,"a",32),C._uU(66,"French Course"),C.qZA()()()(),C.TgZ(67,"div",23)(68,"ul")(69,"li")(70,"a",33),C._uU(71,"Arabic Phrasebook"),C.qZA()(),C.TgZ(72,"li")(73,"a",34),C._uU(74,"Spanish Phrasebook"),C.qZA()(),C.TgZ(75,"li")(76,"a",35),C._uU(77,"French Phrasebook"),C.qZA()()()()()()()()())},styles:[qA,qA]}),n})(),jU=(()=>{const e=class{constructor(){}ngOnInit(){}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["app-root"]],decls:4,vars:0,template:function(i,c){1&i&&(C.TgZ(0,"main"),C._UZ(1,"app-header")(2,"router-outlet")(3,"app-footer"),C.qZA())},dependencies:[Yp.lC,UU,YU]}),n})();var ZA=N(3692),QA=N(7158);const rd=void 0,GU=["en",[["a","p"],["AM","PM"],rd],[["AM","PM"],rd,rd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rd,"{1} 'at' {0}",rd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $U(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}],WU=new C.OlP("DynamicComponentInjector");new C.OlP("EventArgument",{providedIn:"root",factory:function KU(){return"$event"}}),new C.OlP("IoEventContext"),new C.OlP("IoEventContextProvider");let qU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({}),n})();new C.OlP("ReflectRef",{providedIn:"root",factory:()=>window.Reflect});let XA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[qU]}),n})(),ZU=(()=>{class n{constructor(t){this.vcr=t,this.ndcDynamicCreated=new C.vpe,this.componentRef=null}ngOnChanges(t){n.UpdateOnInputs.some(r=>t.hasOwnProperty(r))&&this.createDynamicComponent()}createDynamicComponent(){this.vcr.clear(),this.componentRef=null,this.ndcDynamicComponent&&(this.componentRef=this.vcr.createComponent(this.ndcDynamicComponent,{index:0,injector:this._resolveInjector(),projectableNodes:this.ndcDynamicContent,ngModuleRef:this.ndcDynamicNgModuleRef,environmentInjector:this.ndcDynamicEnvironmentInjector}),this.ndcDynamicCreated.emit(this.componentRef))}_resolveInjector(){let t=this.ndcDynamicInjector||this.vcr.injector;return this.ndcDynamicProviders&&(t=C.zs3.create({providers:this.ndcDynamicProviders,parent:t})),t}}return n.UpdateOnInputs=["ndcDynamicComponent","ndcDynamicInjector","ndcDynamicProviders","ndcDynamicContent","ndcDynamicNgModuleRef","ndcDynamicEnvironmentInjector"],n.\u0275fac=function(t){return new(t||n)(C.Y36(C.s_b))},n.\u0275cmp=C.Xpm({type:n,selectors:[["ndc-dynamic"]],inputs:{ndcDynamicComponent:"ndcDynamicComponent",ndcDynamicInjector:"ndcDynamicInjector",ndcDynamicProviders:"ndcDynamicProviders",ndcDynamicContent:"ndcDynamicContent",ndcDynamicNgModuleRef:"ndcDynamicNgModuleRef",ndcDynamicEnvironmentInjector:"ndcDynamicEnvironmentInjector"},outputs:{ndcDynamicCreated:"ndcDynamicCreated"},standalone:!0,features:[C._Bn([{provide:WU,useExisting:n}]),C.TTD,C.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),QU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=C.oAB({type:n}),n.\u0275inj=C.cJS({imports:[XA,ZU,XA]}),n})();const JA="firebasestorage.googleapis.com",eP="storageBucket";class Qi extends xr.ZR{constructor(e,t,r=0){super(ow(e),`Firebase Storage: ${t} (${ow(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ow(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ei=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ei||(Ei={})),Ei))();function ow(n){return"storage/"+n}function sw(){return new Qi(Ei.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function tP(){return new Qi(Ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nP(){return new Qi(Ei.CANCELED,"User canceled the upload/download.")}function rP(){return new Qi(Ei.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function e4(n){return new Qi(Ei.INVALID_ARGUMENT,n)}function iP(){return new Qi(Ei.APP_DELETED,"The Firebase app was deleted.")}function oP(n){return new Qi(Ei.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Q0(n,e){return new Qi(Ei.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function X0(n){throw new Qi(Ei.INTERNAL_ERROR,"Internal error: "+n)}class zs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=zs.makeFromUrl(e,t)}catch{return new zs(e,"")}if(""===r.path)return r;throw function aY(n){return new Qi(Ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function M(Lt){Lt.path_=decodeURIComponent(Lt.path)}const $=t.replace(/[.]/g,"\\."),Rt=[{regex:h,indices:{bucket:1,path:3},postModify:function c(Lt){"/"===Lt.path.charAt(Lt.path.length-1)&&(Lt.path_=Lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${$}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:M},{regex:new RegExp(`^https?://${t===JA?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:M}];for(let Lt=0;Lt<Rt.length;Lt++){const Ln=Rt[Lt],kn=Ln.regex.exec(e);if(kn){let Ni=kn[Ln.indices.path];Ni||(Ni=""),r=new zs(kn[Ln.indices.bucket],Ni),Ln.postModify(r);break}}if(null==r)throw function sY(n){return new Qi(Ei.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class hY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jp(n){return"string"==typeof n||n instanceof String}function sP(n){return aw()&&n instanceof Blob}function aw(){return typeof Blob<"u"&&!(0,xr.UG)()}function cw(n,e,t,r){if(r<e)throw e4(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw e4(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ml(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function aP(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Mu=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Mu||(Mu={})),Mu))();function cP(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),c=-1!==e.indexOf(n);return t||i||c}class yY{constructor(e,t,r,i,c,l,h,y,M,R,$,se=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=c,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=y,this.timeout_=M,this.progressCallback_=R,this.connectionFactory_=$,this.retry=se,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fe,Ce)=>{this.resolve_=fe,this.reject_=Ce,this.start_()})}start_(){const t=(r,i)=>{const c=this.resolve_,l=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(h,h.getResponse());!function mY(n){return void 0!==n}(y)?c():c(y)}catch(y){l(y)}else if(null!==h){const y=sw();y.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,y):y)}else l(i.canceled?this.appDelete_?iP():nP():tP())};this.canceled_?t(0,new $p(!1,null,!0)):this.backoffId_=function fY(n,e,t){let r=1,i=null,c=null,l=!1,h=0;function y(){return 2===h}let M=!1;function R(...et){M||(M=!0,e.apply(null,et))}function $(et){i=setTimeout(()=>{i=null,n(fe,y())},et)}function se(){c&&clearTimeout(c)}function fe(et,...St){if(M)return void se();if(et)return se(),void R.call(null,et,...St);if(y()||l)return se(),void R.call(null,et,...St);let Rt;r<64&&(r*=2),1===h?(h=2,Rt=0):Rt=1e3*(r+Math.random()),$(Rt)}let Ce=!1;function Be(et){Ce||(Ce=!0,se(),!M&&(null!==i?(et||(h=2),clearTimeout(i),$(0)):et||(h=1)))}return $(0),c=setTimeout(()=>{l=!0,Be(!0)},t),Be}((r,i)=>{if(i)return void r(!1,new $p(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(l),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(l),this.pendingConnection_=null;const h=c.getErrorCode()===Mu.NO_ERROR,y=c.getStatus();if(!h||cP(y,this.additionalRetryCodes_)&&this.retry){const R=c.getErrorCode()===Mu.ABORT;return void r(!1,new $p(!1,null,R))}const M=-1!==this.successCodes_.indexOf(y);r(!0,new $p(M,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function pY(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class $p{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function TY(...n){const e=function EY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(aw())return new Blob(n);throw new Qi(Ei.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ba={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lw{constructor(e,t){this.data=e,this.contentType=t||null}}function uw(n,e){switch(n){case ba.RAW:return new lw(lP(e));case ba.BASE64:case ba.BASE64URL:return new lw(uP(n,e));case ba.DATA_URL:return new lw(function xY(n){const e=new dP(n);return e.base64?uP(ba.BASE64,e.rest):function IY(n){let e;try{e=decodeURIComponent(n)}catch{throw Q0(ba.DATA_URL,"Malformed data URL.")}return lP(e)}(e.rest)}(e),function zY(n){return new dP(n).contentType}(e))}throw sw()}function lP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function uP(n,e){switch(n){case ba.BASE64:{const i=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(i||c)throw Q0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ba.BASE64URL:{const i=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(i||c)throw Q0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function MY(n){if(typeof atob>"u")throw function dY(n){return new Qi(Ei.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Q0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class dP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Q0(ba.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function AY(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class $c{constructor(e,t){let r=0,i="";sP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(sP(this.data_)){const i=function DY(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new $c(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new $c(r,!0)}}static getBlob(...e){if(aw()){const t=e.map(r=>r instanceof $c?r.data_:r);return new $c(TY.apply(null,t))}{const t=e.map(l=>jp(l)?uw(ba.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let c=0;return t.forEach(l=>{for(let h=0;h<l.length;h++)i[c++]=l[h]}),new $c(i,!0)}}uploadData(){return this.data_}}function dw(n){let e;try{e=JSON.parse(n)}catch{return null}return function vY(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function hP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function OY(n,e){return e}class Gs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||OY}}let Gp=null;function J0(){if(Gp)return Gp;const n=[];n.push(new Gs("bucket")),n.push(new Gs("generation")),n.push(new Gs("metageneration")),n.push(new Gs("name","fullPath",!0));const t=new Gs("name");t.xform=function e(c,l){return function RY(n){return!jp(n)||n.length<2?n:hP(n)}(l)},n.push(t);const i=new Gs("size");return i.xform=function r(c,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Gs("timeCreated")),n.push(new Gs("updated")),n.push(new Gs("md5Hash",null,!0)),n.push(new Gs("cacheControl",null,!0)),n.push(new Gs("contentDisposition",null,!0)),n.push(new Gs("contentEncoding",null,!0)),n.push(new Gs("contentLanguage",null,!0)),n.push(new Gs("contentType",null,!0)),n.push(new Gs("metadata","customMetadata",!0)),Gp=n,Gp}function fP(n,e,t){const r=dw(e);return null===r?null:function FY(n,e,t){const r={type:"file"},i=t.length;for(let c=0;c<i;c++){const l=t[c];r[l.local]=l.xform(r,e[l.server])}return function NY(n,e){Object.defineProperty(n,"ref",{get:function t(){const c=new zs(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function hw(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const c=e[i];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const pP="prefixes",mP="items";class Gc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Wc(n){if(!n)throw sw()}function Wp(n,e){return function t(r,i){const c=fP(n,i,e);return Wc(null!==c),c}}function t4(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function iY(){return new Qi(Ei.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function rY(){return new Qi(Ei.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function nY(n){return new Qi(Ei.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function oY(n){return new Qi(Ei.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function e3(n){const e=t4(n);return function t(r,i){let c=e(r,i);return 404===r.getStatus()&&(c=function tY(n){return new Qi(Ei.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=i.serverResponse,c}}function gP(n,e,t){const i=Ml(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new Gc(i,"GET",Wp(n,t),l);return h.errorHandler=e3(e),h}function YY(n,e,t,r,i){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),i&&(c.maxResults=i);const h=Ml(e.bucketOnlyServerUrl(),n.host,n._protocol),M=n.maxOperationRetryTime,R=new Gc(h,"GET",function BY(n,e){return function t(r,i){const c=function HY(n,e,t){const r=dw(t);return null===r?null:function VY(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[pP])for(const i of t[pP]){const c=i.replace(/\/$/,""),l=n._makeStorageReference(new zs(e,c));r.prefixes.push(l)}if(t[mP])for(const i of t[mP]){const c=n._makeStorageReference(new zs(e,i.name));r.items.push(c)}return r}(n,e,r)}(n,e,i);return Wc(null!==c),c}}(n,e.bucket),M);return R.urlParams=c,R.errorHandler=t4(e),R}function yP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function WY(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class Kp{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function fw(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Wc(!1)}return Wc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const QY={STATE_CHANGED:"state_changed"},Ws={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pw(n){switch(n){case"running":case"pausing":case"canceling":return Ws.RUNNING;case"paused":return Ws.PAUSED;case"success":return Ws.SUCCESS;case"canceled":return Ws.CANCELED;default:return Ws.ERROR}}class XY{constructor(e,t,r){if(function gY(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function n4(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let CP=null;class JY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw X0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const c in i)i.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,i[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw X0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw X0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw X0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw X0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ej extends JY{initXhr(){this.xhr_.responseType="text"}}function dc(){return CP?CP():new ej}class bP{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=J0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ei.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(cP(i.status,[])){if(!c)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=tP()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ei.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,c)=>{this._resolve=i,this._reject=c,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function KY(n,e,t,r,i){const c=e.bucketOnlyServerUrl(),l=yP(e,r,i),h={name:l.fullPath},y=Ml(c,n.host,n._protocol),R={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},$=hw(l,t),Ce=new Gc(y,"POST",function fe(Be){let et;fw(Be);try{et=Be.getResponseHeader("X-Goog-Upload-URL")}catch{Wc(!1)}return Wc(jp(et)),et},n.maxUploadRetryTime);return Ce.urlParams=h,Ce.headers=R,Ce.body=$,Ce.errorHandler=t4(e),Ce}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,dc,e,t);this._request=i,i.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function qY(n,e,t,r){const y=new Gc(t,"POST",function c(M){const R=fw(M,["active","final"]);let $=null;try{$=M.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wc(!1)}$||Wc(!1);const se=Number($);return Wc(!isNaN(se)),new Kp(se,r.size(),"final"===R)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=t4(e),y}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(i,dc,t,r);this._request=c,c.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Kp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,c)=>{let l;try{l=function ZY(n,e,t,r,i,c,l,h){const y=new Kp(0,0);if(l?(y.current=l.current,y.total=l.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function lY(){return new Qi(Ei.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const M=y.total-y.current;let R=M;i>0&&(R=Math.min(R,i));const $=y.current;let fe="";fe=0===R?"finalize":M===R?"upload, finalize":"upload";const Ce={"X-Goog-Upload-Command":fe,"X-Goog-Upload-Offset":`${y.current}`},Be=r.slice($,$+R);if(null===Be)throw rP();const Rt=new Gc(t,"POST",function et(Lt,Ln){const kn=fw(Lt,["active","final"]),Tr=y.current+R,Ni=r.size();let Dr;return Dr="final"===kn?Wp(e,c)(Lt,Ln):null,new Kp(Tr,Ni,"final"===kn,Dr)},e.maxUploadRetryTime);return Rt.headers=Ce,Rt.body=Be.uploadData(),Rt.progressCallback=h||null,Rt.errorHandler=t4(n),Rt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const h=this._ref.storage._makeRequest(l,dc,i,c,!1);this._request=h,h.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=gP(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,dc,e,t);this._request=i,i.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function _P(n,e,t,r,i){const c=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},y=function h(){let Rt="";for(let Lt=0;Lt<2;Lt++)Rt+=Math.random().toString().slice(2);return Rt}();l["Content-Type"]="multipart/related; boundary="+y;const M=yP(e,r,i),R=hw(M,t),fe=$c.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+R+"\r\n--"+y+"\r\nContent-Type: "+M.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===fe)throw rP();const Ce={name:M.fullPath},Be=Ml(c,n.host,n._protocol),St=n.maxUploadRetryTime,Kt=new Gc(Be,"POST",Wp(n,t),St);return Kt.urlParams=Ce,Kt.headers=l,Kt.body=fe.uploadData(),Kt.errorHandler=t4(e),Kt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,dc,e,t);this._request=i,i.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nP(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=pw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const c=new XY(t||void 0,r||void 0,i||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(pw(this._state)){case Ws.SUCCESS:n4(this._resolve.bind(null,this.snapshot))();break;case Ws.CANCELED:case Ws.ERROR:n4(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(pw(this._state)){case Ws.RUNNING:case Ws.PAUSED:e.next&&n4(e.next.bind(e,this.snapshot))();break;case Ws.SUCCESS:e.complete&&n4(e.complete.bind(e))();break;default:e.error&&n4(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class id{constructor(e,t){this._service=e,this._location=t instanceof zs?t:zs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new id(e,t)}get root(){const e=new zs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hP(this._location.path)}get storage(){return this._service}get parent(){const e=function PY(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new zs(this._location.bucket,e);return new id(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw oP(e)}}function EP(n,e,t){return mw.apply(this,arguments)}function mw(){return mw=(0,pt.Z)(function*(n,e,t){const i=yield TP(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield EP(n,e,i.nextPageToken))}),mw.apply(this,arguments)}function TP(n,e){null!=e&&"number"==typeof e.maxResults&&cw("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=YY(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,dc)}function hj(n){n._throwIfRoot("getDownloadURL");const e=function jY(n,e,t){const i=Ml(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new Gc(i,"GET",function UY(n,e){return function t(r,i){const c=fP(n,i,e);return Wc(null!==c),function LY(n,e,t,r){const i=dw(e);if(null===i||!jp(i.downloadTokens))return null;const c=i.downloadTokens;if(0===c.length)return null;const l=encodeURIComponent;return c.split(",").map(M=>{const $=n.fullPath;return Ml("/b/"+l(n.bucket)+"/o/"+l($),t,r)+aP({alt:"media",token:M})})[0]}(c,i,n.host,n._protocol)}}(n,t),l);return h.errorHandler=e3(e),h}(n.storage,n._location,J0());return n.storage.makeRequestWithTokens(e,dc).then(t=>{if(null===t)throw function uY(){return new Qi(Ei.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function DP(n,e){const t=function kY(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new zs(n._location.bucket,t);return new id(n.storage,r)}function MP(n,e){if(n instanceof gw){const t=n;if(null==t._bucket)throw function cY(){return new Qi(Ei.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eP+"' property when initializing the app?")}();const r=new id(t,t._bucket);return null!=e?MP(r,e):r}return void 0!==e?DP(n,e):n}function gj(n,e){if(e&&function pj(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof gw)return function mj(n,e){return new id(n,e)}(n,e);throw e4("To use ref(service, url), the first argument must be a Storage instance.")}return MP(n,e)}function IP(n,e){const t=e?.[eP];return null==t?null:zs.makeFromBucketSpec(t,n)}class gw{constructor(e,t,r,i,c){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=c,this._bucket=null,this._host=JA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?zs.makeFromBucketSpec(i,this._host):IP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?zs.makeFromBucketSpec(this._url,e):IP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pt.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pt.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new id(this,e)}_makeRequest(e,t,r,i,c=!0){if(this._deleted)return new hY(iP());{const l=function SY(n,e,t,r,i,c,l=!0){const h=aP(n.urlParams),y=n.url+h,M=Object.assign({},n.headers);return function CY(n,e){e&&(n["X-Firebase-GMPID"]=e)}(M,e),function _Y(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(M,t),function wY(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(M,c),function bY(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(M,r),new yY(y,n.method,M,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,c);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,pt.Z)(function*(){const[i,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,c).getPromise()})()}}const xP="@firebase/storage";function PP(n,e){return gj(n=(0,xr.m9)(n),e)}function Dj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new gw(t,r,i,e,nu.SDK_VERSION)}!function Mj(){(0,nu._registerComponent)(new Z6.wA("storage",Dj,"PUBLIC").setMultipleInstances(!0)),(0,nu.registerVersion)(xP,"0.11.2",""),(0,nu.registerVersion)(xP,"0.11.2","esm2017")}();class qp{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class OP{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qp(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new qp(r,this,this._ref))},t)}on(e,t,r,i){let c;return t&&(c="function"==typeof t?l=>t(new qp(l,this,this._ref)):{next:t.next?l=>t.next(new qp(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,i||void 0)}}class RP{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Il(e,this._service))}get items(){return this._delegate.items.map(e=>new Il(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Il{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Tj(n,e){return DP(n,e)}(this._delegate,e);return new Il(t,this.storage)}get root(){return new Il(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Il(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new OP(function yj(n,e,t){return function aj(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new bP(n,new $c(e),t)}(n=(0,xr.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ba.RAW,r){this._throwIfRoot("putString");const i=uw(t,e),c=Object.assign({},r);return null==c.contentType&&null!=i.contentType&&(c.contentType=i.contentType),new OP(new bP(this._delegate,new $c(i.data,!0),c),this)}listAll(){return function bj(n){return function lj(n){const e={prefixes:[],items:[]};return EP(n,e).then(()=>e)}(n=(0,xr.m9)(n))}(this._delegate).then(e=>new RP(e,this.storage))}list(e){return function Cj(n,e){return TP(n=(0,xr.m9)(n),e)}(this._delegate,e||void 0).then(t=>new RP(t,this.storage))}getMetadata(){return function _j(n){return function uj(n){n._throwIfRoot("getMetadata");const e=gP(n.storage,n._location,J0());return n.storage.makeRequestWithTokens(e,dc)}(n=(0,xr.m9)(n))}(this._delegate)}updateMetadata(e){return function wj(n,e){return function dj(n,e){n._throwIfRoot("updateMetadata");const t=function $Y(n,e,t,r){const c=Ml(e.fullServerUrl(),n.host,n._protocol),h=hw(t,r),M=n.maxOperationRetryTime,R=new Gc(c,"PATCH",Wp(n,r),M);return R.headers={"Content-Type":"application/json; charset=utf-8"},R.body=h,R.errorHandler=e3(e),R}(n.storage,n._location,e,J0());return n.storage.makeRequestWithTokens(t,dc)}(n=(0,xr.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Sj(n){return hj(n=(0,xr.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ej(n){return function fj(n){n._throwIfRoot("deleteObject");const e=function GY(n,e){const r=Ml(e.fullServerUrl(),n.host,n._protocol),h=new Gc(r,"DELETE",function l(y,M){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=e3(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,dc)}(n=(0,xr.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw oP(e)}}class NP{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(FP(e))throw e4("ref() expected a child path but got a URL, use refFromURL instead.");return new Il(PP(this._delegate,e),this)}refFromURL(e){if(!FP(e))throw e4("refFromURL() expected a full URL but got a child path, use ref() instead.");try{zs.makeFromUrl(e,this._delegate.host)}catch{throw e4("refFromUrl() expected a valid full URL but got an invalid one.")}return new Il(PP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function kP(n,e,t,r={}){!function vj(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,xr.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function FP(n){return/^[A-Za-z]+:\/\//.test(n)}function Aj(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new NP(t,r)}function LP(n){const e=function kj(n){return new di.y(e=>{const t=l=>e.next(l);t(n.snapshot);const c=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){c()}}).pipe(jT(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,_r.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Zp(n){return{getDownloadURL:()=>(0,$r.of)(void 0).pipe(mo.fc,(0,La.w)(()=>n.getDownloadURL()),mo.iC),getMetadata:()=>(0,$r.of)(void 0).pipe(mo.fc,(0,La.w)(()=>n.getMetadata()),mo.iC),delete:()=>(0,Oc.D)(n.delete()),child:e=>Zp(n.child(e)),updateMetadata:e=>(0,Oc.D)(n.updateMetadata(e)),put:(e,t)=>LP(n.put(e,t)),putString:(e,t,r)=>LP(n.putString(e,t,r)),list:e=>(0,Oc.D)(n.list(e)),listAll:()=>(0,Oc.D)(n.listAll())}}!function Pj(n){const e={TaskState:Ws,TaskEvent:QY,StringFormat:ba,Storage:NP,Reference:Il};n.INTERNAL.registerComponent(new Z6.wA("storage-compat",Aj,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(XT.Z);const Oj=new C.OlP("angularfire2.storageBucket"),Rj=new C.OlP("angularfire2.storage.maxUploadRetryTime"),Nj=new C.OlP("angularfire2.storage.maxOperationRetryTime"),Fj=new C.OlP("angularfire2.storage.use-emulator");let Lj=(()=>{class n{constructor(t,r,i,c,l,h,y,M,R,$){const se=(0,Uo.on)(t,l,r);this.storage=(0,Uo.cc)(`${se.name}.storage.${i}`,"AngularFireStorage",se.name,()=>{const fe=l.runOutsideAngular(()=>se.storage(i||void 0)),Ce=R;return Ce&&fe.useEmulator(...Ce),y&&fe.setMaxUploadRetryTime(y),M&&fe.setMaxOperationRetryTime(M),fe},[y,M])}ref(t){return Zp(this.storage.ref(t))}refFromURL(t){return Zp(this.storage.refFromURL(t))}upload(t,r,i){return Zp(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(Uo.Dh),C.LFG(Uo.xv,8),C.LFG(Oj,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(mo.HU),C.LFG(Rj,8),C.LFG(Nj,8),C.LFG(Fj,8),C.LFG(x_.nm,8))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var Vj=N(7582),Hj=N(515),Bj=N(5132);const Yj=new C.OlP("angularfire2.analytics.analyticsCollectionEnabled"),jj=new C.OlP("angularfire2.analytics.appVersion"),$j=new C.OlP("angularfire2.analytics.appName"),Gj=new C.OlP("angularfire2.analytics.debugMode"),Wj=new C.OlP("angularfire2.analytics.config"),Qp="dataLayer";let HP=(()=>{class n{constructor(t,r,i,c,l,h,y,M,R){if(this.analyticsInitialized=new Promise(()=>{}),(0,rn.NF)(y)){window[Qp]=window[Qp]||[];const se=(...Be)=>"config"===Be[0]&&"firebase"===Be[2].origin&&(this.measurementId=Be[1],!0),fe=Be=>{window.gtag=(...et)=>{Be&&Be(...et),"event"===et[0]&&et[2].send_to===this.measurementId&&(c&&(et[2].app_name=c),i&&(et[2].app_version=i)),l&&typeof console<"u"&&console.info(...et),function(...St){window[Qp].push(arguments)}(...et)}};window[Qp].some(se)?(this.analyticsInitialized=Promise.resolve(),fe()):this.analyticsInitialized=new Promise(Be=>{fe((...et)=>{se(...et)&&Be()})}),h&&this.updateConfig(h),l&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const $=(0,$r.of)(void 0).pipe((0,$0.Q)(R.outsideAngular),(0,La.w)(Bj.Gb),(0,La.w)(se=>se?M.runOutsideAngular(()=>N.e(814).then(N.bind(N,3814))):Hj.E),(0,_r.U)(()=>(0,Uo.cc)("analytics","AngularFireAnalytics",t.name,()=>{const se=t.analytics();return!1===r&&se.setAnalyticsCollectionEnabled(!1),se},[t,r,h,l])),M_({bufferSize:1,refCount:!1}));return(0,Uo.pX)(this,$,M)}updateConfig(t){return(0,Vj.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(C.LFG(Uo.Ot),C.LFG(Yj,8),C.LFG(jj,8),C.LFG($j,8),C.LFG(Gj,8),C.LFG(Wj,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(mo.HU))},n.\u0275prov=C.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Jj=(()=>{const e=class{constructor(r,i,c,l,h,y,M,R){this.afAuth=r,this.afs=i,this.http=c,this.storage=l,this.titleService=h,this.platform=y,this.analytics=M,this.router=R}};let n=e;return e.\u0275fac=function(i){return new(i||e)(C.LFG(z_),C.LFG(iA),C.LFG(ln),C.LFG(Lj),C.LFG(m.Dx),C.LFG(j),C.LFG(HP),C.LFG(Yp.F0))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),e$=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[rn.ez]}),n})();(0,rn.qS)(GU);let t$=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=C.oAB({type:e,bootstrap:[jU]}),e.\u0275inj=C.cJS({providers:[Jj,{provide:Se,useValue:pe}],imports:[m.b2,BU,(0,ZA.hX)(()=>(0,ZA.ZF)(oA_firebase)),(0,QA.AR)(()=>(0,QA.v0)()),B.u5,Uo.hO.initializeApp(oA_firebase),VH,VU,pc,QU,ah.forRoot([A3,na,s5]),tR,e$]}),n})();m.q6().bootstrapModule(t$).catch(n=>console.error(n))},9751:(At,He,N)=>{N.d(He,{y:()=>De});var m=N(930),B=N(727),C=N(8822),pe=N(9635),ve=N(2416),Se=N(576),Pe=N(2806);let De=(()=>{class ye{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const Je=new ye;return Je.source=this,Je.operator=Ye,Je}subscribe(Ye,Je,Ct){const $e=function ce(ye){return ye&&ye instanceof m.Lv||function ue(ye){return ye&&(0,Se.m)(ye.next)&&(0,Se.m)(ye.error)&&(0,Se.m)(ye.complete)}(ye)&&(0,B.Nn)(ye)}(Ye)?Ye:new m.Hp(Ye,Je,Ct);return(0,Pe.x)(()=>{const{operator:it,source:ct}=this;$e.add(it?it.call($e,ct):ct?this._subscribe($e):this._trySubscribe($e))}),$e}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(Je){Ye.error(Je)}}forEach(Ye,Je){return new(Je=Fe(Je))((Ct,$e)=>{const it=new m.Hp({next:ct=>{try{Ye(ct)}catch(mt){$e(mt),it.unsubscribe()}},error:$e,complete:Ct});this.subscribe(it)})}_subscribe(Ye){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Ye)}[C.L](){return this}pipe(...Ye){return(0,pe.U)(Ye)(this)}toPromise(Ye){return new(Ye=Fe(Ye))((Je,Ct)=>{let $e;this.subscribe(it=>$e=it,it=>Ct(it),()=>Je($e))})}}return ye.create=Ue=>new ye(Ue),ye})();function Fe(ye){var Ue;return null!==(Ue=ye??ve.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(At,He,N)=>{N.d(He,{x:()=>Pe});var m=N(9751),B=N(727);const pe=(0,N(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=N(8737),Se=N(2806);let Pe=(()=>{class Fe extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const ye=new De(this,this);return ye.operator=ce,ye}_throwIfClosed(){if(this.closed)throw new pe}next(ce){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ce)}})}error(ce){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ce)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:ye,isStopped:Ue,observers:Ye}=this;return ye||Ue?B.Lc:(this.currentObservers=null,Ye.push(ce),new B.w0(()=>{this.currentObservers=null,(0,ve.P)(Ye,ce)}))}_checkFinalizedStatuses(ce){const{hasError:ye,thrownError:Ue,isStopped:Ye}=this;ye?ce.error(Ue):Ye&&ce.complete()}asObservable(){const ce=new m.y;return ce.source=this,ce}}return Fe.create=(ue,ce)=>new De(ue,ce),Fe})();class De extends Pe{constructor(ue,ce){super(),this.destination=ue,this.source=ce}next(ue){var ce,ye;null===(ye=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===ye||ye.call(ce,ue)}error(ue){var ce,ye;null===(ye=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===ye||ye.call(ce,ue)}complete(){var ue,ce;null===(ce=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===ce||ce.call(ue)}_subscribe(ue){var ce,ye;return null!==(ye=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ue))&&void 0!==ye?ye:B.Lc}}},930:(At,He,N)=>{N.d(He,{Hp:()=>Ct,Lv:()=>ye});var m=N(576),B=N(727),C=N(2416),pe=N(7849),ve=N(5032);const Se=Fe("C",void 0,void 0);function Fe(je,Le,Xe){return{kind:je,value:Le,error:Xe}}var ue=N(3410),ce=N(2806);class ye extends B.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,B.Nn)(Le)&&Le.add(this)):this.destination=mt}static create(Le,Xe,gt){return new Ct(Le,Xe,gt)}next(Le){this.isStopped?ct(function De(je){return Fe("N",je,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?ct(function Pe(je){return Fe("E",void 0,je)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?ct(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ye(je,Le){return Ue.call(je,Le)}class Je{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(Le)}catch(gt){$e(gt)}}error(Le){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(Le)}catch(gt){$e(gt)}else $e(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Xe){$e(Xe)}}}class Ct extends ye{constructor(Le,Xe,gt){let tt;if(super(),(0,m.m)(Le)||!Le)tt={next:Le??void 0,error:Xe??void 0,complete:gt??void 0};else{let ke;this&&C.v.useDeprecatedNextContext?(ke=Object.create(Le),ke.unsubscribe=()=>this.unsubscribe(),tt={next:Le.next&&Ye(Le.next,ke),error:Le.error&&Ye(Le.error,ke),complete:Le.complete&&Ye(Le.complete,ke)}):tt=Le}this.destination=new Je(tt)}}function $e(je){C.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(je):(0,pe.h)(je)}function ct(je,Le){const{onStoppedNotification:Xe}=C.v;Xe&&ue.z.setTimeout(()=>Xe(je,Le))}const mt={closed:!0,next:ve.Z,error:function it(je){throw je},complete:ve.Z}},727:(At,He,N)=>{N.d(He,{Lc:()=>Se,w0:()=>ve,Nn:()=>Pe});var m=N(576);const C=(0,N(3888).d)(Fe=>function(ce){Fe(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((ye,Ue)=>`${Ue+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var pe=N(8737);class ve{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Ye of ce)Ye.remove(this);else ce.remove(this);const{initialTeardown:ye}=this;if((0,m.m)(ye))try{ye()}catch(Ye){ue=Ye instanceof C?Ye.errors:[Ye]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ye of Ue)try{De(Ye)}catch(Je){ue=ue??[],Je instanceof C?ue=[...ue,...Je.errors]:ue.push(Je)}}if(ue)throw new C(ue)}}add(ue){var ce;if(ue&&ue!==this)if(this.closed)De(ue);else{if(ue instanceof ve){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(ue)}}_hasParent(ue){const{_parentage:ce}=this;return ce===ue||Array.isArray(ce)&&ce.includes(ue)}_addParent(ue){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(ue),ce):ce?[ce,ue]:ue}_removeParent(ue){const{_parentage:ce}=this;ce===ue?this._parentage=null:Array.isArray(ce)&&(0,pe.P)(ce,ue)}remove(ue){const{_finalizers:ce}=this;ce&&(0,pe.P)(ce,ue),ue instanceof ve&&ue._removeParent(this)}}ve.EMPTY=(()=>{const Fe=new ve;return Fe.closed=!0,Fe})();const Se=ve.EMPTY;function Pe(Fe){return Fe instanceof ve||Fe&&"closed"in Fe&&(0,m.m)(Fe.remove)&&(0,m.m)(Fe.add)&&(0,m.m)(Fe.unsubscribe)}function De(Fe){(0,m.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(At,He,N)=>{N.d(He,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(At,He,N)=>{N.d(He,{a:()=>ue});var m=N(9751),B=N(4742),C=N(8996),pe=N(4671),ve=N(3268),Se=N(3269),Pe=N(1810),De=N(5403),Fe=N(9672);function ue(...Ue){const Ye=(0,Se.yG)(Ue),Je=(0,Se.jO)(Ue),{args:Ct,keys:$e}=(0,B.D)(Ue);if(0===Ct.length)return(0,C.D)([],Ye);const it=new m.y(function ce(Ue,Ye,Je=pe.y){return Ct=>{ye(Ye,()=>{const{length:$e}=Ue,it=new Array($e);let ct=$e,mt=$e;for(let je=0;je<$e;je++)ye(Ye,()=>{const Le=(0,C.D)(Ue[je],Ye);let Xe=!1;Le.subscribe((0,De.x)(Ct,gt=>{it[je]=gt,Xe||(Xe=!0,mt--),mt||Ct.next(Je(it.slice()))},()=>{--ct||Ct.complete()}))},Ct)},Ct)}}(Ct,Ye,$e?ct=>(0,Pe.n)($e,ct):pe.y));return Je?it.pipe((0,ve.Z)(Je)):it}function ye(Ue,Ye,Je){Ue?(0,Fe.f)(Je,Ue,Ye):Ye()}},7272:(At,He,N)=>{N.d(He,{z:()=>ve});var m=N(8189),C=N(3269),pe=N(8996);function ve(...Se){return function B(){return(0,m.J)(1)}()((0,pe.D)(Se,(0,C.yG)(Se)))}},515:(At,He,N)=>{N.d(He,{E:()=>B});const B=new(N(9751).y)(ve=>ve.complete())},8996:(At,He,N)=>{N.d(He,{D:()=>Le});var m=N(8421),B=N(5363),C=N(9468),Se=N(9751),De=N(2202),Fe=N(576),ue=N(9672);function ye(Xe,gt){if(!Xe)throw new Error("Iterable cannot be null");return new Se.y(tt=>{(0,ue.f)(tt,gt,()=>{const ke=Xe[Symbol.asyncIterator]();(0,ue.f)(tt,gt,()=>{ke.next().then(yt=>{yt.done?tt.complete():tt.next(yt.value)})},0,!0)})})}var Ue=N(3670),Ye=N(8239),Je=N(1144),Ct=N(6495),$e=N(2206),it=N(4532),ct=N(3260);function Le(Xe,gt){return gt?function je(Xe,gt){if(null!=Xe){if((0,Ue.c)(Xe))return function pe(Xe,gt){return(0,m.Xf)(Xe).pipe((0,C.R)(gt),(0,B.Q)(gt))}(Xe,gt);if((0,Je.z)(Xe))return function Pe(Xe,gt){return new Se.y(tt=>{let ke=0;return gt.schedule(function(){ke===Xe.length?tt.complete():(tt.next(Xe[ke++]),tt.closed||this.schedule())})})}(Xe,gt);if((0,Ye.t)(Xe))return function ve(Xe,gt){return(0,m.Xf)(Xe).pipe((0,C.R)(gt),(0,B.Q)(gt))}(Xe,gt);if((0,$e.D)(Xe))return ye(Xe,gt);if((0,Ct.T)(Xe))return function ce(Xe,gt){return new Se.y(tt=>{let ke;return(0,ue.f)(tt,gt,()=>{ke=Xe[De.h](),(0,ue.f)(tt,gt,()=>{let yt,Ut;try{({value:yt,done:Ut}=ke.next())}catch(Mt){return void tt.error(Mt)}Ut?tt.complete():tt.next(yt)},0,!0)}),()=>(0,Fe.m)(ke?.return)&&ke.return()})}(Xe,gt);if((0,ct.L)(Xe))return function mt(Xe,gt){return ye((0,ct.Q)(Xe),gt)}(Xe,gt)}throw(0,it.z)(Xe)}(Xe,gt):(0,m.Xf)(Xe)}},8421:(At,He,N)=>{N.d(He,{Xf:()=>Ue});var m=N(7582),B=N(1144),C=N(8239),pe=N(9751),ve=N(3670),Se=N(2206),Pe=N(4532),De=N(6495),Fe=N(3260),ue=N(576),ce=N(7849),ye=N(8822);function Ue(je){if(je instanceof pe.y)return je;if(null!=je){if((0,ve.c)(je))return function Ye(je){return new pe.y(Le=>{const Xe=je[ye.L]();if((0,ue.m)(Xe.subscribe))return Xe.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,B.z)(je))return function Je(je){return new pe.y(Le=>{for(let Xe=0;Xe<je.length&&!Le.closed;Xe++)Le.next(je[Xe]);Le.complete()})}(je);if((0,C.t)(je))return function Ct(je){return new pe.y(Le=>{je.then(Xe=>{Le.closed||(Le.next(Xe),Le.complete())},Xe=>Le.error(Xe)).then(null,ce.h)})}(je);if((0,Se.D)(je))return it(je);if((0,De.T)(je))return function $e(je){return new pe.y(Le=>{for(const Xe of je)if(Le.next(Xe),Le.closed)return;Le.complete()})}(je);if((0,Fe.L)(je))return function ct(je){return it((0,Fe.Q)(je))}(je)}throw(0,Pe.z)(je)}function it(je){return new pe.y(Le=>{(function mt(je,Le){var Xe,gt,tt,ke;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,m.KL)(je);!(gt=yield Xe.next()).done;)if(Le.next(gt.value),Le.closed)return}catch(yt){tt={error:yt}}finally{try{gt&&!gt.done&&(ke=Xe.return)&&(yield ke.call(Xe))}finally{if(tt)throw tt.error}}Le.complete()})})(je,Le).catch(Xe=>Le.error(Xe))})}},6451:(At,He,N)=>{N.d(He,{T:()=>Se});var m=N(8189),B=N(8421),C=N(515),pe=N(3269),ve=N(8996);function Se(...Pe){const De=(0,pe.yG)(Pe),Fe=(0,pe._6)(Pe,1/0),ue=Pe;return ue.length?1===ue.length?(0,B.Xf)(ue[0]):(0,m.J)(Fe)((0,ve.D)(ue,De)):C.E}},9646:(At,He,N)=>{N.d(He,{of:()=>C});var m=N(3269),B=N(8996);function C(...pe){const ve=(0,m.yG)(pe);return(0,B.D)(pe,ve)}},5403:(At,He,N)=>{N.d(He,{x:()=>B});var m=N(930);function B(pe,ve,Se,Pe,De){return new C(pe,ve,Se,Pe,De)}class C extends m.Lv{constructor(ve,Se,Pe,De,Fe,ue){super(ve),this.onFinalize=Fe,this.shouldUnsubscribe=ue,this._next=Se?function(ce){try{Se(ce)}catch(ye){ve.error(ye)}}:super._next,this._error=De?function(ce){try{De(ce)}catch(ye){ve.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(ce){ve.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},262:(At,He,N)=>{N.d(He,{K:()=>pe});var m=N(8421),B=N(5403),C=N(4482);function pe(ve){return(0,C.e)((Se,Pe)=>{let ue,De=null,Fe=!1;De=Se.subscribe((0,B.x)(Pe,void 0,void 0,ce=>{ue=(0,m.Xf)(ve(ce,pe(ve)(Se))),De?(De.unsubscribe(),De=null,ue.subscribe(Pe)):Fe=!0})),Fe&&(De.unsubscribe(),De=null,ue.subscribe(Pe))})}},4351:(At,He,N)=>{N.d(He,{b:()=>C});var m=N(5577),B=N(576);function C(pe,ve){return(0,B.m)(ve)?(0,m.z)(pe,ve,1):(0,m.z)(pe,1)}},6590:(At,He,N)=>{N.d(He,{d:()=>C});var m=N(4482),B=N(5403);function C(pe){return(0,m.e)((ve,Se)=>{let Pe=!1;ve.subscribe((0,B.x)(Se,De=>{Pe=!0,Se.next(De)},()=>{Pe||Se.next(pe),Se.complete()}))})}},9300:(At,He,N)=>{N.d(He,{h:()=>C});var m=N(4482),B=N(5403);function C(pe,ve){return(0,m.e)((Se,Pe)=>{let De=0;Se.subscribe((0,B.x)(Pe,Fe=>pe.call(ve,Fe,De++)&&Pe.next(Fe)))})}},8746:(At,He,N)=>{N.d(He,{x:()=>B});var m=N(4482);function B(C){return(0,m.e)((pe,ve)=>{try{pe.subscribe(ve)}finally{ve.add(C)}})}},590:(At,He,N)=>{N.d(He,{P:()=>Pe});var m=N(6805),B=N(9300),C=N(5698),pe=N(6590),ve=N(8068),Se=N(4671);function Pe(De,Fe){const ue=arguments.length>=2;return ce=>ce.pipe(De?(0,B.h)((ye,Ue)=>De(ye,Ue,ce)):Se.y,(0,C.q)(1),ue?(0,pe.d)(Fe):(0,ve.T)(()=>new m.K))}},4004:(At,He,N)=>{N.d(He,{U:()=>C});var m=N(4482),B=N(5403);function C(pe,ve){return(0,m.e)((Se,Pe)=>{let De=0;Se.subscribe((0,B.x)(Pe,Fe=>{Pe.next(pe.call(ve,Fe,De++))}))})}},9718:(At,He,N)=>{N.d(He,{h:()=>B});var m=N(4004);function B(C){return(0,m.U)(()=>C)}},8189:(At,He,N)=>{N.d(He,{J:()=>C});var m=N(5577),B=N(4671);function C(pe=1/0){return(0,m.z)(B.y,pe)}},5577:(At,He,N)=>{N.d(He,{z:()=>De});var m=N(4004),B=N(8421),C=N(4482),pe=N(9672),ve=N(5403),Pe=N(576);function De(Fe,ue,ce=1/0){return(0,Pe.m)(ue)?De((ye,Ue)=>(0,m.U)((Ye,Je)=>ue(ye,Ye,Ue,Je))((0,B.Xf)(Fe(ye,Ue))),ce):("number"==typeof ue&&(ce=ue),(0,C.e)((ye,Ue)=>function Se(Fe,ue,ce,ye,Ue,Ye,Je,Ct){const $e=[];let it=0,ct=0,mt=!1;const je=()=>{mt&&!$e.length&&!it&&ue.complete()},Le=gt=>it<ye?Xe(gt):$e.push(gt),Xe=gt=>{Ye&&ue.next(gt),it++;let tt=!1;(0,B.Xf)(ce(gt,ct++)).subscribe((0,ve.x)(ue,ke=>{Ue?.(ke),Ye?Le(ke):ue.next(ke)},()=>{tt=!0},void 0,()=>{if(tt)try{for(it--;$e.length&&it<ye;){const ke=$e.shift();Je?(0,pe.f)(ue,Je,()=>Xe(ke)):Xe(ke)}je()}catch(ke){ue.error(ke)}}))};return Fe.subscribe((0,ve.x)(ue,Le,()=>{mt=!0,je()})),()=>{Ct?.()}}(ye,Ue,Fe,ce)))}},5363:(At,He,N)=>{N.d(He,{Q:()=>pe});var m=N(9672),B=N(4482),C=N(5403);function pe(ve,Se=0){return(0,B.e)((Pe,De)=>{Pe.subscribe((0,C.x)(De,Fe=>(0,m.f)(De,ve,()=>De.next(Fe),Se),()=>(0,m.f)(De,ve,()=>De.complete(),Se),Fe=>(0,m.f)(De,ve,()=>De.error(Fe),Se)))})}},5026:(At,He,N)=>{N.d(He,{R:()=>pe});var m=N(4482),B=N(5403);function pe(ve,Se){return(0,m.e)(function C(ve,Se,Pe,De,Fe){return(ue,ce)=>{let ye=Pe,Ue=Se,Ye=0;ue.subscribe((0,B.x)(ce,Je=>{const Ct=Ye++;Ue=ye?ve(Ue,Je,Ct):(ye=!0,Je),De&&ce.next(Ue)},Fe&&(()=>{ye&&ce.next(Ue),ce.complete()})))}}(ve,Se,arguments.length>=2,!0))}},3099:(At,He,N)=>{N.d(He,{B:()=>ve});var m=N(8421),B=N(7579),C=N(930),pe=N(4482);function ve(Pe={}){const{connector:De=(()=>new B.x),resetOnError:Fe=!0,resetOnComplete:ue=!0,resetOnRefCountZero:ce=!0}=Pe;return ye=>{let Ue,Ye,Je,Ct=0,$e=!1,it=!1;const ct=()=>{Ye?.unsubscribe(),Ye=void 0},mt=()=>{ct(),Ue=Je=void 0,$e=it=!1},je=()=>{const Le=Ue;mt(),Le?.unsubscribe()};return(0,pe.e)((Le,Xe)=>{Ct++,!it&&!$e&&ct();const gt=Je=Je??De();Xe.add(()=>{Ct--,0===Ct&&!it&&!$e&&(Ye=Se(je,ce))}),gt.subscribe(Xe),!Ue&&Ct>0&&(Ue=new C.Hp({next:tt=>gt.next(tt),error:tt=>{it=!0,ct(),Ye=Se(mt,Fe,tt),gt.error(tt)},complete:()=>{$e=!0,ct(),Ye=Se(mt,ue),gt.complete()}}),(0,m.Xf)(Le).subscribe(Ue))})(ye)}}function Se(Pe,De,...Fe){if(!0===De)return void Pe();if(!1===De)return;const ue=new C.Hp({next:()=>{ue.unsubscribe(),Pe()}});return(0,m.Xf)(De(...Fe)).subscribe(ue)}},8675:(At,He,N)=>{N.d(He,{O:()=>pe});var m=N(7272),B=N(3269),C=N(4482);function pe(...ve){const Se=(0,B.yG)(ve);return(0,C.e)((Pe,De)=>{(Se?(0,m.z)(ve,Pe,Se):(0,m.z)(ve,Pe)).subscribe(De)})}},9468:(At,He,N)=>{N.d(He,{R:()=>B});var m=N(4482);function B(C,pe=0){return(0,m.e)((ve,Se)=>{Se.add(C.schedule(()=>ve.subscribe(Se),pe))})}},3900:(At,He,N)=>{N.d(He,{w:()=>pe});var m=N(8421),B=N(4482),C=N(5403);function pe(ve,Se){return(0,B.e)((Pe,De)=>{let Fe=null,ue=0,ce=!1;const ye=()=>ce&&!Fe&&De.complete();Pe.subscribe((0,C.x)(De,Ue=>{Fe?.unsubscribe();let Ye=0;const Je=ue++;(0,m.Xf)(ve(Ue,Je)).subscribe(Fe=(0,C.x)(De,Ct=>De.next(Se?Se(Ue,Ct,Je,Ye++):Ct),()=>{Fe=null,ye()}))},()=>{ce=!0,ye()}))})}},5698:(At,He,N)=>{N.d(He,{q:()=>pe});var m=N(515),B=N(4482),C=N(5403);function pe(ve){return ve<=0?()=>m.E:(0,B.e)((Se,Pe)=>{let De=0;Se.subscribe((0,C.x)(Pe,Fe=>{++De<=ve&&(Pe.next(Fe),ve<=De&&Pe.complete())}))})}},8505:(At,He,N)=>{N.d(He,{b:()=>ve});var m=N(576),B=N(4482),C=N(5403),pe=N(4671);function ve(Se,Pe,De){const Fe=(0,m.m)(Se)||Pe||De?{next:Se,error:Pe,complete:De}:Se;return Fe?(0,B.e)((ue,ce)=>{var ye;null===(ye=Fe.subscribe)||void 0===ye||ye.call(Fe);let Ue=!0;ue.subscribe((0,C.x)(ce,Ye=>{var Je;null===(Je=Fe.next)||void 0===Je||Je.call(Fe,Ye),ce.next(Ye)},()=>{var Ye;Ue=!1,null===(Ye=Fe.complete)||void 0===Ye||Ye.call(Fe),ce.complete()},Ye=>{var Je;Ue=!1,null===(Je=Fe.error)||void 0===Je||Je.call(Fe,Ye),ce.error(Ye)},()=>{var Ye,Je;Ue&&(null===(Ye=Fe.unsubscribe)||void 0===Ye||Ye.call(Fe)),null===(Je=Fe.finalize)||void 0===Je||Je.call(Fe)}))}):pe.y}},8068:(At,He,N)=>{N.d(He,{T:()=>pe});var m=N(6805),B=N(4482),C=N(5403);function pe(Se=ve){return(0,B.e)((Pe,De)=>{let Fe=!1;Pe.subscribe((0,C.x)(De,ue=>{Fe=!0,De.next(ue)},()=>Fe?De.complete():De.error(Se())))})}function ve(){return new m.K}},4408:(At,He,N)=>{N.d(He,{o:()=>ve});var m=N(727);class B extends m.w0{constructor(Pe,De){super()}schedule(Pe,De=0){return this}}const C={setInterval(Se,Pe,...De){const{delegate:Fe}=C;return Fe?.setInterval?Fe.setInterval(Se,Pe,...De):setInterval(Se,Pe,...De)},clearInterval(Se){const{delegate:Pe}=C;return(Pe?.clearInterval||clearInterval)(Se)},delegate:void 0};var pe=N(8737);class ve extends B{constructor(Pe,De){super(Pe,De),this.scheduler=Pe,this.work=De,this.pending=!1}schedule(Pe,De=0){var Fe;if(this.closed)return this;this.state=Pe;const ue=this.id,ce=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(ce,ue,De)),this.pending=!0,this.delay=De,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(ce,this.id,De),this}requestAsyncId(Pe,De,Fe=0){return C.setInterval(Pe.flush.bind(Pe,this),Fe)}recycleAsyncId(Pe,De,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return De;null!=De&&C.clearInterval(De)}execute(Pe,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(Pe,De);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,De){let ue,Fe=!1;try{this.work(Pe)}catch(ce){Fe=!0,ue=ce||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:De}=this,{actions:Fe}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Fe,this),null!=Pe&&(this.id=this.recycleAsyncId(De,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(At,He,N)=>{N.d(He,{v:()=>C});var m=N(6063);class B{constructor(ve,Se=B.now){this.schedulerActionCtor=ve,this.now=Se}schedule(ve,Se=0,Pe){return new this.schedulerActionCtor(this,ve).schedule(Pe,Se)}}B.now=m.l.now;class C extends B{constructor(ve,Se=B.now){super(ve,Se),this.actions=[],this._active=!1}flush(ve){const{actions:Se}=this;if(this._active)return void Se.push(ve);let Pe;this._active=!0;do{if(Pe=ve.execute(ve.state,ve.delay))break}while(ve=Se.shift());if(this._active=!1,Pe){for(;ve=Se.shift();)ve.unsubscribe();throw Pe}}}},4986:(At,He,N)=>{N.d(He,{P:()=>pe,z:()=>C});var m=N(4408);const C=new(N(7565).v)(m.o),pe=C},6063:(At,He,N)=>{N.d(He,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(At,He,N)=>{N.d(He,{z:()=>m});const m={setTimeout(B,C,...pe){const{delegate:ve}=m;return ve?.setTimeout?ve.setTimeout(B,C,...pe):setTimeout(B,C,...pe)},clearTimeout(B){const{delegate:C}=m;return(C?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(At,He,N)=>{N.d(He,{h:()=>B});const B=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,He,N)=>{N.d(He,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(At,He,N)=>{N.d(He,{K:()=>B});const B=(0,N(3888).d)(C=>function(){C(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(At,He,N)=>{N.d(He,{_6:()=>Se,jO:()=>pe,yG:()=>ve});var m=N(576),B=N(3532);function C(Pe){return Pe[Pe.length-1]}function pe(Pe){return(0,m.m)(C(Pe))?Pe.pop():void 0}function ve(Pe){return(0,B.K)(C(Pe))?Pe.pop():void 0}function Se(Pe,De){return"number"==typeof C(Pe)?Pe.pop():De}},4742:(At,He,N)=>{N.d(He,{D:()=>ve});const{isArray:m}=Array,{getPrototypeOf:B,prototype:C,keys:pe}=Object;function ve(Pe){if(1===Pe.length){const De=Pe[0];if(m(De))return{args:De,keys:null};if(function Se(Pe){return Pe&&"object"==typeof Pe&&B(Pe)===C}(De)){const Fe=pe(De);return{args:Fe.map(ue=>De[ue]),keys:Fe}}}return{args:Pe,keys:null}}},8737:(At,He,N)=>{function m(B,C){if(B){const pe=B.indexOf(C);0<=pe&&B.splice(pe,1)}}N.d(He,{P:()=>m})},3888:(At,He,N)=>{function m(B){const pe=B(ve=>{Error.call(ve),ve.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}N.d(He,{d:()=>m})},1810:(At,He,N)=>{function m(B,C){return B.reduce((pe,ve,Se)=>(pe[ve]=C[Se],pe),{})}N.d(He,{n:()=>m})},2806:(At,He,N)=>{N.d(He,{O:()=>pe,x:()=>C});var m=N(2416);let B=null;function C(ve){if(m.v.useDeprecatedSynchronousErrorHandling){const Se=!B;if(Se&&(B={errorThrown:!1,error:null}),ve(),Se){const{errorThrown:Pe,error:De}=B;if(B=null,Pe)throw De}}else ve()}function pe(ve){m.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ve)}},9672:(At,He,N)=>{function m(B,C,pe,ve=0,Se=!1){const Pe=C.schedule(function(){pe(),Se?B.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(B.add(Pe),!Se)return Pe}N.d(He,{f:()=>m})},4671:(At,He,N)=>{function m(B){return B}N.d(He,{y:()=>m})},1144:(At,He,N)=>{N.d(He,{z:()=>m});const m=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(At,He,N)=>{N.d(He,{D:()=>B});var m=N(576);function B(C){return Symbol.asyncIterator&&(0,m.m)(C?.[Symbol.asyncIterator])}},576:(At,He,N)=>{function m(B){return"function"==typeof B}N.d(He,{m:()=>m})},3670:(At,He,N)=>{N.d(He,{c:()=>C});var m=N(8822),B=N(576);function C(pe){return(0,B.m)(pe[m.L])}},6495:(At,He,N)=>{N.d(He,{T:()=>C});var m=N(2202),B=N(576);function C(pe){return(0,B.m)(pe?.[m.h])}},8239:(At,He,N)=>{N.d(He,{t:()=>B});var m=N(576);function B(C){return(0,m.m)(C?.then)}},3260:(At,He,N)=>{N.d(He,{L:()=>pe,Q:()=>C});var m=N(7582),B=N(576);function C(ve){return(0,m.FC)(this,arguments,function*(){const Pe=ve.getReader();try{for(;;){const{value:De,done:Fe}=yield(0,m.qq)(Pe.read());if(Fe)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(De)}}finally{Pe.releaseLock()}})}function pe(ve){return(0,B.m)(ve?.getReader)}},3532:(At,He,N)=>{N.d(He,{K:()=>B});var m=N(576);function B(C){return C&&(0,m.m)(C.schedule)}},4482:(At,He,N)=>{N.d(He,{A:()=>B,e:()=>C});var m=N(576);function B(pe){return(0,m.m)(pe?.lift)}function C(pe){return ve=>{if(B(ve))return ve.lift(function(Se){try{return pe(Se,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(At,He,N)=>{N.d(He,{Z:()=>pe});var m=N(4004);const{isArray:B}=Array;function pe(ve){return(0,m.U)(Se=>function C(ve,Se){return B(Se)?ve(...Se):ve(Se)}(ve,Se))}},5032:(At,He,N)=>{function m(){}N.d(He,{Z:()=>m})},9635:(At,He,N)=>{N.d(He,{U:()=>C,z:()=>B});var m=N(4671);function B(...pe){return C(pe)}function C(pe){return 0===pe.length?m.y:1===pe.length?pe[0]:function(Se){return pe.reduce((Pe,De)=>De(Pe),Se)}}},7849:(At,He,N)=>{N.d(He,{h:()=>C});var m=N(2416),B=N(3410);function C(pe){B.z.setTimeout(()=>{const{onUnhandledError:ve}=m.v;if(!ve)throw pe;ve(pe)})}},4532:(At,He,N)=>{function m(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(He,{z:()=>m})},6895:(At,He,N)=>{N.d(He,{Do:()=>ct,EM:()=>as,HT:()=>pe,JF:()=>ca,K0:()=>Se,Mx:()=>Yi,NF:()=>$r,O5:()=>we,PM:()=>di,S$:()=>Ct,V_:()=>Fe,Ye:()=>mt,b0:()=>it,bD:()=>Zs,ez:()=>ja,q:()=>C,qS:()=>co,w_:()=>ve});var m=N(4650);let B=null;function C(){return B}function pe(P){B||(B=P)}class ve{}const Se=new m.OlP("DocumentToken");let Pe=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=m.Yz7({token:P,factory:function(){return function De(){return(0,m.LFG)(ue)}()},providedIn:"platform"}),P})();const Fe=new m.OlP("Location Initialized");let ue=(()=>{class P extends Pe{constructor(O){super(),this._doc=O,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return C().getBaseHref(this._doc)}onPopState(O){const K=C().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",O,!1),()=>K.removeEventListener("popstate",O)}onHashChange(O){const K=C().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",O,!1),()=>K.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,K,le){ce()?this._history.pushState(O,K,le):this._location.hash=le}replaceState(O,K,le){ce()?this._history.replaceState(O,K,le):this._location.hash=le}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return P.\u0275fac=function(O){return new(O||P)(m.LFG(Se))},P.\u0275prov=m.Yz7({token:P,factory:function(){return function ye(){return new ue((0,m.LFG)(Se))}()},providedIn:"platform"}),P})();function ce(){return!!window.history.pushState}function Ue(P,H){if(0==P.length)return H;if(0==H.length)return P;let O=0;return P.endsWith("/")&&O++,H.startsWith("/")&&O++,2==O?P+H.substring(1):1==O?P+H:P+"/"+H}function Ye(P){const H=P.match(/#|\?|$/),O=H&&H.index||P.length;return P.slice(0,O-("/"===P[O-1]?1:0))+P.slice(O)}function Je(P){return P&&"?"!==P[0]?"?"+P:P}let Ct=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=m.Yz7({token:P,factory:function(){return(0,m.f3M)(it)},providedIn:"root"}),P})();const $e=new m.OlP("appBaseHref");let it=(()=>{class P extends Ct{constructor(O,K){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return Ue(this._baseHref,O)}path(O=!1){const K=this._platformLocation.pathname+Je(this._platformLocation.search),le=this._platformLocation.hash;return le&&O?`${K}${le}`:K}pushState(O,K,le,Qe){const dt=this.prepareExternalUrl(le+Je(Qe));this._platformLocation.pushState(O,K,dt)}replaceState(O,K,le,Qe){const dt=this.prepareExternalUrl(le+Je(Qe));this._platformLocation.replaceState(O,K,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return P.\u0275fac=function(O){return new(O||P)(m.LFG(Pe),m.LFG($e,8))},P.\u0275prov=m.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),ct=(()=>{class P extends Ct{constructor(O,K){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(O){const K=Ue(this._baseHref,O);return K.length>0?"#"+K:K}pushState(O,K,le,Qe){let dt=this.prepareExternalUrl(le+Je(Qe));0==dt.length&&(dt=this._platformLocation.pathname),this._platformLocation.pushState(O,K,dt)}replaceState(O,K,le,Qe){let dt=this.prepareExternalUrl(le+Je(Qe));0==dt.length&&(dt=this._platformLocation.pathname),this._platformLocation.replaceState(O,K,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return P.\u0275fac=function(O){return new(O||P)(m.LFG(Pe),m.LFG($e,8))},P.\u0275prov=m.Yz7({token:P,factory:P.\u0275fac}),P})(),mt=(()=>{class P{constructor(O){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const K=this._locationStrategy.getBaseHref();this._basePath=function gt(P){if(new RegExp("^(https?:)?//").test(P)){const[,O]=P.split(/\/\/[^\/]+/);return O}return P}(Ye(Xe(K))),this._locationStrategy.onPopState(le=>{this._subject.emit({url:this.path(!0),pop:!0,state:le.state,type:le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,K=""){return this.path()==this.normalize(O+Je(K))}normalize(O){return P.stripTrailingSlash(function Le(P,H){if(!P||!H.startsWith(P))return H;const O=H.substring(P.length);return""===O||["/",";","?","#"].includes(O[0])?O:H}(this._basePath,Xe(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,K="",le=null){this._locationStrategy.pushState(le,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Je(K)),le)}replaceState(O,K="",le=null){this._locationStrategy.replaceState(le,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Je(K)),le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",K){this._urlChangeListeners.forEach(le=>le(O,K))}subscribe(O,K,le){return this._subject.subscribe({next:O,error:K,complete:le})}}return P.normalizeQueryParams=Je,P.joinWithSlash=Ue,P.stripTrailingSlash=Ye,P.\u0275fac=function(O){return new(O||P)(m.LFG(Ct))},P.\u0275prov=m.Yz7({token:P,factory:function(){return function je(){return new mt((0,m.LFG)(Ct))}()},providedIn:"root"}),P})();function Xe(P){return P.replace(/\/index.html$/,"")}function co(P,H,O){return(0,m.dwT)(P,H,O)}function Yi(P,H){H=encodeURIComponent(H);for(const O of P.split(";")){const K=O.indexOf("="),[le,Qe]=-1==K?[O,""]:[O.slice(0,K),O.slice(K+1)];if(le.trim()===H)return decodeURIComponent(Qe)}return null}let we=(()=>{class P{constructor(O,K){this._viewContainer=O,this._context=new be,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){rt("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){rt("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,K){return!0}}return P.\u0275fac=function(O){return new(O||P)(m.Y36(m.s_b),m.Y36(m.Rgc))},P.\u0275dir=m.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class be{constructor(){this.$implicit=null,this.ngIf=null}}function rt(P,H){if(H&&!H.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,m.AaK)(H)}'.`)}let ja=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275mod=m.oAB({type:P}),P.\u0275inj=m.cJS({}),P})();const Zs="browser",os="server";function $r(P){return P===Zs}function di(P){return P===os}let as=(()=>{class P{}return P.\u0275prov=(0,m.Yz7)({token:P,providedIn:"root",factory:()=>new Wo((0,m.LFG)(Se),window)}),P})();class Wo{constructor(H,O){this.document=H,this.window=O,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const O=function bo(P,H){const O=P.getElementById(H)||P.getElementsByName(H)[0];if(O)return O;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const K=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let le=K.currentNode;for(;le;){const Qe=le.shadowRoot;if(Qe){const dt=Qe.getElementById(H)||Qe.querySelector(`[name="${H}"]`);if(dt)return dt}le=K.nextNode()}}return null}(this.document,H);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=H)}}scrollToElement(H){const O=H.getBoundingClientRect(),K=O.left+this.window.pageXOffset,le=O.top+this.window.pageYOffset,Qe=this.offset();this.window.scrollTo(K-Qe[0],le-Qe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=hi(this.window.history)||hi(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hi(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class ca{}},4650:(At,He,N)=>{N.d(He,{$8M:()=>nl,$WT:()=>Mn,$Z:()=>ng,AFp:()=>H7,AaK:()=>De,CHM:()=>E,CRH:()=>b7,CZH:()=>ch,CqO:()=>kg,D6c:()=>gv,EJc:()=>T1,EiD:()=>A3,EpF:()=>Ag,F$t:()=>Vg,F4k:()=>Pg,FYo:()=>km,FiY:()=>Aa,Gf:()=>nh,GfV:()=>Om,Gpc:()=>ce,Hsn:()=>Hg,JOm:()=>ha,JVY:()=>xw,JZr:()=>Ct,KtG:()=>L,L6k:()=>zw,LAX:()=>Pw,LFG:()=>cn,LSH:()=>k3,Lbi:()=>B7,Lck:()=>NE,MMx:()=>H8,MR2:()=>qw,NdJ:()=>_8,O4$:()=>gc,OlP:()=>ei,Oqu:()=>x8,P3R:()=>wm,PXZ:()=>IT,Q6J:()=>f8,QGY:()=>y8,QbO:()=>U7,Qsj:()=>lC,R0b:()=>ga,RDi:()=>Ew,Rgc:()=>eh,SBq:()=>Ld,Sil:()=>yT,Suo:()=>f2,TTD:()=>_r,TgZ:()=>q4,Udp:()=>T8,X6Q:()=>sv,XFs:()=>Et,Xpm:()=>ft,Xts:()=>O3,Y36:()=>t1,YKP:()=>a7,YNc:()=>xg,Yjl:()=>mn,Yz7:()=>Ae,Z0I:()=>Xt,ZZ4:()=>W6,_Bn:()=>L8,_UZ:()=>m8,_Vd:()=>Fd,_c5:()=>VT,_uU:()=>u5,aQg:()=>x2,c2e:()=>w2,cJS:()=>gn,cg1:()=>A8,dDg:()=>TT,dqk:()=>bn,dwT:()=>HS,eBb:()=>Aw,eFA:()=>T2,eJc:()=>m2,ekj:()=>D8,eoX:()=>dh,f3M:()=>Xn,g9A:()=>I6,h0i:()=>g1,hGG:()=>HT,iGM:()=>th,ifc:()=>ee,ip1:()=>M6,jDz:()=>B8,kL8:()=>J4,kcU:()=>Zo,lG2:()=>Ft,lqb:()=>Zl,lri:()=>K7,mCW:()=>R4,n5z:()=>Ou,oAB:()=>xe,oxw:()=>Lg,pB0:()=>kw,q3G:()=>ro,q4F:()=>Rm,qLn:()=>Vd,qOj:()=>c8,qZA:()=>Z4,qzn:()=>qu,rWj:()=>q7,sBO:()=>AT,s_b:()=>l2,soG:()=>pl,tBr:()=>tc,tb:()=>X7,tp0:()=>Ec,uIk:()=>h8,vHH:()=>$e,vpe:()=>ma,wAp:()=>Fn,xp6:()=>Ym,z2F:()=>hh,z3N:()=>Tc,zSh:()=>F3,zs3:()=>Ql});var m=N(7579),B=N(727),C=N(9751),pe=N(6451),ve=N(3099);function Se(o){for(let s in o)if(o[s]===Se)return s;throw Error("Could not find renamed property on target object.")}function Pe(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function De(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(De).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Fe(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ue=Se({__forward_ref__:Se});function ce(o){return o.__forward_ref__=ce,o.toString=function(){return De(this())},o}function ye(o){return Ue(o)?o():o}function Ue(o){return"function"==typeof o&&o.hasOwnProperty(ue)&&o.__forward_ref__===ce}function Ye(o){return o&&!!o.\u0275providers}const Ct="https://g.co/ng/security#xss";class $e extends Error{constructor(s,a){super(it(s,a)),this.code=s}}function it(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function ct(o){return"string"==typeof o?o:null==o?"":String(o)}function gt(o,s){throw new $e(-201,!1)}function Re(o,s){null==o&&function _e(o,s,a,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function Ae(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function gn(o){return{providers:o.providers||[],imports:o.imports||[]}}function _n(o){return wn(o,Cn)||wn(o,cr)}function Xt(o){return null!==_n(o)}function wn(o,s){return o.hasOwnProperty(s)?o[s]:null}function qn(o){return o&&(o.hasOwnProperty(En)||o.hasOwnProperty(en))?o[En]:null}const Cn=Se({\u0275prov:Se}),En=Se({\u0275inj:Se}),cr=Se({ngInjectableDef:Se}),en=Se({ngInjectorDef:Se});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let hn;function tr(o){const s=hn;return hn=o,s}function hr(o,s,a){const u=_n(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Et.Optional?null:void 0!==s?s:void gt(De(o))}const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gn={},Tn="__NG_DI_FLAG__",Ot="ngTempTokenPath",fr="ngTokenPath",or=/\n/gm,nr="\u0275",qt="__source";let On;function nn(o){const s=On;return On=o,s}function Rr(o,s=Et.Default){if(void 0===On)throw new $e(-203,!1);return null===On?hr(o,void 0,s):On.get(o,s&Et.Optional?null:void 0,s)}function cn(o,s=Et.Default){return(function dr(){return hn}()||Rr)(ye(o),s)}function Xn(o,s=Et.Default){return cn(o,lr(s))}function lr(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Mr(o){const s=[];for(let a=0;a<o.length;a++){const u=ye(o[a]);if(Array.isArray(u)){if(0===u.length)throw new $e(900,!1);let d,p=Et.Default;for(let b=0;b<u.length;b++){const x=u[b],k=rn(x);"number"==typeof k?-1===k?d=x.token:p|=k:d=x}s.push(cn(d,p))}else s.push(cn(u))}return s}function Cr(o,s){return o[Tn]=s,o.prototype[Tn]=s,o}function rn(o){return o[Tn]}function ae(o){return{toString:o}.toString()}var Q=(()=>((Q=Q||{})[Q.OnPush=0]="OnPush",Q[Q.Default=1]="Default",Q))(),ee=(()=>{return(o=ee||(ee={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ee;var o})();const W={},me=[],re=Se({\u0275cmp:Se}),j=Se({\u0275dir:Se}),Y=Se({\u0275pipe:Se}),ne=Se({\u0275mod:Se}),ge=Se({\u0275fac:Se}),Me=Se({__NG_ELEMENT_ID__:Se});let ot=0;function ft(o){return ae(()=>{const s=Ar(o),a={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||ee.Emulated,id:"c"+ot++,styles:o.styles||me,_:null,schemas:o.schemas||null,tView:null};co(a);const u=o.dependencies;return a.directiveDefs=Yi(u,!1),a.pipeDefs=Yi(u,!0),a})}function tn(o){return jt(o)||Vn(o)}function Oe(o){return null!==o}function xe(o){return ae(()=>({type:o.type,bootstrap:o.bootstrap||me,declarations:o.declarations||me,imports:o.imports||me,exports:o.exports||me,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function kt(o,s){if(null==o)return W;const a={};for(const u in o)if(o.hasOwnProperty(u)){let d=o[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=u,s&&(s[d]=p)}return a}function Ft(o){return ae(()=>{const s=Ar(o);return co(s),s})}function mn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function jt(o){return o[re]||null}function Vn(o){return o[j]||null}function Dn(o){return o[Y]||null}function Mn(o){const s=jt(o)||Vn(o)||Dn(o);return null!==s&&s.standalone}function Bn(o,s){const a=o[ne]||null;if(!a&&!0===s)throw new Error(`Type ${De(o)} does not have '\u0275mod' property.`);return a}function Ar(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||me,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kt(o.inputs,s),outputs:kt(o.outputs)}}function co(o){o.features?.forEach(s=>s(o))}function Yi(o,s){if(!o)return null;const a=s?Dn:tn;return()=>("function"==typeof o?o():o).map(u=>a(u)).filter(Oe)}const Ir=0,xt=1,fn=2,sr=3,Wn=4,si=5,Vr=6,ti=7,jn=8,Te=9,we=10,be=11,rt=12,X=13,de=14,Ve=15,at=16,Nt=17,pn=18,In=19,xn=20,Hr=21,Pn=22,ks=1,yi=2,Ti=7,wo=8,Fi=9,ni=10;function li(o){return Array.isArray(o)&&"object"==typeof o[ks]}function _i(o){return Array.isArray(o)&&!0===o[ks]}function xo(o){return 0!=(4&o.flags)}function ui(o){return o.componentOffset>-1}function Li(o){return 1==(1&o.flags)}function Qr(o){return!!o.template}function ji(o){return 0!=(256&o[fn])}function bi(o,s){return o.hasOwnProperty(ge)?o[ge]:null}class eo{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function _r(){return as}function as(o){return o.type.prototype.ngOnChanges&&(o.setInput=hi),Wo}function Wo(){const o=Ss(this),s=o?.current;if(s){const a=o.previous;if(a===W)o.previous=s;else for(let u in s)a[u]=s[u];o.current=null,this.ngOnChanges(s)}}function hi(o,s,a,u){const d=this.declaredInputs[a],p=Ss(o)||function ca(o,s){return o[bo]=s}(o,{previous:W,current:null}),b=p.current||(p.current={}),x=p.previous,k=x[d];b[d]=new eo(k&&k.currentValue,s,x===W),o[u]=s}_r.ngInherit=!0;const bo="__ngSimpleChanges__";function Ss(o){return o[bo]||null}const Pr=function(o,s,a){},So="svg";function Gr(o){for(;Array.isArray(o);)o=o[Ir];return o}function ri(o,s){return Gr(s[o])}function Wr(o,s){return Gr(s[o.index])}function Es(o,s){return o.data[s]}function Xr(o,s){const a=s[o];return li(a)?a:a[Ir]}function Po(o){return 64==(64&o[fn])}function fi(o,s){return null==s?null:o[s]}function uo(o){o[pn]=0}function ko(o,s){o[si]+=s;let a=o,u=o[sr];for(;null!==u&&(1===s&&1===a[si]||-1===s&&0===a[si]);)u[si]+=s,a=u,u=u[sr]}const ln={lFrame:ea(null),bindingsEnabled:!0};function la(){return ln.bindingsEnabled}function v(){return ln.lFrame.lView}function w(){return ln.lFrame.tView}function E(o){return ln.lFrame.contextLView=o,o[jn]}function L(o){return ln.lFrame.contextLView=null,o}function ie(){let o=Ke();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ke(){return ln.lFrame.currentTNode}function an(o,s){const a=ln.lFrame;a.currentTNode=o,a.isParent=s}function Rn(){return ln.lFrame.isParent}function ar(){ln.lFrame.isParent=!1}function Wi(){return ln.lFrame.bindingIndex++}function xl(o,s){const a=ln.lFrame;a.bindingIndex=a.bindingRootIndex=o,Kr(s)}function Kr(o){ln.lFrame.currentDirectiveIndex=o}function Xs(){return ln.lFrame.currentQueryIndex}function hc(o){ln.lFrame.currentQueryIndex=o}function Da(o){const s=o[xt];return 2===s.type?s.declTNode:1===s.type?o[Vr]:null}function Ma(o,s,a){if(a&Et.SkipSelf){let d=s,p=o;for(;!(d=d.parent,null!==d||a&Et.Host||(d=Da(p),null===d||(p=p[Ve],10&d.type))););if(null===d)return!1;s=d,o=p}const u=ln.lFrame=qc();return u.currentTNode=s,u.lView=o,!0}function Js(o){const s=qc(),a=o[xt];ln.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function qc(){const o=ln.lFrame,s=null===o?null:o.child;return null===s?ea(o):s}function ea(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Zc(){const o=ln.lFrame;return ln.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const fc=Zc;function pc(){const o=Zc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ki(){return ln.lFrame.selectedIndex}function ls(o){ln.lFrame.selectedIndex=o}function Jr(){const o=ln.lFrame;return Es(o.tView,o.selectedIndex)}function gc(){ln.lFrame.currentNamespace=So}function Zo(){!function zl(){ln.lFrame.currentNamespace=null}()}function ta(o,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=o.data[a].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:x,ngAfterViewInit:k,ngAfterViewChecked:V,ngOnDestroy:q}=p;b&&(o.contentHooks??(o.contentHooks=[])).push(-a,b),x&&((o.contentHooks??(o.contentHooks=[])).push(a,x),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(a,x)),k&&(o.viewHooks??(o.viewHooks=[])).push(-a,k),V&&((o.viewHooks??(o.viewHooks=[])).push(a,V),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(a,V)),null!=q&&(o.destroyHooks??(o.destroyHooks=[])).push(a,q)}}function $a(o,s,a){H(o,s,3,a)}function Ga(o,s,a,u){(3&o[fn])===a&&H(o,s,a,u)}function P(o,s){let a=o[fn];(3&a)===s&&(a&=2047,a+=1,o[fn]=a)}function H(o,s,a,u){const p=u??-1,b=s.length-1;let x=0;for(let k=void 0!==u?65535&o[pn]:0;k<b;k++)if("number"==typeof s[k+1]){if(x=s[k],null!=u&&x>=u)break}else s[k]<0&&(o[pn]+=65536),(x<p||-1==p)&&(O(o,a,s,k),o[pn]=(4294901760&o[pn])+k+2),k++}function O(o,s,a,u){const d=a[u]<0,p=a[u+1],x=o[d?-a[u]:a[u]];if(d){if(o[fn]>>11<o[pn]>>16&&(3&o[fn])===s){o[fn]+=2048,Pr(4,x,p);try{p.call(x)}finally{Pr(5,x,p)}}}else{Pr(4,x,p);try{p.call(x)}finally{Pr(5,x,p)}}}const K=-1;class le{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function gr(o,s,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const p=a[u++],b=a[u++],x=a[u++];o.setAttribute(s,b,x,p)}else{const p=d,b=a[++u];us(p)?o.setProperty(s,p,b):o.setAttribute(s,p,b),u++}}return u}function vi(o){return 3===o||4===o||6===o}function us(o){return 64===o.charCodeAt(0)}function fo(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||Fo(o,a,d,null,-1===a||2===a?s[++u]:null)}}return o}function Fo(o,s,a,u,d){let p=0,b=o.length;if(-1===s)b=-1;else for(;p<o.length;){const x=o[p++];if("number"==typeof x){if(x===s){b=-1;break}if(x>s){b=p-1;break}}}for(;p<o.length;){const x=o[p];if("number"==typeof x)break;if(x===a){if(null===u)return void(null!==d&&(o[p+1]=d));if(u===o[p+1])return void(o[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==b&&(o.splice(b,0,s),p=b+1),o.splice(p++,0,a),null!==u&&o.splice(p++,0,u),null!==d&&o.splice(p++,0,d)}function Vi(o){return o!==K}function Qo(o){return 32767&o}function Vo(o,s){let a=function Lo(o){return o>>16}(o),u=s;for(;a>0;)u=u[Ve],a--;return u}let Wa=!0;function vc(o){const s=Wa;return Wa=o,s}const Pl=255,Ka=5;let r4=0;const ds={};function Xc(o,s){const a=Pu(o,s);if(-1!==a)return a;const u=s[xt];u.firstCreatePass&&(o.injectorIndex=s.length,Ia(u.data,o),Ia(s,null),Ia(u.blueprint,null));const d=Ci(o,s),p=o.injectorIndex;if(Vi(d)){const b=Qo(d),x=Vo(d,s),k=x[xt].data;for(let V=0;V<8;V++)s[p+V]=x[b+V]|k[b+V]}return s[p+8]=d,p}function Ia(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Pu(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Ci(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){if(u=Qa(d),null===u)return K;if(a++,d=d[Ve],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return K}function po(o,s,a){!function kl(o,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Me)&&(u=a[Me]),null==u&&(u=a[Me]=r4++);const d=u&Pl;s.data[o+(d>>Ka)]|=1<<d}(o,s,a)}function Jc(o,s,a){if(a&Et.Optional||void 0!==o)return o;gt()}function el(o,s,a,u){if(a&Et.Optional&&void 0===u&&(u=null),!(a&(Et.Self|Et.Host))){const d=o[Te],p=tr(void 0);try{return d?d.get(s,u,a&Et.Optional):hr(s,u,a&Et.Optional)}finally{tr(p)}}return Jc(u,0,a)}function ku(o,s,a,u=Et.Default,d){if(null!==o){if(1024&s[fn]){const b=function na(o,s,a,u,d){let p=o,b=s;for(;null!==p&&null!==b&&1024&b[fn]&&!(256&b[fn]);){const x=Rl(p,b,a,u|Et.Self,ds);if(x!==ds)return x;let k=p.parent;if(!k){const V=b[Hr];if(V){const q=V.get(a,ds,u);if(q!==ds)return q}k=Qa(b),b=b[Ve]}p=k}return d}(o,s,a,u,ds);if(b!==ds)return b}const p=Rl(o,s,a,u,ds);if(p!==ds)return p}return el(s,a,u,d)}function Rl(o,s,a,u,d){const p=function tl(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Me)?o[Me]:void 0;return"number"==typeof s?s>=0?s&Pl:ua:s}(a);if("function"==typeof p){if(!Ma(s,o,u))return u&Et.Host?Jc(d,0,u):el(s,a,u,d);try{const b=p(u);if(null!=b||u&Et.Optional)return b;gt()}finally{fc()}}else if("number"==typeof p){let b=null,x=Pu(o,s),k=K,V=u&Et.Host?s[at][Vr]:null;for((-1===x||u&Et.SkipSelf)&&(k=-1===x?Ci(o,s):s[x+8],k!==K&&no(u,!1)?(b=s[xt],x=Qo(k),s=Vo(k,s)):x=-1);-1!==x;){const q=s[xt];if(xa(p,x,q.data)){const oe=cd(x,s,a,b,u,V);if(oe!==ds)return oe}k=s[x+8],k!==K&&no(u,s[xt].data[x+8]===V)&&xa(p,x,s)?(b=q,x=Qo(k),s=Vo(k,s)):x=-1}}return d}function cd(o,s,a,u,d,p){const b=s[xt],x=b.data[o+8],q=Nl(x,b,a,null==u?ui(x)&&Wa:u!=b&&0!=(3&x.type),d&Et.Host&&p===x);return null!==q?Ls(s,b,q,x):ds}function Nl(o,s,a,u,d){const p=o.providerIndexes,b=s.data,x=1048575&p,k=o.directiveStart,q=p>>20,Ee=d?x+q:o.directiveEnd;for(let Ge=u?x:x+q;Ge<Ee;Ge++){const ht=b[Ge];if(Ge<k&&a===ht||Ge>=k&&ht.type===a)return Ge}if(d){const Ge=b[k];if(Ge&&Qr(Ge)&&Ge.type===a)return k}return null}function Ls(o,s,a,u){let d=o[a];const p=s.data;if(function Qe(o){return o instanceof le}(d)){const b=d;b.resolving&&function je(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new $e(-200,`Circular dependency in DI detected for ${o}${a}`)}(function mt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ct(o)}(p[a]));const x=vc(b.canSeeViewProviders);b.resolving=!0;const k=b.injectImpl?tr(b.injectImpl):null;Ma(o,u,Et.Default);try{d=o[a]=b.factory(void 0,p,o,u),s.firstCreatePass&&a>=u.directiveStart&&function Qc(o,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(u){const b=as(s);(a.preOrderHooks??(a.preOrderHooks=[])).push(o,b),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(o,b)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-o,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(o,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(o,p))}(a,p[a],s)}finally{null!==k&&tr(k),vc(x),b.resolving=!1,fc()}}return d}function xa(o,s,a){return!!(a[s+(o>>Ka)]&1<<o)}function no(o,s){return!(o&Et.Self||o&Et.Host&&s)}class qa{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return ku(this._tNode,this._lView,s,lr(u),a)}}function ua(){return new qa(ie(),v())}function Ou(o){return ae(()=>{const s=o.prototype.constructor,a=s[ge]||Za(s),u=Object.prototype;let d=Object.getPrototypeOf(o.prototype).constructor;for(;d&&d!==u;){const p=d[ge]||Za(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Za(o){return Ue(o)?()=>{const s=Za(ye(o));return s&&s()}:bi(o)}function Qa(o){const s=o[xt],a=s.type;return 2===a?s.declTNode:1===a?o[Vr]:null}function nl(o){return function Ol(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const p=a[d];if(vi(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(ie(),o)}const _c="__parameters__";function Ja(o,s,a){return ae(()=>{const u=function wc(o){return function(...a){if(o){const u=o(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...p){if(this instanceof d)return u.apply(this,p),this;const b=new d(...p);return x.annotation=b,x;function x(k,V,q){const oe=k.hasOwnProperty(_c)?k[_c]:Object.defineProperty(k,_c,{value:[]})[_c];for(;oe.length<=q;)oe.push(null);return(oe[q]=oe[q]||[]).push(b),k}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=o,d.annotationCls=d,d})}class ei{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ae({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function da(o,s){o.forEach(a=>Array.isArray(a)?da(a,s):s(a))}function il(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function Vl(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function S(o,s){const a=[];for(let u=0;u<o;u++)a.push(s);return a}function G(o,s,a){let u=ze(o,s);return u>=0?o[1|u]=a:(u=~u,function z(o,s,a,u){let d=o.length;if(d==s)o.push(a,u);else if(1===d)o.push(u,o[0]),o[0]=a;else{for(d--,o.push(o[d-1],o[d]);d>s;)o[d]=o[d-2],d--;o[s]=a,o[s+1]=u}}(o,u,s,a)),u}function J(o,s){const a=ze(o,s);if(a>=0)return o[1|a]}function ze(o,s){return function Bt(o,s,a){let u=0,d=o.length>>a;for(;d!==u;){const p=u+(d-u>>1),b=o[p<<a];if(s===b)return p<<a;b>s?d=p:u=p+1}return~(d<<a)}(o,s,1)}const tc=Cr(Ja("Inject",o=>({token:o})),-1),Aa=Cr(Ja("Optional"),8),Ec=Cr(Ja("SkipSelf"),4);var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();const Lu=new Map;let C4=0;const Sd="__ngContext__";function Do(o,s){li(s)?(o[Sd]=s[xn],function b4(o){Lu.set(o[xn],o)}(s)):o[Sd]=s}let Td;function $l(o,s){return Td(o,s)}function Bu(o){const s=o[sr];return _i(s)?s[sr]:s}function al(o){return Md(o[X])}function Uu(o){return Md(o[Wn])}function Md(o){for(;null!==o&&!_i(o);)o=o[Wn];return o}function cl(o,s,a,u,d){if(null!=u){let p,b=!1;_i(u)?p=u:li(u)&&(b=!0,u=u[Ir]);const x=Gr(u);0===o&&null!==a?null==d?ii(s,a,x):zn(s,a,x,d||null,!0):1===o&&null!==a?zn(s,a,x,d||null,!0):2===o?function b3(o,s,a){const u=ul(o,s);u&&function ll(o,s,a,u){o.removeChild(s,a,u)}(o,u,s,a)}(s,x,b):3===o&&s.destroyNode(x),null!=p&&function _w(o,s,a,u,d){const p=a[Ti];p!==Gr(a)&&cl(s,o,u,p,d);for(let x=ni;x<a.length;x++){const k=a[x];Od(k[xt],k,o,s,u,p)}}(s,o,p,a,d)}}function zd(o,s,a){return o.createElement(s,a)}function I(o,s){const a=o[Fi],u=a.indexOf(s),d=s[sr];512&s[fn]&&(s[fn]&=-513,ko(d,-1)),a.splice(u,1)}function U(o,s){if(o.length<=ni)return;const a=ni+s,u=o[a];if(u){const d=u[Nt];null!==d&&d!==o&&I(d,u),s>0&&(o[a-1][Wn]=u[Wn]);const p=Vl(o,ni+s);!function z4(o,s){Od(o,s,s[be],2,null,null),s[Ir]=null,s[Vr]=null}(u[xt],u);const b=p[In];null!==b&&b.detachView(p[xt]),u[sr]=null,u[Wn]=null,u[fn]&=-65}return u}function te(o,s){if(!(128&s[fn])){const a=s[be];a.destroyNode&&Od(o,s,a,3,null,null),function T(o){let s=o[X];if(!s)return Ie(o[xt],o);for(;s;){let a=null;if(li(s))a=s[X];else{const u=s[ni];u&&(a=u)}if(!a){for(;s&&!s[Wn]&&s!==o;)li(s)&&Ie(s[xt],s),s=s[sr];null===s&&(s=o),li(s)&&Ie(s[xt],s),a=s&&s[Wn]}s=a}}(s)}}function Ie(o,s){if(!(128&s[fn])){s[fn]&=-65,s[fn]|=128,function It(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof le)){const p=a[u+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const x=d[p[b]],k=p[b+1];Pr(4,x,k);try{k.call(x)}finally{Pr(5,x,k)}}else{Pr(4,d,p);try{p.call(d)}finally{Pr(5,d,p)}}}}}(o,s),function Ze(o,s){const a=o.cleanup,u=s[ti];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const b=a[p+3];b>=0?u[d=b]():u[d=-b].unsubscribe(),p+=2}else{const b=u[d=a[p+1]];a[p].call(b)}if(null!==u){for(let p=d+1;p<u.length;p++)(0,u[p])();s[ti]=null}}(o,s),1===s[xt].type&&s[be].destroy();const a=s[Nt];if(null!==a&&_i(s[sr])){a!==s[sr]&&I(a,s);const u=s[In];null!==u&&u.detachView(o)}!function Cd(o){Lu.delete(o[xn])}(s)}}function Zt(o,s,a){return function Nn(o,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[Ir];{const{componentOffset:d}=u;if(d>-1){const{encapsulation:p}=o.data[u.directiveStart+d];if(p===ee.None||p===ee.Emulated)return null}return Wr(u,a)}}(o,s.parent,a)}function zn(o,s,a,u,d){o.insertBefore(s,a,u,d)}function ii(o,s,a){o.appendChild(s,a)}function ra(o,s,a,u,d){null!==u?zn(o,s,a,u,d):ii(o,s,a)}function ul(o,s){return o.parentNode(s)}function Ad(o,s,a){return Pd(o,s,a)}let ju,k4,T3,O4,Pd=function Yu(o,s,a){return 40&o.type?Wr(o,a):null};function Wl(o,s,a,u){const d=Zt(o,u,s),p=s[be],x=Ad(u.parent||s[Vr],u,s);if(null!=d)if(Array.isArray(a))for(let k=0;k<a.length;k++)ra(p,d,a[k],x,!1);else ra(p,d,a,x,!1);void 0!==ju&&ju(p,u,s,a,d)}function Gu(o,s){if(null!==s){const a=s.type;if(3&a)return Wr(s,o);if(4&a)return kd(-1,o[s.index]);if(8&a){const u=s.child;if(null!==u)return Gu(o,u);{const d=o[s.index];return _i(d)?kd(-1,d):Gr(d)}}if(32&a)return $l(s,o)()||Gr(o[s.index]);{const u=Wu(o,s);return null!==u?Array.isArray(u)?u[0]:Gu(Bu(o[at]),u):Gu(o,s.next)}}return null}function Wu(o,s){return null!==s?o[at][Vr].projection[s.projection]:null}function kd(o,s){const a=ni+o+1;if(a<s.length){const u=s[a],d=u[xt].firstChild;if(null!==d)return Gu(u,d)}return s[Ti]}function S3(o,s,a,u,d,p,b){for(;null!=a;){const x=u[a.index],k=a.type;if(b&&0===s&&(x&&Do(Gr(x),u),a.flags|=2),32!=(32&a.flags))if(8&k)S3(o,s,a.child,u,d,p,!1),cl(s,o,d,x,p);else if(32&k){const V=$l(a,u);let q;for(;q=V();)cl(s,o,d,q,p);cl(s,o,d,x,p)}else 16&k?im(o,s,u,a,d,p):cl(s,o,d,x,p);a=b?a.projectionNext:a.next}}function Od(o,s,a,u,d,p){S3(a,u,o.firstChild,s,d,p,!1)}function im(o,s,a,u,d,p){const b=a[at],k=b[Vr].projection[u.projection];if(Array.isArray(k))for(let V=0;V<k.length;V++)cl(s,o,d,k[V],p);else S3(o,s,k,b[sr],d,p,!0)}function om(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function sm(o,s,a){const{mergedAttrs:u,classes:d,styles:p}=a;null!==u&&gr(o,s,u),null!==d&&om(o,s,d),null!==p&&function Cw(o,s,a){o.setAttribute(s,"style",a)}(o,s,p)}function Ku(o){return function E3(){if(void 0===k4&&(k4=null,bn.trustedTypes))try{k4=bn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return k4}()?.createHTML(o)||o}function Ew(o){T3=o}function M3(o){return function D3(){if(void 0===O4&&(O4=null,bn.trustedTypes))try{O4=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return O4}()?.createScriptURL(o)||o}class Kl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}class dm extends Kl{getTypeName(){return"HTML"}}class Tw extends Kl{getTypeName(){return"Style"}}class Dw extends Kl{getTypeName(){return"Script"}}class hm extends Kl{getTypeName(){return"URL"}}class Mw extends Kl{getTypeName(){return"ResourceURL"}}function Tc(o){return o instanceof Kl?o.changingThisBreaksApplicationSecurity:o}function qu(o,s){const a=function Iw(o){return o instanceof Kl&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Ct})`)}return a===s}function xw(o){return new dm(o)}function zw(o){return new Tw(o)}function Aw(o){return new Dw(o)}function Pw(o){return new hm(o)}function kw(o){return new Mw(o)}class Ow{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Ku(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Rw{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Ku(s),a}}const Fw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function R4(o){return(o=String(o)).match(Fw)?o:"unsafe:"+o}function Dc(o){const s={};for(const a of o.split(","))s[a]=!0;return s}function Zu(...o){const s={};for(const a of o)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const pm=Dc("area,br,col,hr,img,wbr"),mm=Dc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gm=Dc("rp,rt"),I3=Zu(pm,Zu(mm,Dc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zu(gm,Dc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zu(gm,mm)),x3=Dc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vm=Zu(x3,Dc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vw=Dc("script,style,template");class Hw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!I3.hasOwnProperty(a))return this.sanitizedSomething=!0,!Vw.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let d=0;d<u.length;d++){const p=u.item(d),b=p.name,x=b.toLowerCase();if(!vm.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let k=p.value;x3[x]&&(k=R4(k)),this.buf.push(" ",b,'="',z3(k),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();I3.hasOwnProperty(a)&&!pm.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(z3(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Bw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uw=/([^\#-~ |!])/g;function z3(o){return o.replace(/&/g,"&amp;").replace(Bw,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Uw,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let N4;function A3(o,s){let a=null;try{N4=N4||function fm(o){const s=new Rw(o);return function Nw(){try{return!!(new window.DOMParser).parseFromString(Ku(""),"text/html")}catch{return!1}}()?new Ow(s):s}(o);let u=s?String(s):"";a=N4.getInertBodyElement(u);let d=5,p=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=p,p=a.innerHTML,a=N4.getInertBodyElement(u)}while(u!==p);return Ku((new Hw).sanitizeChildren(P3(a)||a))}finally{if(a){const u=P3(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function P3(o){return"content"in o&&function Yw(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ro=(()=>((ro=ro||{})[ro.NONE=0]="NONE",ro[ro.HTML=1]="HTML",ro[ro.STYLE=2]="STYLE",ro[ro.SCRIPT=3]="SCRIPT",ro[ro.URL=4]="URL",ro[ro.RESOURCE_URL=5]="RESOURCE_URL",ro))();function k3(o){const s=Rd();return s?s.sanitize(ro.URL,o)||"":qu(o,"URL")?Tc(o):R4(ct(o))}function _m(o){const s=Rd();if(s)return M3(s.sanitize(ro.RESOURCE_URL,o)||"");if(qu(o,"ResourceURL"))return M3(Tc(o));throw new $e(904,!1)}function wm(o,s,a){return function Kw(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?_m:k3}(s,a)(o)}function Rd(){const o=v();return o&&o[rt]}const O3=new ei("ENVIRONMENT_INITIALIZER"),Cm=new ei("INJECTOR",-1),bm=new ei("INJECTOR_DEF_TYPES");class Sm{get(s,a=Gn){if(a===Gn){const u=new Error(`NullInjectorError: No provider for ${De(s)}!`);throw u.name="NullInjectorError",u}return a}}function qw(o){return{\u0275providers:o}}function Em(...o){return{\u0275providers:Tm(0,o),\u0275fromNgModule:!0}}function Tm(o,...s){const a=[],u=new Set;let d;return da(s,p=>{const b=p;R3(b,a,[],u)&&(d||(d=[]),d.push(b))}),void 0!==d&&Dm(d,a),a}function Dm(o,s){for(let a=0;a<o.length;a++){const{providers:d}=o[a];F4(d,p=>{s.push(p)})}}function R3(o,s,a,u){if(!(o=ye(o)))return!1;let d=null,p=qn(o);const b=!p&&jt(o);if(p||b){if(b&&!b.standalone)return!1;d=o}else{const k=o.ngModule;if(p=qn(k),!p)return!1;d=k}const x=u.has(d);if(b){if(x)return!1;if(u.add(d),b.dependencies){const k="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const V of k)R3(V,s,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!x){let V;u.add(d);try{da(p.imports,q=>{R3(q,s,a,u)&&(V||(V=[]),V.push(q))})}finally{}void 0!==V&&Dm(V,s)}if(!x){const V=bi(d)||(()=>new d);s.push({provide:d,useFactory:V,deps:me},{provide:bm,useValue:d,multi:!0},{provide:O3,useValue:()=>cn(d),multi:!0})}const k=p.providers;null==k||x||F4(k,q=>{s.push(q)})}}return d!==o&&void 0!==o.providers}function F4(o,s){for(let a of o)Ye(a)&&(a=a.\u0275providers),Array.isArray(a)?F4(a,s):s(a)}const Zw=Se({provide:String,useValue:Se});function N3(o){return null!==o&&"object"==typeof o&&Zw in o}function ql(o){return"function"==typeof o}const F3=new ei("Set Injector scope."),Nd={},Xw={};let L3;function L4(){return void 0===L3&&(L3=new Sm),L3}class Zl{}class xm extends Zl{get destroyed(){return this._destroyed}constructor(s,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,H3(s,b=>this.processProvider(b)),this.records.set(Cm,Qu(void 0,this)),d.has("environment")&&this.records.set(Zl,Qu(void 0,this));const p=this.records.get(F3);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(bm.multi,me,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=nn(this),u=tr(void 0);try{return s()}finally{nn(a),tr(u)}}get(s,a=Gn,u=Et.Default){this.assertNotDestroyed(),u=lr(u);const d=nn(this),p=tr(void 0);try{if(!(u&Et.SkipSelf)){let x=this.records.get(s);if(void 0===x){const k=function rC(o){return"function"==typeof o||"object"==typeof o&&o instanceof ei}(s)&&_n(s);x=k&&this.injectableDefInScope(k)?Qu(V3(s),Nd):null,this.records.set(s,x)}if(null!=x)return this.hydrate(s,x)}return(u&Et.Self?L4():this.parent).get(s,a=u&Et.Optional&&a===Gn?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[Ot]=b[Ot]||[]).unshift(De(s)),d)throw b;return function br(o,s,a,u){const d=o[Ot];throw s[qt]&&d.unshift(s[qt]),o.message=function he(o,s,a,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==nr?o.slice(2):o;let d=De(s);if(Array.isArray(s))d=s.map(De).join(" -> ");else if("object"==typeof s){let p=[];for(let b in s)if(s.hasOwnProperty(b)){let x=s[b];p.push(b+":"+("string"==typeof x?JSON.stringify(x):De(x)))}d=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${o.replace(or,"\n  ")}`}("\n"+o.message,d,a,u),o[fr]=d,o[Ot]=null,o}(b,s,"R3InjectorError",this.source)}throw b}finally{tr(p),nn(d)}}resolveInjectorInitializers(){const s=nn(this),a=tr(void 0);try{const u=this.get(O3.multi,me,Et.Self);for(const d of u)d()}finally{nn(s),tr(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(De(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(s){let a=ql(s=ye(s))?s:ye(s&&s.provide);const u=function eC(o){return N3(o)?Qu(void 0,o.useValue):Qu(zm(o),Nd)}(s);if(ql(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Qu(void 0,Nd,!0),d.factory=()=>Mr(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===Nd&&(a.value=Xw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function nC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ye(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function V3(o){const s=_n(o),a=null!==s?s.factory:bi(o);if(null!==a)return a;if(o instanceof ei)throw new $e(204,!1);if(o instanceof Function)return function Jw(o){const s=o.length;if(s>0)throw S(s,"?"),new $e(204,!1);const a=function An(o){return o&&(o[Cn]||o[cr])||null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new $e(204,!1)}function zm(o,s,a){let u;if(ql(o)){const d=ye(o);return bi(d)||V3(d)}if(N3(o))u=()=>ye(o.useValue);else if(function Im(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...Mr(o.deps||[]));else if(function Mm(o){return!(!o||!o.useExisting)}(o))u=()=>cn(ye(o.useExisting));else{const d=ye(o&&(o.useClass||o.provide));if(!function tC(o){return!!o.deps}(o))return bi(d)||V3(d);u=()=>new d(...Mr(o.deps))}return u}function Qu(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function H3(o,s){for(const a of o)Array.isArray(a)?H3(a,s):a&&Ye(a)?H3(a.\u0275providers,s):s(a)}class iC{}class Am{}class sC{resolveComponentFactory(s){throw function oC(o){const s=Error(`No component factory found for ${De(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Fd=(()=>{class o{}return o.NULL=new sC,o})();function aC(){return Xu(ie(),v())}function Xu(o,s){return new Ld(Wr(o,s))}let Ld=(()=>{class o{constructor(a){this.nativeElement=a}}return o.__NG_ELEMENT_ID__=aC,o})();function cC(o){return o instanceof Ld?o.nativeElement:o}class km{}let lC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function uC(){const o=v(),a=Xr(ie().index,o);return(li(a)?a:o)[be]}(),o})(),dC=(()=>{class o{}return o.\u0275prov=Ae({token:o,providedIn:"root",factory:()=>null}),o})();class Om{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Rm=new Om("15.2.10"),B3={},U3="ngOriginalError";function Y3(o){return o[U3]}class Vd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Y3(s);for(;a&&Y3(a);)a=Y3(a);return a||null}}function Mc(o){return o instanceof Function?o():o}function Lm(o,s,a){let u=o.length;for(;;){const d=o.indexOf(s,a);if(-1===d)return d;if(0===d||o.charCodeAt(d-1)<=32){const p=s.length;if(d+p===u||o.charCodeAt(d+p)<=32)return d}a=d+1}}const Vm="ng-template";function CC(o,s,a){let u=0,d=!0;for(;u<o.length;){let p=o[u++];if("string"==typeof p&&d){const b=o[u++];if(a&&"class"===p&&-1!==Lm(b.toLowerCase(),s,0))return!0}else{if(1===p){for(;u<o.length&&"string"==typeof(p=o[u++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function Hm(o){return 4===o.type&&o.value!==Vm}function bC(o,s,a){return s===(4!==o.type||a?o.value:Vm)}function SC(o,s,a){let u=4;const d=o.attrs||[],p=function DC(o){for(let s=0;s<o.length;s++)if(vi(o[s]))return s;return o.length}(d);let b=!1;for(let x=0;x<s.length;x++){const k=s[x];if("number"!=typeof k){if(!b)if(4&u){if(u=2|1&u,""!==k&&!bC(o,k,a)||""===k&&1===s.length){if(ka(u))return!1;b=!0}}else{const V=8&u?k:s[++x];if(8&u&&null!==o.attrs){if(!CC(o.attrs,V,a)){if(ka(u))return!1;b=!0}continue}const oe=EC(8&u?"class":k,d,Hm(o),a);if(-1===oe){if(ka(u))return!1;b=!0;continue}if(""!==V){let Ee;Ee=oe>p?"":d[oe+1].toLowerCase();const Ge=8&u?Ee:null;if(Ge&&-1!==Lm(Ge,V,0)||2&u&&V!==Ee){if(ka(u))return!1;b=!0}}}}else{if(!b&&!ka(u)&&!ka(k))return!1;if(b&&ka(k))continue;b=!1,u=k|1&u}}return ka(u)||b}function ka(o){return 0==(1&o)}function EC(o,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let p=!1;for(;d<s.length;){const b=s[d];if(b===o)return d;if(3===b||6===b)p=!0;else{if(1===b||2===b){let x=s[++d];for(;"string"==typeof x;)x=s[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=p?1:2}return-1}return function MC(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const u=o[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,o)}function Bm(o,s,a=!1){for(let u=0;u<s.length;u++)if(SC(o,s[u],a))return!0;return!1}function IC(o,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(o.length===u.length){for(let d=0;d<o.length;d++)if(o[d]!==u[d])continue e;return!0}}return!1}function Um(o,s){return o?":not("+s.trim()+")":s}function xC(o){let s=o[0],a=1,u=2,d="",p=!1;for(;a<o.length;){let b=o[a];if("string"==typeof b)if(2&u){const x=o[++a];d+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&u?d+="."+b:4&u&&(d+=" "+b);else""!==d&&!ka(b)&&(s+=Um(p,d),d=""),u=b,p=p||!ka(u);a++}return""!==d&&(s+=Um(p,d)),s}const Jn={};function Ym(o){jm(w(),v(),Ki()+o,!1)}function jm(o,s,a,u){if(!u)if(3==(3&s[fn])){const p=o.preOrderCheckHooks;null!==p&&$a(s,p,a)}else{const p=o.preOrderHooks;null!==p&&Ga(s,p,0,a)}ls(a)}function Km(o,s=null,a=null,u){const d=qm(o,s,a,u);return d.resolveInjectorInitializers(),d}function qm(o,s=null,a=null,u,d=new Set){const p=[a||me,Em(o)];return u=u||("object"==typeof o?void 0:De(o)),new xm(p,s||L4(),u||null,d)}let Ql=(()=>{class o{static create(a,u){if(Array.isArray(a))return Km({name:""},u,a,"");{const d=a.name??"";return Km({name:d},a.parent,a.providers,d)}}}return o.THROW_IF_NOT_FOUND=Gn,o.NULL=new Sm,o.\u0275prov=Ae({token:o,providedIn:"any",factory:()=>cn(Cm)}),o.__NG_ELEMENT_ID__=-1,o})();function t1(o,s=Et.Default){const a=v();return null===a?cn(o,s):ku(ie(),a,ye(o),s)}function ng(){throw new Error("invalid")}function K3(o,s){const a=o.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const p=a[u+1];if(-1!==p){const b=o.data[p];hc(a[u]),b.contentQueries(2,s[p],p)}}}function H4(o,s,a,u,d,p,b,x,k,V,q){const oe=s.blueprint.slice();return oe[Ir]=d,oe[fn]=76|u,(null!==q||o&&1024&o[fn])&&(oe[fn]|=1024),uo(oe),oe[sr]=oe[Ve]=o,oe[jn]=a,oe[we]=b||o&&o[we],oe[be]=x||o&&o[be],oe[rt]=k||o&&o[rt]||null,oe[Te]=V||o&&o[Te]||null,oe[Vr]=p,oe[xn]=function p3(){return C4++}(),oe[Hr]=q,oe[at]=2==s.type?o[at]:oe,oe}function n1(o,s,a,u,d){let p=o.data[s];if(null===p)p=function q3(o,s,a,u,d){const p=Ke(),b=Rn(),k=o.data[s]=function tb(o,s,a,u,d,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,a,s,u,d);return null===o.firstChild&&(o.firstChild=k),null!==p&&(b?null==p.child&&null!==k.parent&&(p.child=k):null===p.next&&(p.next=k,k.prev=p)),k}(o,s,a,u,d),function to(){return ln.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=u,p.attrs=d;const b=function wt(){const o=ln.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return an(p,!0),p}function Hd(o,s,a,u){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(u),o.blueprint.push(u),o.data.push(null);return d}function Z3(o,s,a){Js(s);try{const u=o.viewQuery;null!==u&&s8(1,u,a);const d=o.template;null!==d&&rg(o,s,d,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&K3(o,s),o.staticViewQueries&&s8(2,o.viewQuery,a);const p=o.components;null!==p&&function XC(o,s){for(let a=0;a<s.length;a++)Cb(o,s[a])}(s,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[fn]&=-5,pc()}}function B4(o,s,a,u){const d=s[fn];if(128!=(128&d)){Js(s);try{uo(s),function Ro(o){return ln.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&rg(o,s,a,2,u);const b=3==(3&d);if(b){const V=o.preOrderCheckHooks;null!==V&&$a(s,V,null)}else{const V=o.preOrderHooks;null!==V&&Ga(s,V,0,null),P(s,0)}if(function _b(o){for(let s=al(o);null!==s;s=Uu(s)){if(!s[yi])continue;const a=s[Fi];for(let u=0;u<a.length;u++){const d=a[u];512&d[fn]||ko(d[sr],1),d[fn]|=512}}}(s),function yb(o){for(let s=al(o);null!==s;s=Uu(s))for(let a=ni;a<s.length;a++){const u=s[a],d=u[xt];Po(u)&&B4(d,u,d.template,u[jn])}}(s),null!==o.contentQueries&&K3(o,s),b){const V=o.contentCheckHooks;null!==V&&$a(s,V)}else{const V=o.contentHooks;null!==V&&Ga(s,V,1),P(s,1)}!function ZC(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)ls(~d);else{const p=d,b=a[++u],x=a[++u];xl(b,p),x(2,s[p])}}}finally{ls(-1)}}(o,s);const x=o.components;null!==x&&function QC(o,s){for(let a=0;a<s.length;a++)wb(o,s[a])}(s,x);const k=o.viewQuery;if(null!==k&&s8(2,k,u),b){const V=o.viewCheckHooks;null!==V&&$a(s,V)}else{const V=o.viewHooks;null!==V&&Ga(s,V,2),P(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[fn]&=-41,512&s[fn]&&(s[fn]&=-513,ko(s[sr],-1))}finally{pc()}}}function rg(o,s,a,u,d){const p=Ki(),b=2&u;try{ls(-1),b&&s.length>Pn&&jm(o,s,Pn,!1),Pr(b?2:0,d),a(u,d)}finally{ls(p),Pr(b?3:1,d)}}function Q3(o,s,a){if(xo(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const b=o.data[p];b.contentQueries&&b.contentQueries(1,a[p],p)}}}function X3(o,s,a){la()&&(function cb(o,s,a,u){const d=a.directiveStart,p=a.directiveEnd;ui(a)&&function mb(o,s,a){const u=Wr(s,o),d=ig(a),p=o[we],b=U4(o,H4(o,d,null,a.onPush?32:16,u,s,p,p.createRenderer(u,a),null,null,null));o[s.index]=b}(s,a,o.data[d+a.componentOffset]),o.firstCreatePass||Xc(a,s),Do(u,s);const b=a.initialInputs;for(let x=d;x<p;x++){const k=o.data[x],V=Ls(s,o,x,a);Do(V,s),null!==b&&gb(0,x-d,V,k,0,b),Qr(k)&&(Xr(a.index,s)[jn]=Ls(s,o,x,a))}}(o,s,a,Wr(a,s)),64==(64&a.flags)&&cg(o,s,a))}function J3(o,s,a=Wr){const u=s.localNames;if(null!==u){let d=s.index+1;for(let p=0;p<u.length;p+=2){const b=u[p+1],x=-1===b?a(s,o):o[b];o[d++]=x}}}function ig(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=e8(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function e8(o,s,a,u,d,p,b,x,k,V){const q=Pn+u,oe=q+d,Ee=function JC(o,s){const a=[];for(let u=0;u<s;u++)a.push(u<o?null:Jn);return a}(q,oe),Ge="function"==typeof V?V():V;return Ee[xt]={type:o,blueprint:Ee,template:a,queries:null,viewQuery:x,declTNode:s,data:Ee.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:k,consts:Ge,incompleteFirstPass:!1}}function t8(o,s,a,u){const d=ug(s);null===a?d.push(u):(d.push(a),o.firstCreatePass&&dg(o).push(u,d.length-1))}function og(o,s,a,u){for(let d in o)if(o.hasOwnProperty(d)){a=null===a?{}:a;const p=o[d];null===u?sg(a,s,d,p):u.hasOwnProperty(d)&&sg(a,s,u[d],p)}return a}function sg(o,s,a,u){o.hasOwnProperty(a)?o[a].push(s,u):o[a]=[s,u]}function n8(o,s,a,u){if(la()){const d=null===u?null:{"":-1},p=function ub(o,s){const a=o.directiveRegistry;let u=null,d=null;if(a)for(let p=0;p<a.length;p++){const b=a[p];if(Bm(s,b.selectors,!1))if(u||(u=[]),Qr(b))if(null!==b.findHostDirectiveDefs){const x=[];d=d||new Map,b.findHostDirectiveDefs(b,x,d),u.unshift(...x,b),r8(o,s,x.length)}else u.unshift(b),r8(o,s,0);else d=d||new Map,b.findHostDirectiveDefs?.(b,u,d),u.push(b)}return null===u?null:[u,d]}(o,a);let b,x;null===p?b=x=null:[b,x]=p,null!==b&&ag(o,s,a,b,d,x),d&&function db(o,s,a){if(s){const u=o.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new $e(-301,!1);u.push(s[d],p)}}}(a,u,d)}a.mergedAttrs=fo(a.mergedAttrs,a.attrs)}function ag(o,s,a,u,d,p){for(let V=0;V<u.length;V++)po(Xc(a,s),o,u[V].type);!function fb(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}(a,o.data.length,u.length);for(let V=0;V<u.length;V++){const q=u[V];q.providersResolver&&q.providersResolver(q)}let b=!1,x=!1,k=Hd(o,s,u.length,null);for(let V=0;V<u.length;V++){const q=u[V];a.mergedAttrs=fo(a.mergedAttrs,q.hostAttrs),pb(o,a,s,k,q),hb(k,q,d),null!==q.contentQueries&&(a.flags|=4),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(a.flags|=64);const oe=q.type.prototype;!b&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(a.index),b=!0),!x&&(oe.ngOnChanges||oe.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(a.index),x=!0),k++}!function nb(o,s,a){const d=s.directiveEnd,p=o.data,b=s.attrs,x=[];let k=null,V=null;for(let q=s.directiveStart;q<d;q++){const oe=p[q],Ee=a?a.get(oe):null,ht=Ee?Ee.outputs:null;k=og(oe.inputs,q,k,Ee?Ee.inputs:null),V=og(oe.outputs,q,V,ht);const Pt=null===k||null===b||Hm(s)?null:vb(k,q,b);x.push(Pt)}null!==k&&(k.hasOwnProperty("class")&&(s.flags|=8),k.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=x,s.inputs=k,s.outputs=V}(o,a,p)}function cg(o,s,a){const u=a.directiveStart,d=a.directiveEnd,p=a.index,b=function xu(){return ln.lFrame.currentDirectiveIndex}();try{ls(p);for(let x=u;x<d;x++){const k=o.data[x],V=s[x];Kr(x),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&lb(k,V)}}finally{ls(-1),Kr(b)}}function lb(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function r8(o,s,a){s.componentOffset=a,(o.components??(o.components=[])).push(s.index)}function hb(o,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=o;Qr(s)&&(a[""]=o)}}function pb(o,s,a,u,d){o.data[u]=d;const p=d.factory||(d.factory=bi(d.type)),b=new le(p,Qr(d),t1);o.blueprint[u]=b,a[u]=b,function sb(o,s,a,u,d){const p=d.hostBindings;if(p){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const x=~s.index;(function ab(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=x&&b.push(x),b.push(a,u,p)}}(o,s,u,Hd(o,a,d.hostVars,Jn),d)}function rc(o,s,a,u,d,p){const b=Wr(o,s);!function i8(o,s,a,u,d,p,b){if(null==p)o.removeAttribute(s,d,a);else{const x=null==b?ct(p):b(p,u||"",d);o.setAttribute(s,d,x,a)}}(s[be],b,p,o.value,a,u,d)}function gb(o,s,a,u,d,p){const b=p[s];if(null!==b){const x=u.setInput;for(let k=0;k<b.length;){const V=b[k++],q=b[k++],oe=b[k++];null!==x?u.setInput(a,oe,V,q):a[q]=oe}}}function vb(o,s,a){let u=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const b=o[p];for(let x=0;x<b.length;x+=2)if(b[x]===s){u.push(p,b[x+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return u}function lg(o,s,a,u){return[o,!0,!1,s,null,0,u,a,null,null]}function wb(o,s){const a=Xr(s,o);if(Po(a)){const u=a[xt];48&a[fn]?B4(u,a,u.template,a[jn]):a[si]>0&&o8(a)}}function o8(o){for(let u=al(o);null!==u;u=Uu(u))for(let d=ni;d<u.length;d++){const p=u[d];if(Po(p))if(512&p[fn]){const b=p[xt];B4(b,p,b.template,p[jn])}else p[si]>0&&o8(p)}const a=o[xt].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Xr(a[u],o);Po(d)&&d[si]>0&&o8(d)}}function Cb(o,s){const a=Xr(s,o),u=a[xt];(function bb(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])})(u,a),Z3(u,a,a[jn])}function U4(o,s){return o[X]?o[de][Wn]=s:o[X]=s,o[de]=s,s}function Y4(o){for(;o;){o[fn]|=32;const s=Bu(o);if(ji(o)&&!s)return o;o=s}return null}function j4(o,s,a,u=!0){const d=s[we];d.begin&&d.begin();try{B4(o,s,o.template,a)}catch(b){throw u&&fg(s,b),b}finally{d.end&&d.end()}}function s8(o,s,a){hc(0),s(o,a)}function ug(o){return o[ti]||(o[ti]=[])}function dg(o){return o.cleanup||(o.cleanup=[])}function fg(o,s){const a=o[Te],u=a?a.get(Vd,null):null;u&&u.handleError(s)}function a8(o,s,a,u,d){for(let p=0;p<a.length;){const b=a[p++],x=a[p++],k=s[b],V=o.data[b];null!==V.setInput?V.setInput(k,d,u,x):k[x]=d}}function $4(o,s,a){let u=a?o.styles:null,d=a?o.classes:null,p=0;if(null!==s)for(let b=0;b<s.length;b++){const x=s[b];"number"==typeof x?p=x:1==p?d=Fe(d,x):2==p&&(u=Fe(u,x+": "+s[++b]+";"))}a?o.styles=u:o.stylesWithoutHost=u,a?o.classes=d:o.classesWithoutHost=d}function G4(o,s,a,u,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(Gr(p)),_i(p))for(let x=ni;x<p.length;x++){const k=p[x],V=k[xt].firstChild;null!==V&&G4(k[xt],k,V,u)}const b=a.type;if(8&b)G4(o,s,a.child,u);else if(32&b){const x=$l(a,s);let k;for(;k=x();)u.push(k)}else if(16&b){const x=Wu(s,a);if(Array.isArray(x))u.push(...x);else{const k=Bu(s[at]);G4(k[xt],k,x,u,!0)}}a=d?a.projectionNext:a.next}return u}class Bd{get rootNodes(){const s=this._lView,a=s[xt];return G4(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(s){this._lView[jn]=s}get destroyed(){return 128==(128&this._lView[fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[sr];if(_i(s)){const a=s[wo],u=a?a.indexOf(this):-1;u>-1&&(U(s,u),Vl(a,u))}this._attachedToViewContainer=!1}te(this._lView[xt],this._lView)}onDestroy(s){t8(this._lView[xt],this._lView,null,s)}markForCheck(){Y4(this._cdRefInjectingView||this._lView)}detach(){this._lView[fn]&=-65}reattach(){this._lView[fn]|=64}detectChanges(){j4(this._lView[xt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function C3(o,s){Od(o,s,s[be],2,null,null)}(this._lView[xt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=s}}class Sb extends Bd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;j4(s[xt],s,s[jn],!1)}checkNoChanges(){}get context(){return null}}class pg extends Fd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=jt(s);return new Ud(a,this.ngModule)}}function mg(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}class Tb{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=lr(u);const d=this.injector.get(s,B3,u);return d!==B3||a===B3?d:this.parentInjector.get(s,a,u)}}class Ud extends Am{get inputs(){return mg(this.componentDef.inputs)}get outputs(){return mg(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function zC(o){return o.map(xC).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,d){let p=(d=d||this.ngModule)instanceof Zl?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new Tb(s,p):s,x=b.get(km,null);if(null===x)throw new $e(407,!1);const k=b.get(dC,null),V=x.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",oe=u?function eb(o,s,a){return o.selectRootElement(s,a===ee.ShadowDom)}(V,u,this.componentDef.encapsulation):zd(V,q,function Eb(o){const s=o.toLowerCase();return"svg"===s?So:"math"===s?"math":null}(q)),Ee=this.componentDef.onPush?288:272,Ge=e8(0,null,null,1,0,null,null,null,null,null),ht=H4(null,Ge,null,Ee,null,null,x,V,k,b,null);let Pt,Gt;Js(ht);try{const un=this.componentDef;let Yn,bt=null;un.findHostDirectiveDefs?(Yn=[],bt=new Map,un.findHostDirectiveDefs(un,Yn,bt),Yn.push(un)):Yn=[un];const Zn=function Mb(o,s){const a=o[xt],u=Pn;return o[u]=s,n1(a,u,2,"#host",null)}(ht,oe),zi=function Ib(o,s,a,u,d,p,b,x){const k=d[xt];!function xb(o,s,a,u){for(const d of o)s.mergedAttrs=fo(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&($4(s,s.mergedAttrs,!0),null!==a&&sm(u,a,s))}(u,o,s,b);const V=p.createRenderer(s,a),q=H4(d,ig(a),null,a.onPush?32:16,d[o.index],o,p,V,x||null,null,null);return k.firstCreatePass&&r8(k,o,u.length-1),U4(d,q),d[o.index]=q}(Zn,oe,un,Yn,ht,x,V);Gt=Es(Ge,Pn),oe&&function Ab(o,s,a,u){if(u)gr(o,a,["ng-version",Rm.full]);else{const{attrs:d,classes:p}=function AC(o){const s=[],a=[];let u=1,d=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===d?""!==p&&s.push(p,o[++u]):8===d&&a.push(p);else{if(!ka(d))break;d=p}u++}return{attrs:s,classes:a}}(s.selectors[0]);d&&gr(o,a,d),p&&p.length>0&&om(o,a,p.join(" "))}}(V,un,oe,u),void 0!==a&&function Pb(o,s,a){const u=o.projection=[];for(let d=0;d<s.length;d++){const p=a[d];u.push(null!=p?Array.from(p):null)}}(Gt,this.ngContentSelectors,a),Pt=function zb(o,s,a,u,d,p){const b=ie(),x=d[xt],k=Wr(b,d);ag(x,d,b,a,null,u);for(let q=0;q<a.length;q++)Do(Ls(d,x,b.directiveStart+q,b),d);cg(x,d,b),k&&Do(k,d);const V=Ls(d,x,b.directiveStart+b.componentOffset,b);if(o[jn]=d[jn]=V,null!==p)for(const q of p)q(V,s);return Q3(x,b,o),V}(zi,un,Yn,bt,ht,[kb]),Z3(Ge,ht,null)}finally{pc()}return new Db(this.componentType,Pt,Xu(Gt,ht),ht,Gt)}}class Db extends iC{constructor(s,a,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Sb(d),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[s])){const p=this._rootLView;a8(p[xt],p,d,s,a),Y4(Xr(this._tNode.index,p))}}get injector(){return new qa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function kb(){const o=ie();ta(v()[xt],o)}function c8(o){let s=function gg(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const u=[o];for(;s;){let d;if(Qr(o))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new $e(903,!1);d=s.\u0275dir}if(d){if(a){u.push(d);const b=o;b.inputs=l8(o.inputs),b.declaredInputs=l8(o.declaredInputs),b.outputs=l8(o.outputs);const x=d.hostBindings;x&&Fb(o,x);const k=d.viewQuery,V=d.contentQueries;if(k&&Rb(o,k),V&&Nb(o,V),Pe(o.inputs,d.inputs),Pe(o.declaredInputs,d.declaredInputs),Pe(o.outputs,d.outputs),Qr(d)&&d.data.animation){const q=o.data;q.animation=(q.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let b=0;b<p.length;b++){const x=p[b];x&&x.ngInherit&&x(o),x===c8&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Ob(o){let s=0,a=null;for(let u=o.length-1;u>=0;u--){const d=o[u];d.hostVars=s+=d.hostVars,d.hostAttrs=fo(d.hostAttrs,a=fo(a,d.hostAttrs))}}(u)}function l8(o){return o===W?{}:o===me?[]:o}function Rb(o,s){const a=o.viewQuery;o.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function Nb(o,s){const a=o.contentQueries;o.contentQueries=a?(u,d,p)=>{s(u,d,p),a(u,d,p)}:s}function Fb(o,s){const a=o.hostBindings;o.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}function W4(o){return!!d8(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function d8(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function fs(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function h8(o,s,a,u){const d=v();return fs(d,Wi(),s)&&(w(),rc(Jr(),d,o,s,a,u)),h8}function xg(o,s,a,u,d,p,b,x){const k=v(),V=w(),q=o+Pn,oe=V.firstCreatePass?function Gb(o,s,a,u,d,p,b,x,k){const V=s.consts,q=n1(s,o,4,b||null,fi(V,x));n8(s,a,q,fi(V,k)),ta(s,q);const oe=q.tView=e8(2,q,u,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V);return null!==s.queries&&(s.queries.template(s,q),oe.queries=s.queries.embeddedTView(q)),q}(q,V,k,s,a,u,d,p,b):V.data[q];an(oe,!1);const Ee=k[be].createComment("");Wl(V,k,Ee,oe),Do(Ee,k),U4(k,k[q]=lg(Ee,k,Ee,oe)),Li(oe)&&X3(V,k,oe),null!=b&&J3(k,oe,x)}function f8(o,s,a){const u=v();return fs(u,Wi(),s)&&function Bs(o,s,a,u,d,p,b,x){const k=Wr(s,a);let q,V=s.inputs;!x&&null!=V&&(q=V[u])?(a8(o,a,q,u,d),ui(s)&&function ib(o,s){const a=Xr(s,o);16&a[fn]||(a[fn]|=32)}(a,s.index)):3&s.type&&(u=function rb(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),d=null!=b?b(d,s.value||"",u):d,p.setProperty(k,u,d))}(w(),Jr(),u,o,s,u[be],a,!1),f8}function p8(o,s,a,u,d){const b=d?"class":"style";a8(o,a,s.inputs[b],b,u)}function q4(o,s,a,u){const d=v(),p=w(),b=Pn+o,x=d[be],k=p.firstCreatePass?function qb(o,s,a,u,d,p){const b=s.consts,k=n1(s,o,2,u,fi(b,d));return n8(s,a,k,fi(b,p)),null!==k.attrs&&$4(k,k.attrs,!1),null!==k.mergedAttrs&&$4(k,k.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,k),k}(b,p,d,s,a,u):p.data[b],V=d[b]=zd(x,s,function Al(){return ln.lFrame.currentNamespace}()),q=Li(k);return an(k,!0),sm(x,V,k),32!=(32&k.flags)&&Wl(p,d,V,k),0===function Qs(){return ln.lFrame.elementDepthCount}()&&Do(V,d),function Ea(){ln.lFrame.elementDepthCount++}(),q&&(X3(p,d,k),Q3(p,k,d)),null!==u&&J3(d,k),q4}function Z4(){let o=ie();Rn()?ar():(o=o.parent,an(o,!1));const s=o;!function Oo(){ln.lFrame.elementDepthCount--}();const a=w();return a.firstCreatePass&&(ta(a,o),xo(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function pr(o){return 0!=(8&o.flags)}(s)&&p8(a,s,v(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function mr(o){return 0!=(16&o.flags)}(s)&&p8(a,s,v(),s.stylesWithoutHost,!1),Z4}function m8(o,s,a,u){return q4(o,s,a,u),Z4(),m8}function Ag(){return v()}function y8(o){return!!o&&"function"==typeof o.then}function Pg(o){return!!o&&"function"==typeof o.subscribe}const kg=Pg;function _8(o,s,a,u){const d=v(),p=w(),b=ie();return function Rg(o,s,a,u,d,p,b){const x=Li(u),V=o.firstCreatePass&&dg(o),q=s[jn],oe=ug(s);let Ee=!0;if(3&u.type||b){const Pt=Wr(u,s),Gt=b?b(Pt):Pt,un=oe.length,Yn=b?Zn=>b(Gr(Zn[u.index])):u.index;let bt=null;if(!b&&x&&(bt=function Qb(o,s,a,u){const d=o.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const b=d[p];if(b===a&&d[p+1]===u){const x=s[ti],k=d[p+2];return x.length>k?x[k]:null}"string"==typeof b&&(p+=2)}return null}(o,s,d,u.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=p,bt.__ngLastListenerFn__=p,Ee=!1;else{p=Fg(u,s,q,p,!1);const Zn=a.listen(Gt,d,p);oe.push(p,Zn),V&&V.push(d,Yn,un,un+1)}}else p=Fg(u,s,q,p,!1);const Ge=u.outputs;let ht;if(Ee&&null!==Ge&&(ht=Ge[d])){const Pt=ht.length;if(Pt)for(let Gt=0;Gt<Pt;Gt+=2){const zi=s[ht[Gt]][ht[Gt+1]].subscribe(p),io=oe.length;oe.push(p,zi),V&&V.push(d,u.index,io,-(io+1))}}}(p,d,d[be],b,o,s,u),_8}function Ng(o,s,a,u){try{return Pr(6,s,a),!1!==a(u)}catch(d){return fg(o,d),!1}finally{Pr(7,s,a)}}function Fg(o,s,a,u,d){return function p(b){if(b===Function)return u;Y4(o.componentOffset>-1?Xr(o.index,s):s);let k=Ng(s,a,u,b),V=p.__ngNextListenerFn__;for(;V;)k=Ng(s,a,V,b)&&k,V=V.__ngNextListenerFn__;return d&&!1===k&&(b.preventDefault(),b.returnValue=!1),k}}function Lg(o=1){return function mc(o){return(ln.lFrame.contextLView=function zu(o,s){for(;o>0;)s=s[Ve],o--;return s}(o,ln.lFrame.contextLView))[jn]}(o)}function Xb(o,s){let a=null;const u=function TC(o){const s=o.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(o);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===u?Bm(o,p,!0):IC(u,p))return d}else a=d}return a}function Vg(o){const s=v()[at][Vr];if(!s.projection){const u=s.projection=S(o?o.length:1,null),d=u.slice();let p=s.child;for(;null!==p;){const b=o?Xb(p,o):0;null!==b&&(d[b]?d[b].projectionNext=p:u[b]=p,d[b]=p),p=p.next}}}function Hg(o,s=0,a){const u=v(),d=w(),p=n1(d,Pn+o,16,null,a||null);null===p.projection&&(p.projection=s),ar(),32!=(32&p.flags)&&function yw(o,s,a){im(s[be],0,s,a,Zt(o,a,s),Ad(a.parent||s[Vr],a,s))}(d,u,p)}function Q4(o,s){return o<<17|s<<2}function dl(o){return o>>17&32767}function b8(o){return 2|o}function Jl(o){return(131068&o)>>2}function S8(o,s){return-131069&o|s<<2}function E8(o){return 1|o}function Zg(o,s,a,u,d){const p=o[a+1],b=null===s;let x=u?dl(p):Jl(p),k=!1;for(;0!==x&&(!1===k||b);){const q=o[x+1];rS(o[x],s)&&(k=!0,o[x+1]=u?E8(q):b8(q)),x=u?dl(q):Jl(q)}k&&(o[a+1]=u?b8(p):E8(p))}function rS(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&ze(o,s)>=0}function T8(o,s,a){return pa(o,s,a,!1),T8}function D8(o,s){return pa(o,s,null,!0),D8}function pa(o,s,a,u){const d=v(),p=w(),b=function ci(o){const s=ln.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}(2);p.firstUpdatePass&&function o5(o,s,a,u){const d=o.data;if(null===d[a+1]){const p=d[Ki()],b=function r5(o,s){return s>=o.expandoStartIndex}(o,a);(function l5(o,s){return 0!=(o.flags&(s?8:16))})(p,u)&&null===s&&!b&&(s=!1),s=function fS(o,s,a,u){const d=function cs(o){const s=ln.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let p=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=jd(a=M8(null,o,s,a,u),s.attrs,u),p=null);else{const b=s.directiveStylingLast;if(-1===b||o[b]!==d)if(a=M8(d,o,s,a,u),null===p){let k=function pS(o,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Jl(u))return o[dl(u)]}(o,s,u);void 0!==k&&Array.isArray(k)&&(k=M8(null,o,s,k[1],u),k=jd(k,s.attrs,u),function mS(o,s,a,u){o[dl(a?s.classBindings:s.styleBindings)]=u}(o,s,u,k))}else p=function s5(o,s,a){let u;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)u=jd(u,o[p].hostAttrs,a);return jd(u,s.attrs,a)}(o,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,u),function nS(o,s,a,u,d,p){let b=p?s.classBindings:s.styleBindings,x=dl(b),k=Jl(b);o[u]=a;let q,V=!1;if(Array.isArray(a)?(q=a[1],(null===q||ze(a,q)>0)&&(V=!0)):q=a,d)if(0!==k){const Ee=dl(o[x+1]);o[u+1]=Q4(Ee,x),0!==Ee&&(o[Ee+1]=S8(o[Ee+1],u)),o[x+1]=function eS(o,s){return 131071&o|s<<17}(o[x+1],u)}else o[u+1]=Q4(x,0),0!==x&&(o[x+1]=S8(o[x+1],u)),x=u;else o[u+1]=Q4(k,0),0===x?x=u:o[k+1]=S8(o[k+1],u),k=u;V&&(o[u+1]=b8(o[u+1])),Zg(o,q,u,!0),Zg(o,q,u,!1),function qg(o,s,a,u,d){const p=d?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&ze(p,s)>=0&&(a[u+1]=E8(a[u+1]))}(s,q,o,u,p),b=Q4(x,k),p?s.classBindings=b:s.styleBindings=b}(d,p,s,a,b,u)}}(p,o,b,u),s!==Jn&&fs(d,b,s)&&function a5(o,s,a,u,d,p,b,x){if(!(3&s.type))return;const k=o.data,V=k[x+1],q=function tS(o){return 1==(1&o)}(V)?c5(k,s,a,d,Jl(V),b):void 0;X4(q)||(X4(p)||function Jb(o){return 2==(2&o)}(V)&&(p=c5(k,null,a,d,x,b)),function ww(o,s,a,u,d){if(s)d?o.addClass(a,u):o.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:ha.DashCase;null==d?o.removeStyle(a,u,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ha.Important),o.setStyle(a,u,d,p))}}(u,b,ri(Ki(),a),d,p))}(p,p.data[Ki()],d,d[be],o,d[b+1]=function _S(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=De(Tc(o)))),o}(s,a),u,b)}function M8(o,s,a,u,d){let p=null;const b=a.directiveEnd;let x=a.directiveStylingLast;for(-1===x?x=a.directiveStart:x++;x<b&&(p=s[x],u=jd(u,p.hostAttrs,d),p!==o);)x++;return null!==o&&(a.directiveStylingLast=x),u}function jd(o,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const b=s[p];"number"==typeof b?d=b:d===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),G(o,b,!!a||s[++p]))}return void 0===o?null:o}function c5(o,s,a,u,d,p){const b=null===s;let x;for(;d>0;){const k=o[d],V=Array.isArray(k),q=V?k[1]:k,oe=null===q;let Ee=a[d+1];Ee===Jn&&(Ee=oe?me:void 0);let Ge=oe?J(Ee,u):q===u?Ee:void 0;if(V&&!X4(Ge)&&(Ge=J(k,u)),X4(Ge)&&(x=Ge,b))return x;const ht=o[d+1];d=b?dl(ht):Jl(ht)}if(null!==s){let k=p?s.residualClasses:s.residualStyles;null!=k&&(x=J(k,u))}return x}function X4(o){return void 0!==o}function u5(o,s=""){const a=v(),u=w(),d=o+Pn,p=u.firstCreatePass?n1(u,d,1,s,null):u.data[d],b=a[d]=function Id(o,s){return o.createText(s)}(a[be],s);Wl(u,a,b,p),an(p,!1)}function x8(o){return z8("",o,""),x8}function z8(o,s,a){const u=v(),d=function o1(o,s,a,u){return fs(o,Wi(),a)?s+ct(a)+u:Jn}(u,o,s,a);return d!==Jn&&function Ic(o,s,a){const u=ri(s,o);!function xd(o,s,a){o.setValue(s,a)}(o[be],u,a)}(u,Ki(),d),z8}const eu=void 0;var VS=["en",[["a","p"],["AM","PM"],eu],[["AM","PM"],eu,eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eu,"{1} 'at' {0}",eu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LS(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let p1={};function HS(o,s,a){"string"!=typeof s&&(a=s,s=o[Fn.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),p1[s]=o,a&&(p1[s][Fn.ExtraData]=a)}function A8(o){const s=function BS(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=z5(s);if(a)return a;const u=s.split("-")[0];if(a=z5(u),a)return a;if("en"===u)return VS;throw new $e(701,!1)}function J4(o){return A8(o)[Fn.PluralCase]}function z5(o){return o in p1||(p1[o]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[o]),p1[o]}var Fn=(()=>((Fn=Fn||{})[Fn.LocaleId=0]="LocaleId",Fn[Fn.DayPeriodsFormat=1]="DayPeriodsFormat",Fn[Fn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Fn[Fn.DaysFormat=3]="DaysFormat",Fn[Fn.DaysStandalone=4]="DaysStandalone",Fn[Fn.MonthsFormat=5]="MonthsFormat",Fn[Fn.MonthsStandalone=6]="MonthsStandalone",Fn[Fn.Eras=7]="Eras",Fn[Fn.FirstDayOfWeek=8]="FirstDayOfWeek",Fn[Fn.WeekendRange=9]="WeekendRange",Fn[Fn.DateFormat=10]="DateFormat",Fn[Fn.TimeFormat=11]="TimeFormat",Fn[Fn.DateTimeFormat=12]="DateTimeFormat",Fn[Fn.NumberSymbols=13]="NumberSymbols",Fn[Fn.NumberFormats=14]="NumberFormats",Fn[Fn.CurrencyCode=15]="CurrencyCode",Fn[Fn.CurrencySymbol=16]="CurrencySymbol",Fn[Fn.CurrencyName=17]="CurrencyName",Fn[Fn.Currencies=18]="Currencies",Fn[Fn.Directionality=19]="Directionality",Fn[Fn.PluralCase=20]="PluralCase",Fn[Fn.ExtraData=21]="ExtraData",Fn))();const m1="en-US";let A5=m1;function O8(o,s,a,u,d){if(o=ye(o),Array.isArray(o))for(let p=0;p<o.length;p++)O8(o[p],s,a,u,d);else{const p=w(),b=v();let x=ql(o)?o:ye(o.provide),k=zm(o);const V=ie(),q=1048575&V.providerIndexes,oe=V.directiveStart,Ee=V.providerIndexes>>20;if(ql(o)||!o.multi){const Ge=new le(k,d,t1),ht=N8(x,s,d?q:q+Ee,oe);-1===ht?(po(Xc(V,b),p,x),R8(p,o,s.length),s.push(x),V.directiveStart++,V.directiveEnd++,d&&(V.providerIndexes+=1048576),a.push(Ge),b.push(Ge)):(a[ht]=Ge,b[ht]=Ge)}else{const Ge=N8(x,s,q+Ee,oe),ht=N8(x,s,q,q+Ee),Gt=ht>=0&&a[ht];if(d&&!Gt||!d&&!(Ge>=0&&a[Ge])){po(Xc(V,b),p,x);const un=function RE(o,s,a,u,d){const p=new le(o,a,t1);return p.multi=[],p.index=s,p.componentProviders=0,s7(p,d,u&&!a),p}(d?OE:kE,a.length,d,u,k);!d&&Gt&&(a[ht].providerFactory=un),R8(p,o,s.length,0),s.push(x),V.directiveStart++,V.directiveEnd++,d&&(V.providerIndexes+=1048576),a.push(un),b.push(un)}else R8(p,o,Ge>-1?Ge:ht,s7(a[d?ht:Ge],k,!d&&u));!d&&u&&Gt&&a[ht].componentProviders++}}}function R8(o,s,a,u){const d=ql(s),p=function Qw(o){return!!o.useClass}(s);if(d||p){const k=(p?ye(s.useClass):s).prototype.ngOnDestroy;if(k){const V=o.destroyHooks||(o.destroyHooks=[]);if(!d&&s.multi){const q=V.indexOf(a);-1===q?V.push(a,[u,k]):V[q+1].push(u,k)}else V.push(a,k)}}}function s7(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function N8(o,s,a,u){for(let d=a;d<u;d++)if(s[d]===o)return d;return-1}function kE(o,s,a,u){return F8(this.multi,[])}function OE(o,s,a,u){const d=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=Ls(a,a[xt],this.providerFactory.index,u);p=x.slice(0,b),F8(d,p);for(let k=b;k<x.length;k++)p.push(x[k])}else p=[],F8(d,p);return p}function F8(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function L8(o,s=[]){return a=>{a.providersResolver=(u,d)=>function PE(o,s,a){const u=w();if(u.firstCreatePass){const d=Qr(o);O8(a,u.data,u.blueprint,d,!0),O8(s,u.data,u.blueprint,d,!1)}}(u,d?d(o):o,s)}}class g1{}class a7{}function NE(o,s){return new c7(o,s??null)}class c7 extends g1{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pg(this);const u=Bn(s);this._bootstrapComponents=Mc(u.bootstrap),this._r3Injector=qm(s,a,[{provide:g1,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],De(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class V8 extends a7{constructor(s){super(),this.moduleType=s}create(s){return new c7(this.moduleType,s)}}class FE extends g1{constructor(s,a,u){super(),this.componentFactoryResolver=new pg(this),this.instance=null;const d=new xm([...s,{provide:g1,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],a||L4(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function H8(o,s,a=null){return new FE(o,s,a).injector}let LE=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=Tm(0,a.type),d=u.length>0?H8([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Ae({token:o,providedIn:"environment",factory:()=>new o(cn(Zl))}),o})();function B8(o){o.getStandaloneInjector=s=>s.get(LE).getOrCreateStandaloneInjector(o)}function e6(o){return s=>{setTimeout(o,void 0,s)}}const ma=class QE extends m.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let d=s,p=a||(()=>null),b=u;if(s&&"object"==typeof s){const k=s;d=k.next?.bind(k),p=k.error?.bind(k),b=k.complete?.bind(k)}this.__isAsync&&(p=e6(p),d&&(d=e6(d)),b&&(b=e6(b)));const x=super.subscribe({next:d,error:p,complete:b});return s instanceof B.w0&&s.add(x),x}};function _7(){return this._results[Symbol.iterator]()}class t6{get changes(){return this._changes||(this._changes=new ma)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=t6.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=_7)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=function Ho(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function hd(o,s,a){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let d=o[u],p=s[u];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let eh=(()=>{class o{}return o.__NG_ELEMENT_ID__=eT,o})();const XE=eh,JE=class extends XE{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s,a){const u=this._declarationTContainer.tView,d=H4(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,a||null);d[Nt]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[In];return null!==b&&(d[In]=b.createEmbeddedView(u)),Z3(u,d,s),new Bd(d)}};function eT(){return c2(ie(),v())}function c2(o,s){return 4&o.type?new JE(s,o,Xu(o,s)):null}let l2=(()=>{class o{}return o.__NG_ELEMENT_ID__=w7,o})();function w7(){return s6(ie(),v())}const n6=l2,r6=class extends n6{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new qa(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ci(this._hostTNode,this._hostLView);if(Vi(s)){const a=Vo(s,this._hostLView),u=Qo(s);return new qa(a[xt].data[u+8],a)}return new qa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=v1(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-ni}createEmbeddedView(s,a,u){let d,p;"number"==typeof u?d=u:null!=u&&(d=u.index,p=u.injector);const b=s.createEmbeddedView(a||{},p);return this.insert(b,d),b}createComponent(s,a,u,d,p){const b=s&&!function bc(o){return"function"==typeof o}(s);let x;if(b)x=a;else{const oe=a||{};x=oe.index,u=oe.injector,d=oe.projectableNodes,p=oe.environmentInjector||oe.ngModuleRef}const k=b?s:new Ud(jt(s)),V=u||this.parentInjector;if(!p&&null==k.ngModule){const Ee=(b?V:this.parentInjector).get(Zl,null);Ee&&(p=Ee)}const q=k.create(V,d,void 0,p);return this.insert(q.hostView,x),q}insert(s,a){const u=s._lView,d=u[xt];if(function Eo(o){return _i(o[sr])}(u)){const q=this.indexOf(s);if(-1!==q)this.detach(q);else{const oe=u[sr],Ee=new r6(oe,oe[Vr],oe[sr]);Ee.detach(Ee.indexOf(s))}}const p=this._adjustIndex(a),b=this._lContainer;!function f(o,s,a,u){const d=ni+u,p=a.length;u>0&&(a[d-1][Wn]=s),u<p-ni?(s[Wn]=a[d],il(a,ni+u,s)):(a.push(s),s[Wn]=null),s[sr]=a;const b=s[Nt];null!==b&&a!==b&&function g(o,s){const a=o[Fi];s[at]!==s[sr][sr][at]&&(o[yi]=!0),null===a?o[Fi]=[s]:a.push(s)}(b,s);const x=s[In];null!==x&&x.insertView(o),s[fn]|=64}(d,u,b,p);const x=kd(p,b),k=u[be],V=ul(k,b[Ti]);return null!==V&&function A4(o,s,a,u,d,p){u[Ir]=d,u[Vr]=s,Od(o,u,a,1,d,p)}(d,b[Vr],k,u,V,x),s.attachToViewContainerRef(),il(o6(b),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=v1(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=U(this._lContainer,a);u&&(Vl(o6(this._lContainer),a),te(u[xt],u))}detach(s){const a=this._adjustIndex(s,-1),u=U(this._lContainer,a);return u&&null!=Vl(o6(this._lContainer),a)?new Bd(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function v1(o){return o[wo]}function o6(o){return o[wo]||(o[wo]=[])}function s6(o,s){let a;const u=s[o.index];if(_i(u))a=u;else{let d;if(8&o.type)d=Gr(u);else{const p=s[be];d=p.createComment("");const b=Wr(o,s);zn(p,ul(p,b),d,function P4(o,s){return o.nextSibling(s)}(p,b),!1)}s[o.index]=a=lg(u,s,d,o),U4(s,a)}return new r6(a,o,s)}class a6{constructor(s){this.queryList=s,this.matches=null}clone(){return new a6(this.queryList)}setDirty(){this.queryList.setDirty()}}class c6{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<u;p++){const b=a.getByIndex(p);d.push(this.queries[b.indexInDeclarationView].clone())}return new c6(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==f6(s,a).matches&&this.queries[a].setDirty()}}class l6{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class y1{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,d);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new y1(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class u2{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new u2(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(s,a,oi(a,p)),this.matchTNodeWithReadOption(s,a,Nl(a,s,p,!1,!1))}else u===eh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Nl(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Ld||d===l2||d===eh&&4&a.type)this.addMatch(a.index,-2);else{const p=Nl(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function oi(o,s){const a=o.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function h2(o,s,a,u){return-1===a?function d2(o,s){return 11&o.type?Xu(o,s):4&o.type?c2(o,s):null}(s,o):-2===a?function C7(o,s,a){return a===Ld?Xu(s,o):a===eh?c2(s,o):a===l2?s6(s,o):void 0}(o,s,u):Ls(o,o[xt],a,s)}function u6(o,s,a,u){const d=s[In].queries[u];if(null===d.matches){const p=o.data,b=a.matches,x=[];for(let k=0;k<b.length;k+=2){const V=b[k];x.push(V<0?null:h2(s,p[V],b[k+1],a.metadata.read))}d.matches=x}return d.matches}function d6(o,s,a,u){const d=o.queries.getByIndex(a),p=d.matches;if(null!==p){const b=u6(o,s,d,a);for(let x=0;x<p.length;x+=2){const k=p[x];if(k>0)u.push(b[x/2]);else{const V=p[x+1],q=s[-k];for(let oe=ni;oe<q.length;oe++){const Ee=q[oe];Ee[Nt]===Ee[sr]&&d6(Ee[xt],Ee,V,u)}if(null!==q[Fi]){const oe=q[Fi];for(let Ee=0;Ee<oe.length;Ee++){const Ge=oe[Ee];d6(Ge[xt],Ge,V,u)}}}}}return u}function th(o){const s=v(),a=w(),u=Xs();hc(u+1);const d=f6(a,u);if(o.dirty&&function Er(o){return 4==(4&o[fn])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)o.reset([]);else{const p=d.crossesNgTemplate?d6(a,s,u,[]):u6(a,s,d,u);o.reset(p,cC),o.notifyOnChanges()}return!0}return!1}function nh(o,s,a){const u=w();u.firstCreatePass&&(E7(u,new l6(o,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),S7(u,v(),s)}function f2(o,s,a,u){const d=w();if(d.firstCreatePass){const p=ie();E7(d,new l6(s,a,u),p.index),function h6(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(d,o),2==(2&a)&&(d.staticContentQueries=!0)}S7(d,v(),a)}function b7(){return function tT(o,s){return o[In].queries[s].queryList}(v(),Xs())}function S7(o,s,a){const u=new t6(4==(4&a));t8(o,s,u,u.destroy),null===s[In]&&(s[In]=new c6),s[In].queries.push(new a6(u))}function E7(o,s,a){null===o.queries&&(o.queries=new y1),o.queries.track(new u2(s,a))}function f6(o,s){return o.queries.getByIndex(s)}function m2(o){return!!Bn(o)}function fl(...o){}const M6=new ei("Application Initializer");let ch=(()=>{class o{constructor(a){this.appInits=a,this.resolve=fl,this.reject=fl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(y8(p))a.push(p);else if(kg(p)){const b=new Promise((x,k)=>{p.subscribe({complete:x,error:k})});a.push(b)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return o.\u0275fac=function(a){return new(a||o)(cn(M6,8))},o.\u0275prov=Ae({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const H7=new ei("AppId",{providedIn:"root",factory:function E1(){return`${zc()}${zc()}${zc()}`}});function zc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const I6=new ei("Platform Initializer"),B7=new ei("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),U7=new ei("AnimationModuleType");let w2=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Ae({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const pl=new ei("LocaleId",{providedIn:"root",factory:()=>Xn(pl,Et.Optional|Et.SkipSelf)||function Y7(){return typeof $localize<"u"&&$localize.locale||m1}()}),T1=new ei("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vT{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let yT=(()=>{class o{compileModuleSync(a){return new V8(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=Mc(Bn(a).declarations).reduce((b,x)=>{const k=jt(x);return k&&b.push(new Ud(k)),b},[]);return new vT(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Ae({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const j7=(()=>Promise.resolve(0))();function b2(o){typeof Zone>"u"?j7.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ga{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ma(!1),this.onMicrotaskEmpty=new ma(!1),this.onStable=new ma(!1),this.onError=new ma(!1),typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function $7(){let o=bn.requestAnimationFrame,s=bn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function P6(o){const s=()=>{!function ST(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(bn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,D1(o),o.isCheckStableRunning=!0,A6(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),D1(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,p,b,x)=>{try{return G7(o),a.invokeTask(d,p,b,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),W7(o)}},onInvoke:(a,u,d,p,b,x,k)=>{try{return G7(o),a.invoke(d,p,b,x,k)}finally{o.shouldCoalesceRunChangeDetection&&s(),W7(o)}},onHasTask:(a,u,d,p)=>{a.hasTask(d,p),u===d&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,D1(o),A6(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,d,p)=>(a.handleError(d,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ga.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(ga.isInAngularZone())throw new $e(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+d,s,bT,fl,fl);try{return p.runTask(b,a,u)}finally{p.cancelTask(b)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const bT={};function A6(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function D1(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function G7(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function W7(o){o._nesting--,A6(o)}class ET{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ma,this.onMicrotaskEmpty=new ma,this.onStable=new ma,this.onError=new ma}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}const K7=new ei(""),q7=new ei("");let S2,TT=(()=>{class o{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S2||(function Z7(o){S2=o}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ga.assertNotInAngularZone(),b2(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())b2(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return o.\u0275fac=function(a){return new(a||o)(cn(ga),cn(dh),cn(q7))},o.\u0275prov=Ae({token:o,factory:o.\u0275fac}),o})(),dh=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return S2?.findTestabilityInTree(this,a,u)??null}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Ae({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ac=!1;let Ac=null;const Q7=new ei("AllowMultipleToken"),E2=new ei("PlatformDestroyListeners"),X7=new ei("appBootstrapListener");class IT{constructor(s,a){this.name=s,this.token=a}}function T2(o,s,a=[]){const u=`Platform: ${s}`,d=new ei(u);return(p=[])=>{let b=O6();if(!b||b.injector.get(Q7,!1)){const x=[...a,...p,{provide:d,useValue:!0}];o?o(x):function k6(o){if(Ac&&!Ac.get(Q7,!1))throw new $e(400,!1);Ac=o;const s=o.get(R6);(function J7(o){const s=o.get(I6,null);s&&s.forEach(a=>a())})(o)}(function tv(o=[],s){return Ql.create({name:s,providers:[{provide:F3,useValue:"platform"},{provide:E2,useValue:new Set([()=>Ac=null])},...o]})}(x,u))}return function ev(o){const s=O6();if(!s)throw new $e(401,!1);return s}()}}function O6(){return Ac?.get(R6)??null}let R6=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function N6(o,s){let a;return a="noop"===o?new ET:("zone.js"===o?void 0:o)||new ga(s),a}(u?.ngZone,function nv(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:ga,useValue:d}];return d.run(()=>{const b=Ql.create({providers:p,parent:this.injector,name:a.moduleType.name}),x=a.create(b),k=x.injector.get(Vd,null);if(!k)throw new $e(402,!1);return d.runOutsideAngular(()=>{const V=d.onError.subscribe({next:q=>{k.handleError(q)}});x.onDestroy(()=>{fh(this._modules,x),V.unsubscribe()})}),function rv(o,s,a){try{const u=a();return y8(u)?u.catch(d=>{throw s.runOutsideAngular(()=>o.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(k,d,()=>{const V=x.injector.get(ch);return V.runInitializers(),V.donePromise.then(()=>(function P5(o){Re(o,"Expected localeId to be defined"),"string"==typeof o&&(A5=o.toLowerCase().replace(/_/g,"-"))}(x.injector.get(pl,m1)||m1),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,u=[]){const d=F6({},u);return function DT(o,s,a){const u=new V8(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const u=a.injector.get(hh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new $e(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(E2,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(a){return new(a||o)(cn(Ql))},o.\u0275prov=Ae({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function F6(o,s){return Array.isArray(s)?s.reduce(F6,o):{...o,...s}}let hh=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new C.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),b=new C.y(x=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{ga.assertNotInAngularZone(),b2(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{ga.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{k.unsubscribe(),V.unsubscribe()}});this.isStable=(0,pe.T)(p,b.pipe((0,ve.B)()))}bootstrap(a,u){const d=a instanceof Am;if(!this._injector.get(ch).done){!d&&Mn(a);throw new $e(405,ac)}let b;b=d?a:this._injector.get(Fd).resolveComponentFactory(a),this.componentTypes.push(b.componentType);const x=function MT(o){return o.isBoundToModule}(b)?void 0:this._injector.get(g1),V=b.create(Ql.NULL,[],u||b.selector,x),q=V.location.nativeElement,oe=V.injector.get(K7,null);return oe?.registerApplication(q),V.onDestroy(()=>{this.detachView(V.hostView),fh(this.components,V),oe?.unregisterApplication(q)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new $e(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;fh(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(X7,[]);u.push(...this._bootstrapListeners),u.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>fh(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new $e(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(a){return new(a||o)(cn(ga),cn(Zl),cn(Vd))},o.\u0275prov=Ae({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function fh(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}function sv(){return!1}let AT=(()=>{class o{}return o.__NG_ELEMENT_ID__=PT,o})();function PT(o){return function kT(o,s,a){if(ui(o)&&!a){const u=Xr(o.index,s);return new Bd(u,u)}return 47&o.type?new Bd(s[at],s):null}(ie(),v(),16==(16&o))}class H6{constructor(){}supports(s){return W4(s)}create(s){return new B6(s)}}const dv=(o,s)=>s;class B6{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||dv}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,p=null;for(;a||u;){const b=!u||a&&a.currentIndex<j6(u,d,p)?a:u,x=j6(b,d,p),k=b.currentIndex;if(b===u)d--,u=u._nextRemoved;else if(a=a._next,null==b.previousIndex)d++;else{p||(p=[]);const V=x-d,q=k-d;if(V!=q){for(let Ee=0;Ee<V;Ee++){const Ge=Ee<p.length?p[Ee]:p[Ee]=0,ht=Ge+Ee;q<=ht&&ht<V&&(p[Ee]=Ge+1)}p[b.previousIndex]=q-V}}x!==k&&s(b,x,k)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!W4(s))throw new $e(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,b,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let x=0;x<this.length;x++)p=s[x],b=this._trackByFn(x,p),null!==a&&Object.is(a.trackById,b)?(u&&(a=this._verifyReinsertion(a,p,b,x)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,b,x),u=!0),a=a._next}else d=0,function Yb(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,x=>{b=this._trackByFn(d,x),null!==a&&Object.is(a.trackById,b)?(u&&(a=this._verifyReinsertion(a,x,b,d)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,b,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new hv(a,u),p,d),s}_verifyReinsertion(s,a,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Y6),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Y6),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class hv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U6{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Y6{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new U6,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function j6(o,s,a){const u=o.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class kc{constructor(){}supports(s){return s instanceof Map||d8(s)}create(){return new $6}}class $6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||d8(s)))throw new $e(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,b=d._next;return p&&(p._next=b),b&&(b._prev=p),d._next=null,d._prev=null,d}const u=new G6(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class G6{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fv(){return new W6([new H6])}let W6=(()=>{class o{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||fv()),deps:[[o,new Ec,new Aa]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new $e(901,!1)}}return o.\u0275prov=Ae({token:o,providedIn:"root",factory:fv}),o})();function K6(){return new x2([new kc])}let x2=(()=>{class o{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||K6()),deps:[[o,new Ec,new Aa]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new $e(901,!1)}}return o.\u0275prov=Ae({token:o,providedIn:"root",factory:K6}),o})();const VT=T2(null,"core",[]);let HT=(()=>{class o{constructor(a){}}return o.\u0275fac=function(a){return new(a||o)(cn(hh))},o.\u0275mod=xe({type:o}),o.\u0275inj=gn({}),o})();function gv(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},433:(At,He,N)=>{N.d(He,{u5:()=>Ns,UX:()=>Ta});var m=N(4650);N(6895),N(8996),N(9751),N(4742),N(8421),N(3269),N(5403),N(3268),N(1810),N(4004);const tn=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Oe}),Oe="always";let ui=(()=>{class v{}return v.\u0275fac=function(E){return new(E||v)},v.\u0275mod=m.oAB({type:v}),v.\u0275inj=m.cJS({}),v})();const Ji=new m.OlP("NgModelWithFormControlWarning");let uo=(()=>{class v{}return v.\u0275fac=function(E){return new(E||v)},v.\u0275mod=m.oAB({type:v}),v.\u0275inj=m.cJS({imports:[ui]}),v})(),Ns=(()=>{class v{static withConfig(E){return{ngModule:v,providers:[{provide:tn,useValue:E.callSetDisabledState??Oe}]}}}return v.\u0275fac=function(E){return new(E||v)},v.\u0275mod=m.oAB({type:v}),v.\u0275inj=m.cJS({imports:[uo]}),v})(),Ta=(()=>{class v{static withConfig(E){return{ngModule:v,providers:[{provide:Ji,useValue:E.warnOnNgModelWithFormControl??"always"},{provide:tn,useValue:E.callSetDisabledState??Oe}]}}}return v.\u0275fac=function(E){return new(E||v)},v.\u0275mod=m.oAB({type:v}),v.\u0275inj=m.cJS({imports:[uo]}),v})()},1481:(At,He,N)=>{N.d(He,{Dx:()=>vn,H7:()=>Q,b2:()=>dr,q6:()=>cr,se:()=>Tt});var m=N(6895),B=N(4650);class C extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends C{static makeCurrent(){(0,m.HT)(new pe)}onAndCancel(j,Y,ne){return j.addEventListener(Y,ne,!1),()=>{j.removeEventListener(Y,ne,!1)}}dispatchEvent(j,Y){j.dispatchEvent(Y)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,Y){return(Y=Y||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,Y){return"window"===Y?window:"document"===Y?j:"body"===Y?j.body:null}getBaseHref(j){const Y=function Se(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==Y?null:function De(re){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",re);const j=Pe.pathname;return"/"===j.charAt(0)?j:`/${j}`}(Y)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,m.Mx)(document.cookie,j)}}let Pe,ve=null;const Fe=new B.OlP("TRANSITION_ID"),ce=[{provide:B.ip1,useFactory:function ue(re,j,Y){return()=>{Y.get(B.CZH).donePromise.then(()=>{const ne=(0,m.q)(),ge=j.querySelectorAll(`style[ng-transition="${re}"]`);for(let Me=0;Me<ge.length;Me++)ne.remove(ge[Me])})}},deps:[Fe,m.K0,B.zs3],multi:!0}];let Ue=(()=>{class re{build(){return new XMLHttpRequest}}return re.\u0275fac=function(Y){return new(Y||re)},re.\u0275prov=B.Yz7({token:re,factory:re.\u0275fac}),re})();const Ye=new B.OlP("EventManagerPlugins");let Je=(()=>{class re{constructor(Y,ne){this._zone=ne,this._eventNameToPlugin=new Map,Y.forEach(ge=>{ge.manager=this}),this._plugins=Y.slice().reverse()}addEventListener(Y,ne,ge){return this._findPluginFor(ne).addEventListener(Y,ne,ge)}addGlobalEventListener(Y,ne,ge){return this._findPluginFor(ne).addGlobalEventListener(Y,ne,ge)}getZone(){return this._zone}_findPluginFor(Y){const ne=this._eventNameToPlugin.get(Y);if(ne)return ne;const ge=this._plugins;for(let Me=0;Me<ge.length;Me++){const ot=ge[Me];if(ot.supports(Y))return this._eventNameToPlugin.set(Y,ot),ot}throw new Error(`No event manager plugin found for event ${Y}`)}}return re.\u0275fac=function(Y){return new(Y||re)(B.LFG(Ye),B.LFG(B.R0b))},re.\u0275prov=B.Yz7({token:re,factory:re.\u0275fac}),re})();class Ct{constructor(j){this._doc=j}addGlobalEventListener(j,Y,ne){const ge=(0,m.q)().getGlobalEventTarget(this._doc,j);if(!ge)throw new Error(`Unsupported event target ${ge} for event ${Y}`);return this.addEventListener(ge,Y,ne)}}let $e=(()=>{class re{constructor(){this.usageCount=new Map}addStyles(Y){for(const ne of Y)1===this.changeUsageCount(ne,1)&&this.onStyleAdded(ne)}removeStyles(Y){for(const ne of Y)0===this.changeUsageCount(ne,-1)&&this.onStyleRemoved(ne)}onStyleRemoved(Y){}onStyleAdded(Y){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Y,ne){const ge=this.usageCount;let Me=ge.get(Y)??0;return Me+=ne,Me>0?ge.set(Y,Me):ge.delete(Y),Me}ngOnDestroy(){for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.usageCount.clear()}}return re.\u0275fac=function(Y){return new(Y||re)},re.\u0275prov=B.Yz7({token:re,factory:re.\u0275fac}),re})(),it=(()=>{class re extends $e{constructor(Y){super(),this.doc=Y,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Y){for(const ne of this.hostNodes)this.addStyleToHost(ne,Y)}onStyleRemoved(Y){const ne=this.styleRef;ne.get(Y)?.forEach(Me=>Me.remove()),ne.delete(Y)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Y){this.hostNodes.add(Y);for(const ne of this.getAllStyles())this.addStyleToHost(Y,ne)}removeHost(Y){this.hostNodes.delete(Y)}addStyleToHost(Y,ne){const ge=this.doc.createElement("style");ge.textContent=ne,Y.appendChild(ge);const Me=this.styleRef.get(ne);Me?Me.push(ge):this.styleRef.set(ne,[ge])}resetHostNodes(){const Y=this.hostNodes;Y.clear(),Y.add(this.doc.head)}}return re.\u0275fac=function(Y){return new(Y||re)(B.LFG(m.K0))},re.\u0275prov=B.Yz7({token:re,factory:re.\u0275fac}),re})();const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,ke=new B.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Mt(re,j){return j.flat(100).map(Y=>Y.replace(mt,re))}function Vt(re){return j=>{if("__ngUnwrap__"===j)return re;!1===re(j)&&(j.preventDefault(),j.returnValue=!1)}}let Tt=(()=>{class re{constructor(Y,ne,ge,Me){this.eventManager=Y,this.sharedStylesHost=ne,this.appId=ge,this.removeStylesOnCompDestory=Me,this.rendererByCompId=new Map,this.defaultRenderer=new Zr(Y)}createRenderer(Y,ne){if(!Y||!ne)return this.defaultRenderer;const ge=this.getOrCreateRenderer(Y,ne);return ge instanceof Re?ge.applyToHost(Y):ge instanceof wr&&ge.applyStyles(),ge}getOrCreateRenderer(Y,ne){const ge=this.rendererByCompId;let Me=ge.get(ne.id);if(!Me){const ot=this.eventManager,ft=this.sharedStylesHost,Yt=this.removeStylesOnCompDestory;switch(ne.encapsulation){case B.ifc.Emulated:Me=new Re(ot,ft,ne,this.appId,Yt);break;case B.ifc.ShadowDom:return new jr(ot,ft,Y,ne);default:Me=new wr(ot,ft,ne,Yt)}Me.onDestroy=()=>ge.delete(ne.id),ge.set(ne.id,Me)}return Me}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return re.\u0275fac=function(Y){return new(Y||re)(B.LFG(Je),B.LFG(it),B.LFG(B.AFp),B.LFG(ke))},re.\u0275prov=B.Yz7({token:re,factory:re.\u0275fac}),re})();class Zr{constructor(j){this.eventManager=j,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,Y){return Y?document.createElementNS(ct[Y]||Y,j):document.createElement(j)}createComment(j){return document.createComment(j)}createText(j){return document.createTextNode(j)}appendChild(j,Y){(Lr(j)?j.content:j).appendChild(Y)}insertBefore(j,Y,ne){j&&(Lr(j)?j.content:j).insertBefore(Y,ne)}removeChild(j,Y){j&&j.removeChild(Y)}selectRootElement(j,Y){let ne="string"==typeof j?document.querySelector(j):j;if(!ne)throw new Error(`The selector "${j}" did not match any elements`);return Y||(ne.textContent=""),ne}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,Y,ne,ge){if(ge){Y=ge+":"+Y;const Me=ct[ge];Me?j.setAttributeNS(Me,Y,ne):j.setAttribute(Y,ne)}else j.setAttribute(Y,ne)}removeAttribute(j,Y,ne){if(ne){const ge=ct[ne];ge?j.removeAttributeNS(ge,Y):j.removeAttribute(`${ne}:${Y}`)}else j.removeAttribute(Y)}addClass(j,Y){j.classList.add(Y)}removeClass(j,Y){j.classList.remove(Y)}setStyle(j,Y,ne,ge){ge&(B.JOm.DashCase|B.JOm.Important)?j.style.setProperty(Y,ne,ge&B.JOm.Important?"important":""):j.style[Y]=ne}removeStyle(j,Y,ne){ne&B.JOm.DashCase?j.style.removeProperty(Y):j.style[Y]=""}setProperty(j,Y,ne){j[Y]=ne}setValue(j,Y){j.nodeValue=Y}listen(j,Y,ne){return"string"==typeof j?this.eventManager.addGlobalEventListener(j,Y,Vt(ne)):this.eventManager.addEventListener(j,Y,Vt(ne))}}function Lr(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class jr extends Zr{constructor(j,Y,ne,ge){super(j),this.sharedStylesHost=Y,this.hostEl=ne,this.shadowRoot=ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Me=Mt(ge.id,ge.styles);for(const ot of Me){const ft=document.createElement("style");ft.textContent=ot,this.shadowRoot.appendChild(ft)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,Y){return super.appendChild(this.nodeOrShadowRoot(j),Y)}insertBefore(j,Y,ne){return super.insertBefore(this.nodeOrShadowRoot(j),Y,ne)}removeChild(j,Y){return super.removeChild(this.nodeOrShadowRoot(j),Y)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wr extends Zr{constructor(j,Y,ne,ge,Me=ne.id){super(j),this.sharedStylesHost=Y,this.removeStylesOnCompDestory=ge,this.rendererUsageCount=0,this.styles=Mt(Me,ne.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Re extends wr{constructor(j,Y,ne,ge,Me){const ot=ge+"-"+ne.id;super(j,Y,ne,Me,ot),this.contentAttr=function yt(re){return"_ngcontent-%COMP%".replace(mt,re)}(ot),this.hostAttr=function Ut(re){return"_nghost-%COMP%".replace(mt,re)}(ot)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,Y){const ne=super.createElement(j,Y);return super.setAttribute(ne,this.contentAttr,""),ne}}let _e=(()=>{class re extends Ct{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,ne,ge){return Y.addEventListener(ne,ge,!1),()=>this.removeEventListener(Y,ne,ge)}removeEventListener(Y,ne,ge){return Y.removeEventListener(ne,ge)}}return re.\u0275fac=function(Y){return new(Y||re)(B.LFG(m.K0))},re.\u0275prov=B.Yz7({token:re,factory:re.\u0275fac}),re})();const Ne=["alt","control","meta","shift"],We={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Ae=(()=>{class re extends Ct{constructor(Y){super(Y)}supports(Y){return null!=re.parseEventName(Y)}addEventListener(Y,ne,ge){const Me=re.parseEventName(ne),ot=re.eventCallback(Me.fullKey,ge,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(Y,Me.domEventName,ot))}static parseEventName(Y){const ne=Y.toLowerCase().split("."),ge=ne.shift();if(0===ne.length||"keydown"!==ge&&"keyup"!==ge)return null;const Me=re._normalizeKey(ne.pop());let ot="",ft=ne.indexOf("code");if(ft>-1&&(ne.splice(ft,1),ot="code."),Ne.forEach(tn=>{const Oe=ne.indexOf(tn);Oe>-1&&(ne.splice(Oe,1),ot+=tn+".")}),ot+=Me,0!=ne.length||0===Me.length)return null;const Yt={};return Yt.domEventName=ge,Yt.fullKey=ot,Yt}static matchEventFullKeyCode(Y,ne){let ge=We[Y.key]||Y.key,Me="";return ne.indexOf("code.")>-1&&(ge=Y.code,Me="code."),!(null==ge||!ge)&&(ge=ge.toLowerCase()," "===ge?ge="space":"."===ge&&(ge="dot"),Ne.forEach(ot=>{ot!==ge&&(0,ut[ot])(Y)&&(Me+=ot+".")}),Me+=ge,Me===ne)}static eventCallback(Y,ne,ge){return Me=>{re.matchEventFullKeyCode(Me,Y)&&ge.runGuarded(()=>ne(Me))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}}return re.\u0275fac=function(Y){return new(Y||re)(B.LFG(m.K0))},re.\u0275prov=B.Yz7({token:re,factory:re.\u0275fac}),re})();const cr=(0,B.eFA)(B._c5,"browser",[{provide:B.Lbi,useValue:m.bD},{provide:B.g9A,useValue:function An(){pe.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function Cn(){return(0,B.RDi)(document),document},deps:[]}]),en=new B.OlP(""),Et=[{provide:B.rWj,useClass:class ye{addToWindow(j){B.dqk.getAngularTestability=(ne,ge=!0)=>{const Me=j.findTestabilityInTree(ne,ge);if(null==Me)throw new Error("Could not find testability for element.");return Me},B.dqk.getAllAngularTestabilities=()=>j.getAllTestabilities(),B.dqk.getAllAngularRootElements=()=>j.getAllRootElements(),B.dqk.frameworkStabilizers||(B.dqk.frameworkStabilizers=[]),B.dqk.frameworkStabilizers.push(ne=>{const ge=B.dqk.getAllAngularTestabilities();let Me=ge.length,ot=!1;const ft=function(Yt){ot=ot||Yt,Me--,0==Me&&ne(ot)};ge.forEach(function(Yt){Yt.whenStable(ft)})})}findTestabilityInTree(j,Y,ne){return null==Y?null:j.getTestability(Y)??(ne?(0,m.q)().isShadowRoot(Y)?this.findTestabilityInTree(j,Y.host,!0):this.findTestabilityInTree(j,Y.parentElement,!0):null)}},deps:[]},{provide:B.lri,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]},{provide:B.dDg,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]}],hn=[{provide:B.zSh,useValue:"root"},{provide:B.qLn,useFactory:function qn(){return new B.qLn},deps:[]},{provide:Ye,useClass:_e,multi:!0,deps:[m.K0,B.R0b,B.Lbi]},{provide:Ye,useClass:Ae,multi:!0,deps:[m.K0]},{provide:Tt,useClass:Tt,deps:[Je,it,B.AFp,ke]},{provide:B.FYo,useExisting:Tt},{provide:$e,useExisting:it},{provide:it,useClass:it,deps:[m.K0]},{provide:Je,useClass:Je,deps:[Ye,B.R0b]},{provide:m.JF,useClass:Ue,deps:[]},[]];let dr=(()=>{class re{constructor(Y){}static withServerTransition(Y){return{ngModule:re,providers:[{provide:B.AFp,useValue:Y.appId},{provide:Fe,useExisting:B.AFp},ce]}}}return re.\u0275fac=function(Y){return new(Y||re)(B.LFG(en,12))},re.\u0275mod=B.oAB({type:re}),re.\u0275inj=B.cJS({providers:[...hn,...Et],imports:[m.ez,B.hGG]}),re})(),vn=(()=>{class re{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}}return re.\u0275fac=function(Y){return new(Y||re)(B.LFG(m.K0))},re.\u0275prov=B.Yz7({token:re,factory:function(Y){let ne=null;return ne=Y?new Y:function bn(){return new vn((0,B.LFG)(m.K0))}(),ne},providedIn:"root"}),re})();typeof window<"u"&&window;let Q=(()=>{class re{}return re.\u0275fac=function(Y){return new(Y||re)},re.\u0275prov=B.Yz7({token:re,factory:function(Y){let ne=null;return ne=Y?new(Y||re):B.LFG(W),ne},providedIn:"root"}),re})(),W=(()=>{class re extends Q{constructor(Y){super(),this._doc=Y}sanitize(Y,ne){if(null==ne)return null;switch(Y){case B.q3G.NONE:return ne;case B.q3G.HTML:return(0,B.qzn)(ne,"HTML")?(0,B.z3N)(ne):(0,B.EiD)(this._doc,String(ne)).toString();case B.q3G.STYLE:return(0,B.qzn)(ne,"Style")?(0,B.z3N)(ne):ne;case B.q3G.SCRIPT:if((0,B.qzn)(ne,"Script"))return(0,B.z3N)(ne);throw new Error("unsafe value used in a script context");case B.q3G.URL:return(0,B.qzn)(ne,"URL")?(0,B.z3N)(ne):(0,B.mCW)(String(ne));case B.q3G.RESOURCE_URL:if((0,B.qzn)(ne,"ResourceURL"))return(0,B.z3N)(ne);throw new Error(`unsafe value used in a resource URL context (see ${B.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Y} (see ${B.JZr})`)}}bypassSecurityTrustHtml(Y){return(0,B.JVY)(Y)}bypassSecurityTrustStyle(Y){return(0,B.L6k)(Y)}bypassSecurityTrustScript(Y){return(0,B.eBb)(Y)}bypassSecurityTrustUrl(Y){return(0,B.LAX)(Y)}bypassSecurityTrustResourceUrl(Y){return(0,B.pB0)(Y)}}return re.\u0275fac=function(Y){return new(Y||re)(B.LFG(m.K0))},re.\u0275prov=B.Yz7({token:re,factory:function(Y){let ne=null;return ne=Y?new Y:function ee(re){return new W(re.get(m.K0))}(B.LFG(B.zs3)),ne},providedIn:"root"}),re})()},5137:(At,He,N)=>{N.d(He,{F0:()=>po,Bz:()=>dd,lC:()=>_r});var m=N(4650),B=N(8996),C=N(9646),pe=N(7579);class ve extends pe.x{constructor(D){super(),this._value=D}get value(){return this.getValue()}_subscribe(D){const _=super._subscribe(D);return!_.closed&&D.next(this._value),_}getValue(){const{hasError:D,thrownError:_,_value:z}=this;if(D)throw _;return this._throwIfClosed(),z}next(D){super.next(this._value=D)}}var Se=N(6805),Pe=N(9841),De=N(7272),Fe=N(9751),ue=N(8421);function ce(S){return new Fe.y(D=>{(0,ue.Xf)(S()).subscribe(D)})}var ye=N(9635),Ue=N(576);function Ye(S,D){const _=(0,Ue.m)(S)?S:()=>S,z=F=>F.error(_());return new Fe.y(D?F=>D.schedule(z,0,F):z)}var Je=N(515),Ct=N(727),$e=N(4482),it=N(5403);function ct(){return(0,$e.e)((S,D)=>{let _=null;S._refCount++;const z=(0,it.x)(D,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(_=null);const F=S._connection,G=_;_=null,F&&(!G||F===G)&&F.unsubscribe(),D.unsubscribe()});S.subscribe(z),z.closed||(_=S.connect())})}class mt extends Fe.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,$e.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Ct.w0;const _=this.getSubject();D.add(this.source.subscribe((0,it.x)(_,void 0,()=>{this._teardown(),_.complete()},z=>{this._teardown(),_.error(z)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Ct.w0.EMPTY)}return D}refCount(){return ct()(this)}}var je=N(6895),Le=N(4004),Xe=N(3900),gt=N(5698),tt=N(8675),ke=N(9300),yt=N(5577),Ut=N(590),Mt=N(4351),Vt=N(8505),Tt=N(262),Zr=N(5026);function vr(S){return S<=0?()=>Je.E:(0,$e.e)((D,_)=>{let z=[];D.subscribe((0,it.x)(_,F=>{z.push(F),S<z.length&&z.shift()},()=>{for(const F of z)_.next(F);_.complete()},void 0,()=>{z=null}))})}var zr=N(8068),Lr=N(6590),jr=N(4671);function wr(S,D){const _=arguments.length>=2;return z=>z.pipe(S?(0,ke.h)((F,G)=>S(F,G,z)):jr.y,vr(1),_?(0,Lr.d)(D):(0,zr.T)(()=>new Se.K))}var _e=N(9718),Ne=N(8746),We=N(8189),ut=N(1481);const Ae="primary",_t=Symbol("RouteTitle");class gn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function _n(S){return new gn(S)}function Xt(S,D,_){const z=_.path.split("/");if(z.length>S.length||"full"===_.pathMatch&&(D.hasChildren()||z.length<S.length))return null;const F={};for(let G=0;G<z.length;G++){const J=z[G],ze=S[G];if(J.startsWith(":"))F[J.substring(1)]=ze;else if(J!==ze.path)return null}return{consumed:S.slice(0,z.length),posParams:F}}function An(S,D){const _=S?Object.keys(S):void 0,z=D?Object.keys(D):void 0;if(!_||!z||_.length!=z.length)return!1;let F;for(let G=0;G<_.length;G++)if(F=_[G],!qn(S[F],D[F]))return!1;return!0}function qn(S,D){if(Array.isArray(S)&&Array.isArray(D)){if(S.length!==D.length)return!1;const _=[...S].sort(),z=[...D].sort();return _.every((F,G)=>z[G]===F)}return S===D}function Cn(S){return Array.prototype.concat.apply([],S)}function En(S){return S.length>0?S[S.length-1]:null}function en(S,D){for(const _ in S)S.hasOwnProperty(_)&&D(S[_],_)}function Et(S){return(0,m.CqO)(S)?S:(0,m.QGY)(S)?(0,B.D)(Promise.resolve(S)):(0,C.of)(S)}const hn=!1,dr={exact:function bn(S,D,_){if(!nr(S.segments,D.segments)||!Gn(S.segments,D.segments,_)||S.numberOfChildren!==D.numberOfChildren)return!1;for(const z in D.children)if(!S.children[z]||!bn(S.children[z],D.children[z],_))return!1;return!0},subset:zt},tr={exact:function yr(S,D){return An(S,D)},subset:function vn(S,D){return Object.keys(D).length<=Object.keys(S).length&&Object.keys(D).every(_=>qn(S[_],D[_]))},ignored:()=>!0};function hr(S,D,_){return dr[_.paths](S.root,D.root,_.matrixParams)&&tr[_.queryParams](S.queryParams,D.queryParams)&&!("exact"===_.fragment&&S.fragment!==D.fragment)}function zt(S,D,_){return Ht(S,D,D.segments,_)}function Ht(S,D,_,z){if(S.segments.length>_.length){const F=S.segments.slice(0,_.length);return!(!nr(F,_)||D.hasChildren()||!Gn(F,_,z))}if(S.segments.length===_.length){if(!nr(S.segments,_)||!Gn(S.segments,_,z))return!1;for(const F in D.children)if(!S.children[F]||!zt(S.children[F],D.children[F],z))return!1;return!0}{const F=_.slice(0,S.segments.length),G=_.slice(S.segments.length);return!!(nr(S.segments,F)&&Gn(S.segments,F,z)&&S.children[Ae])&&Ht(S.children[Ae],D,G,z)}}function Gn(S,D,_){return D.every((z,F)=>tr[_](S[F].parameters,z.parameters))}class Tn{constructor(D=new Ot([],{}),_={},z=null){this.root=D,this.queryParams=_,this.fragment=z}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return Rr.serialize(this)}}class Ot{constructor(D,_){this.segments=D,this.children=_,this.parent=null,en(_,(z,F)=>z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cn(this)}}class fr{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}toString(){return he(this)}}function nr(S,D){return S.length===D.length&&S.every((_,z)=>_.path===D[z].path)}let On=(()=>{class S{}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:function(){return new nn},providedIn:"root"}),S})();class nn{parse(D){const _=new ne(D);return new Tn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${rr(D.root,!0)}`,z=function Q(S){const D=Object.keys(S).map(_=>{const z=S[_];return Array.isArray(z)?z.map(F=>`${lr(_)}=${lr(F)}`).join("&"):`${lr(_)}=${lr(z)}`}).filter(_=>!!_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${z}${"string"==typeof D.fragment?`#${function Mr(S){return encodeURI(S)}(D.fragment)}`:""}`}}const Rr=new nn;function cn(S){return S.segments.map(D=>he(D)).join("/")}function rr(S,D){if(!S.hasChildren())return cn(S);if(D){const _=S.children[Ae]?rr(S.children[Ae],!1):"",z=[];return en(S.children,(F,G)=>{G!==Ae&&z.push(`${G}:${rr(F,!1)}`)}),z.length>0?`${_}(${z.join("//")})`:_}{const _=function qt(S,D){let _=[];return en(S.children,(z,F)=>{F===Ae&&(_=_.concat(D(z,F)))}),en(S.children,(z,F)=>{F!==Ae&&(_=_.concat(D(z,F)))}),_}(S,(z,F)=>F===Ae?[rr(S.children[Ae],!1)]:[`${F}:${rr(z,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Ae]?`${cn(S)}/${_[0]}`:`${cn(S)}/(${_.join("//")})`}}function Xn(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lr(S){return Xn(S).replace(/%3B/gi,";")}function Cr(S){return Xn(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rn(S){return decodeURIComponent(S)}function br(S){return rn(S.replace(/\+/g,"%20"))}function he(S){return`${Cr(S.path)}${function ae(S){return Object.keys(S).map(D=>`;${Cr(D)}=${Cr(S[D])}`).join("")}(S.parameters)}`}const ee=/^[^\/()?;=#]+/;function W(S){const D=S.match(ee);return D?D[0]:""}const me=/^[^=?&#]+/,j=/^[^&#]+/;class ne{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let z={};return this.peekStartsWith("(")&&(z=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(z[Ae]=new Ot(D,_)),z}parseSegment(){const D=W(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new m.vHH(4009,hn);return this.capture(D),new fr(rn(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=W(this.remaining);if(!_)return;this.capture(_);let z="";if(this.consumeOptional("=")){const F=W(this.remaining);F&&(z=F,this.capture(z))}D[rn(_)]=rn(z)}parseQueryParam(D){const _=function re(S){const D=S.match(me);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let z="";if(this.consumeOptional("=")){const J=function Y(S){const D=S.match(j);return D?D[0]:""}(this.remaining);J&&(z=J,this.capture(z))}const F=br(_),G=br(z);if(D.hasOwnProperty(F)){let J=D[F];Array.isArray(J)||(J=[J],D[F]=J),J.push(G)}else D[F]=G}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const z=W(this.remaining),F=this.remaining[z.length];if("/"!==F&&")"!==F&&";"!==F)throw new m.vHH(4010,hn);let G;z.indexOf(":")>-1?(G=z.slice(0,z.indexOf(":")),this.capture(G),this.capture(":")):D&&(G=Ae);const J=this.parseChildren();_[G]=1===Object.keys(J).length?J[Ae]:new Ot([],J),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new m.vHH(4011,hn)}}function ge(S){return S.segments.length>0?new Ot([],{[Ae]:S}):S}function Me(S){const D={};for(const z of Object.keys(S.children)){const G=Me(S.children[z]);(G.segments.length>0||G.hasChildren())&&(D[z]=G)}return function ot(S){if(1===S.numberOfChildren&&S.children[Ae]){const D=S.children[Ae];return new Ot(S.segments.concat(D.segments),D.children)}return S}(new Ot(S.segments,D))}function ft(S){return S instanceof Tn}const Yt=!1;function st(S,D,_,z,F){if(0===_.length)return mn(D.root,D.root,D.root,z,F);const G=function Dn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Vn(!0,0,S);let D=0,_=!1;const z=S.reduce((F,G,J)=>{if("object"==typeof G&&null!=G){if(G.outlets){const ze={};return en(G.outlets,(lt,Bt)=>{ze[Bt]="string"==typeof lt?lt.split("/"):lt}),[...F,{outlets:ze}]}if(G.segmentPath)return[...F,G.segmentPath]}return"string"!=typeof G?[...F,G]:0===J?(G.split("/").forEach((ze,lt)=>{0==lt&&"."===ze||(0==lt&&""===ze?_=!0:".."===ze?D++:""!=ze&&F.push(ze))}),F):[...F,G]},[]);return new Vn(_,D,z)}(_);return G.toRoot()?mn(D.root,D.root,new Ot([],{}),z,F):function J(lt){const Bt=function Ar(S,D,_,z){if(S.isAbsolute)return new Mn(D.root,!0,0);if(-1===z)return new Mn(_,_===D.root,0);return function co(S,D,_){let z=S,F=D,G=_;for(;G>F;){if(G-=F,z=z.parent,!z)throw new m.vHH(4005,Yt&&"Invalid number of '../'");F=z.segments.length}return new Mn(z,!1,F-G)}(_,z+(kt(S.commands[0])?0:1),S.numberOfDoubleDots)}(G,D,S.snapshot?._urlSegment,lt),Jt=Bt.processChildren?xt(Bt.segmentGroup,Bt.index,G.commands):Ir(Bt.segmentGroup,Bt.index,G.commands);return mn(D.root,Bt.segmentGroup,Jt,z,F)}(S.snapshot?._lastPathIndex)}function kt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Ft(S){return"object"==typeof S&&null!=S&&S.outlets}function mn(S,D,_,z,F){let J,G={};z&&en(z,(lt,Bt)=>{G[Bt]=Array.isArray(lt)?lt.map(Jt=>`${Jt}`):`${lt}`}),J=S===D?_:jt(S,D,_);const ze=ge(Me(J));return new Tn(ze,G,F)}function jt(S,D,_){const z={};return en(S.children,(F,G)=>{z[G]=F===D?_:jt(F,D,_)}),new Ot(S.segments,z)}class Vn{constructor(D,_,z){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=z,D&&z.length>0&&kt(z[0]))throw new m.vHH(4003,Yt&&"Root segment cannot have matrix parameters");const F=z.find(Ft);if(F&&F!==En(z))throw new m.vHH(4004,Yt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mn{constructor(D,_,z){this.segmentGroup=D,this.processChildren=_,this.index=z}}function Ir(S,D,_){if(S||(S=new Ot([],{})),0===S.segments.length&&S.hasChildren())return xt(S,D,_);const z=function fn(S,D,_){let z=0,F=D;const G={match:!1,pathIndex:0,commandIndex:0};for(;F<S.segments.length;){if(z>=_.length)return G;const J=S.segments[F],ze=_[z];if(Ft(ze))break;const lt=`${ze}`,Bt=z<_.length-1?_[z+1]:null;if(F>0&&void 0===lt)break;if(lt&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!Vr(lt,Bt,J))return G;z+=2}else{if(!Vr(lt,{},J))return G;z++}F++}return{match:!0,pathIndex:F,commandIndex:z}}(S,D,_),F=_.slice(z.commandIndex);if(z.match&&z.pathIndex<S.segments.length){const G=new Ot(S.segments.slice(0,z.pathIndex),{});return G.children[Ae]=new Ot(S.segments.slice(z.pathIndex),S.children),xt(G,0,F)}return z.match&&0===F.length?new Ot(S.segments,{}):z.match&&!S.hasChildren()?sr(S,D,_):z.match?xt(S,0,F):sr(S,D,_)}function xt(S,D,_){if(0===_.length)return new Ot(S.segments,{});{const z=function Yi(S){return Ft(S[0])?S[0].outlets:{[Ae]:S}}(_),F={};if(!z[Ae]&&S.children[Ae]&&1===S.numberOfChildren&&0===S.children[Ae].segments.length){const G=xt(S.children[Ae],D,_);return new Ot(S.segments,G.children)}return en(z,(G,J)=>{"string"==typeof G&&(G=[G]),null!==G&&(F[J]=Ir(S.children[J],D,G))}),en(S.children,(G,J)=>{void 0===z[J]&&(F[J]=G)}),new Ot(S.segments,F)}}function sr(S,D,_){const z=S.segments.slice(0,D);let F=0;for(;F<_.length;){const G=_[F];if(Ft(G)){const lt=Wn(G.outlets);return new Ot(z,lt)}if(0===F&&kt(_[0])){z.push(new fr(S.segments[D].path,si(_[0]))),F++;continue}const J=Ft(G)?G.outlets[Ae]:`${G}`,ze=F<_.length-1?_[F+1]:null;J&&ze&&kt(ze)?(z.push(new fr(J,si(ze))),F+=2):(z.push(new fr(J,{})),F++)}return new Ot(z,{})}function Wn(S){const D={};return en(S,(_,z)=>{"string"==typeof _&&(_=[_]),null!==_&&(D[z]=sr(new Ot([],{}),0,_))}),D}function si(S){const D={};return en(S,(_,z)=>D[z]=`${_}`),D}function Vr(S,D,_){return S==_.path&&An(D,_.parameters)}const ti="imperative";class jn{constructor(D,_){this.id=D,this.url=_}}class Te extends jn{constructor(D,_,z="imperative",F=null){super(D,_),this.type=0,this.navigationTrigger=z,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class we extends jn{constructor(D,_,z){super(D,_),this.urlAfterRedirects=z,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class be extends jn{constructor(D,_,z,F){super(D,_),this.reason=z,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rt extends jn{constructor(D,_,z,F){super(D,_),this.reason=z,this.code=F,this.type=16}}class X extends jn{constructor(D,_,z,F){super(D,_),this.error=z,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class de extends jn{constructor(D,_,z,F){super(D,_),this.urlAfterRedirects=z,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve extends jn{constructor(D,_,z,F){super(D,_),this.urlAfterRedirects=z,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class at extends jn{constructor(D,_,z,F,G){super(D,_),this.urlAfterRedirects=z,this.state=F,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nt extends jn{constructor(D,_,z,F){super(D,_),this.urlAfterRedirects=z,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn extends jn{constructor(D,_,z,F){super(D,_),this.urlAfterRedirects=z,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class In{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xn{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hr{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yi{constructor(D,_,z){this.routerEvent=D,this.position=_,this.anchor=z,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Fi=(()=>{class S{createUrlTree(_,z,F,G,J,ze){return st(_||z.root,F,G,J,ze)}}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac}),S})(),Ks=(()=>{class S{}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:function(D){return Fi.\u0275fac(D)},providedIn:"root"}),S})();class li{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=_i(D,this._root);return _?_.children.map(z=>z.value):[]}firstChild(D){const _=_i(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=xo(D,this._root);return _.length<2?[]:_[_.length-2].children.map(F=>F.value).filter(F=>F!==D)}pathFromRoot(D){return xo(D,this._root).map(_=>_.value)}}function _i(S,D){if(S===D.value)return D;for(const _ of D.children){const z=_i(S,_);if(z)return z}return null}function xo(S,D){if(S===D.value)return[D];for(const _ of D.children){const z=xo(S,_);if(z.length)return z.unshift(D),z}return[]}class ui{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function Li(S){const D={};return S&&S.children.forEach(_=>D[_.value.outlet]=_),D}class Qr extends li{constructor(D,_){super(D),this.snapshot=_,Os(this,D)}toString(){return this.snapshot.toString()}}function ji(S,D){const _=function $o(S,D){const J=new Co([],{},{},"",{},Ae,D,null,S.root,-1,{});return new ws("",new ui(J,[]))}(S,D),z=new ve([new fr("",{})]),F=new ve({}),G=new ve({}),J=new ve({}),ze=new ve(""),lt=new Ji(z,F,J,ze,G,Ae,D,_.root);return lt.snapshot=_.root,new Qr(new ui(lt,[]),_)}class Ji{constructor(D,_,z,F,G,J,ze,lt){this.url=D,this.params=_,this.queryParams=z,this.fragment=F,this.data=G,this.outlet=J,this.component=ze,this.title=this.data?.pipe((0,Le.U)(Bt=>Bt[_t]))??(0,C.of)(void 0),this._futureSnapshot=lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(D=>_n(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(D=>_n(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Di(S,D="emptyOnly"){const _=S.pathFromRoot;let z=0;if("always"!==D)for(z=_.length-1;z>=1;){const F=_[z],G=_[z-1];if(F.routeConfig&&""===F.routeConfig.path)z--;else{if(G.component)break;z--}}return function ai(S){return S.reduce((D,_)=>({params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(z))}class Co{get title(){return this.data?.[_t]}constructor(D,_,z,F,G,J,ze,lt,Bt,Jt,Or){this.url=D,this.params=_,this.queryParams=z,this.fragment=F,this.data=G,this.outlet=J,this.component=ze,this.routeConfig=lt,this._urlSegment=Bt,this._lastPathIndex=Jt,this._resolve=Or}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(z=>z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ws extends li{constructor(D,_){super(_),this.url=D,Os(this,_)}toString(){return qs(this._root)}}function Os(S,D){D.value._routerState=S,D.children.forEach(_=>Os(S,_))}function qs(S){const D=S.children.length>0?` { ${S.children.map(qs).join(", ")} } `:"";return`${S.value}${D}`}function Rs(S){if(S.snapshot){const D=S.snapshot,_=S._futureSnapshot;S.snapshot=_,An(D.queryParams,_.queryParams)||S.queryParams.next(_.queryParams),D.fragment!==_.fragment&&S.fragment.next(_.fragment),An(D.params,_.params)||S.params.next(_.params),function wn(S,D){if(S.length!==D.length)return!1;for(let _=0;_<S.length;++_)if(!An(S[_],D[_]))return!1;return!0}(D.url,_.url)||S.url.next(_.url),An(D.data,_.data)||S.data.next(_.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Go(S,D){const _=An(S.params,D.params)&&function or(S,D){return nr(S,D)&&S.every((_,z)=>An(_.parameters,D[z].parameters))}(S.url,D.url);return _&&!(!S.parent!=!D.parent)&&(!S.parent||Go(S.parent,D.parent))}function bs(S,D,_){if(_&&S.shouldReuseRoute(D.value,_.value.snapshot)){const z=_.value;z._futureSnapshot=D.value;const F=function zo(S,D,_){return D.children.map(z=>{for(const F of _.children)if(S.shouldReuseRoute(z.value,F.value.snapshot))return bs(S,z,F);return bs(S,z)})}(S,D,_);return new ui(z,F)}{if(S.shouldAttach(D.value)){const G=S.retrieve(D.value);if(null!==G){const J=G.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(ze=>bs(S,ze)),J}}const z=function ja(S){return new Ji(new ve(S.url),new ve(S.params),new ve(S.queryParams),new ve(S.fragment),new ve(S.data),S.outlet,S.component,S)}(D.value),F=D.children.map(G=>bs(S,G));return new ui(z,F)}}const Zs="ngNavigationCancelingError";function os(S,D){const{redirectTo:_,navigationBehaviorOptions:z}=ft(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,F=ss(!1,0,D);return F.url=_,F.navigationBehaviorOptions=z,F}function ss(S,D,_){const z=new Error("NavigationCancelingError: "+(S||""));return z[Zs]=!0,z.cancellationCode=D,_&&(z.url=_),z}function aa(S){return $r(S)&&ft(S.url)}function $r(S){return S&&S[Zs]}class di{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bi,this.attachRef=null}}let bi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(_,z){const F=this.getOrCreateContext(_);F.outlet=z,this.contexts.set(_,F)}onChildOutletDestroyed(_){const z=this.getContext(_);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let z=this.getContext(_);return z||(z=new di,this.contexts.set(_,z)),z}getContext(_){return this.contexts.get(_)||null}}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const eo=!1;let _r=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(bi),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb)}ngOnChanges(_){if(_.name){const{firstChange:z,previousValue:F}=_.name;if(z)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,eo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,eo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,eo);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,z){this.activated=_,this._activatedRoute=z,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,z){if(this.isActivated)throw new m.vHH(4013,eo);this._activatedRoute=_;const F=this.location,J=_.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,lt=new as(_,ze,F.injector);if(z&&function Wo(S){return!!S.resolveComponentFactory}(z)){const Bt=z.resolveComponentFactory(J);this.activated=F.createComponent(Bt,F.length,lt)}else this.activated=F.createComponent(J,{index:F.length,injector:lt,environmentInjector:z??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(_){return new(_||S)},S.\u0275dir=m.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]}),S})();class as{constructor(D,_,z){this.route=D,this.childContexts=_,this.parent=z}get(D,_){return D===Ji?this.route:D===bi?this.childContexts:this.parent.get(D,_)}}let hi=(()=>{class S{}return S.\u0275fac=function(_){return new(_||S)},S.\u0275cmp=m.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(_,z){1&_&&m._UZ(0,"router-outlet")},dependencies:[_r],encapsulation:2}),S})();function bo(S,D){return S.providers&&!S._injector&&(S._injector=(0,m.MMx)(S.providers,D,`Route: ${S.path}`)),S._injector??D}function $i(S){const D=S.children&&S.children.map($i),_=D?{...S,children:D}:{...S};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==Ae&&(_.component=hi),_}function ri(S){return S.outlet||Ae}function Wr(S,D){const _=S.filter(z=>ri(z)===D);return _.push(...S.filter(z=>ri(z)!==D)),_}function lo(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let D=S.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class Ao{constructor(D,_,z,F){this.routeReuseStrategy=D,this.futureState=_,this.currState=z,this.forwardEvent=F}activate(D){const _=this.futureState._root,z=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,z,D),Rs(this.futureState.root),this.activateChildRoutes(_,z,D)}deactivateChildRoutes(D,_,z){const F=Li(_);D.children.forEach(G=>{const J=G.value.outlet;this.deactivateRoutes(G,F[J],z),delete F[J]}),en(F,(G,J)=>{this.deactivateRouteAndItsChildren(G,z)})}deactivateRoutes(D,_,z){const F=D.value,G=_?_.value:null;if(F===G)if(F.component){const J=z.getContext(F.outlet);J&&this.deactivateChildRoutes(D,_,J.children)}else this.deactivateChildRoutes(D,_,z);else G&&this.deactivateRouteAndItsChildren(_,z)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const z=_.getContext(D.value.outlet),F=z&&D.value.component?z.children:_,G=Li(D);for(const J of Object.keys(G))this.deactivateRouteAndItsChildren(G[J],F);if(z&&z.outlet){const J=z.outlet.detach(),ze=z.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:ze})}}deactivateRouteAndOutlet(D,_){const z=_.getContext(D.value.outlet),F=z&&D.value.component?z.children:_,G=Li(D);for(const J of Object.keys(G))this.deactivateRouteAndItsChildren(G[J],F);z&&(z.outlet&&(z.outlet.deactivate(),z.children.onOutletDeactivated()),z.attachRef=null,z.resolver=null,z.route=null)}activateChildRoutes(D,_,z){const F=Li(_);D.children.forEach(G=>{this.activateRoutes(G,F[G.value.outlet],z),this.forwardEvent(new ks(G.value.snapshot))}),D.children.length&&this.forwardEvent(new Pn(D.value.snapshot))}activateRoutes(D,_,z){const F=D.value,G=_?_.value:null;if(Rs(F),F===G)if(F.component){const J=z.getOrCreateContext(F.outlet);this.activateChildRoutes(D,_,J.children)}else this.activateChildRoutes(D,_,z);else if(F.component){const J=z.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const ze=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),J.children.onOutletReAttached(ze.contexts),J.attachRef=ze.componentRef,J.route=ze.route.value,J.outlet&&J.outlet.attach(ze.componentRef,ze.route.value),Rs(ze.route.value),this.activateChildRoutes(D,null,J.children)}else{const ze=lo(F.snapshot),lt=ze?.get(m._Vd)??null;J.attachRef=null,J.route=F,J.resolver=lt,J.injector=ze,J.outlet&&J.outlet.activateWith(F,J.injector),this.activateChildRoutes(D,null,J.children)}}else this.activateChildRoutes(D,null,z)}}class Xr{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Er{constructor(D,_){this.component=D,this.route=_}}function Po(S,D,_){const z=S._root;return uo(z,D?D._root:null,_,[z.value])}function fi(S,D){const _=Symbol(),z=D.get(S,_);return z===_?"function"!=typeof S||(0,m.Z0I)(S)?D.get(S):S:z}function uo(S,D,_,z,F={canDeactivateChecks:[],canActivateChecks:[]}){const G=Li(D);return S.children.forEach(J=>{(function ko(S,D,_,z,F={canDeactivateChecks:[],canActivateChecks:[]}){const G=S.value,J=D?D.value:null,ze=_?_.getContext(S.value.outlet):null;if(J&&G.routeConfig===J.routeConfig){const lt=function ln(S,D,_){if("function"==typeof _)return _(S,D);switch(_){case"pathParamsChange":return!nr(S.url,D.url);case"pathParamsOrQueryParamsChange":return!nr(S.url,D.url)||!An(S.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Go(S,D)||!An(S.queryParams,D.queryParams);default:return!Go(S,D)}}(J,G,G.routeConfig.runGuardsAndResolvers);lt?F.canActivateChecks.push(new Xr(z)):(G.data=J.data,G._resolvedData=J._resolvedData),uo(S,D,G.component?ze?ze.children:null:_,z,F),lt&&ze&&ze.outlet&&ze.outlet.isActivated&&F.canDeactivateChecks.push(new Er(ze.outlet.component,J))}else J&&To(D,ze,F),F.canActivateChecks.push(new Xr(z)),uo(S,null,G.component?ze?ze.children:null:_,z,F)})(J,G[J.value.outlet],_,z.concat([J.value]),F),delete G[J.value.outlet]}),en(G,(J,ze)=>To(J,_.getContext(ze),F)),F}function To(S,D,_){const z=Li(S),F=S.value;en(z,(G,J)=>{To(G,F.component?D?D.children.getContext(J):null:D,_)}),_.canDeactivateChecks.push(new Er(F.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,F))}function ho(S){return"function"==typeof S}function E(S){return S instanceof Se.K||"EmptyError"===S?.name}const L=Symbol("INITIAL_VALUE");function ie(){return(0,Xe.w)(S=>(0,Pe.a)(S.map(D=>D.pipe((0,gt.q)(1),(0,tt.O)(L)))).pipe((0,Le.U)(D=>{for(const _ of D)if(!0!==_){if(_===L)return L;if(!1===_||_ instanceof Tn)return _}return!0}),(0,ke.h)(D=>D!==L),(0,gt.q)(1)))}function wi(S){return(0,ye.z)((0,Vt.b)(D=>{if(ft(D))throw os(0,D)}),(0,Le.U)(D=>!0===D))}const Wi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ci(S,D,_,z,F){const G=to(S,D,_);return G.matched?function Ro(S,D,_,z){const F=D.canMatch;if(!F||0===F.length)return(0,C.of)(!0);const G=F.map(J=>{const ze=fi(J,S);return Et(function Ta(S){return S&&ho(S.canMatch)}(ze)?ze.canMatch(D,_):S.runInContext(()=>ze(D,_)))});return(0,C.of)(G).pipe(ie(),wi())}(z=bo(D,z),D,_).pipe((0,Le.U)(J=>!0===J?G:{...Wi})):(0,C.of)(G)}function to(S,D,_){if(""===D.path)return"full"===D.pathMatch&&(S.hasChildren()||_.length>0)?{...Wi}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const F=(D.matcher||Xt)(_,S,D);if(!F)return{...Wi};const G={};en(F.posParams,(ze,lt)=>{G[lt]=ze.path});const J=F.consumed.length>0?{...G,...F.consumed[F.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:F.consumed,remainingSegments:_.slice(F.consumed.length),parameters:J,positionalParamSegments:F.posParams??{}}}function No(S,D,_,z){if(_.length>0&&function Kr(S,D,_){return _.some(z=>Xs(S,D,z)&&ri(z)!==Ae)}(S,_,z)){const G=new Ot(D,function xu(S,D,_,z){const F={};F[Ae]=z,z._sourceSegment=S,z._segmentIndexShift=D.length;for(const G of _)if(""===G.path&&ri(G)!==Ae){const J=new Ot([],{});J._sourceSegment=S,J._segmentIndexShift=D.length,F[ri(G)]=J}return F}(S,D,z,new Ot(_,S.children)));return G._sourceSegment=S,G._segmentIndexShift=D.length,{segmentGroup:G,slicedSegments:[]}}if(0===_.length&&function cs(S,D,_){return _.some(z=>Xs(S,D,z))}(S,_,z)){const G=new Ot(S.segments,function xl(S,D,_,z,F){const G={};for(const J of z)if(Xs(S,_,J)&&!F[ri(J)]){const ze=new Ot([],{});ze._sourceSegment=S,ze._segmentIndexShift=D.length,G[ri(J)]=ze}return{...F,...G}}(S,D,_,z,S.children));return G._sourceSegment=S,G._segmentIndexShift=D.length,{segmentGroup:G,slicedSegments:_}}const F=new Ot(S.segments,S.children);return F._sourceSegment=S,F._segmentIndexShift=D.length,{segmentGroup:F,slicedSegments:_}}function Xs(S,D,_){return(!(S.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}function hc(S,D,_,z){return!!(ri(S)===z||z!==Ae&&Xs(D,_,S))&&("**"===S.path||to(D,S,_).matched)}function Da(S,D,_){return 0===D.length&&!S.children[_]}const Ma=!1;class Js{constructor(D){this.segmentGroup=D||null}}class qc{constructor(D){this.urlTree=D}}function ea(S){return Ye(new Js(S))}function Zc(S){return Ye(new qc(S))}class zu{constructor(D,_,z,F,G){this.injector=D,this.configLoader=_,this.urlSerializer=z,this.urlTree=F,this.config=G,this.allowRedirects=!0}apply(){const D=No(this.urlTree.root,[],[],this.config).segmentGroup,_=new Ot(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,_,Ae).pipe((0,Le.U)(G=>this.createUrlTree(Me(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Tt.K)(G=>{if(G instanceof qc)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof Js?this.noMatchError(G):G}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,Ae).pipe((0,Le.U)(F=>this.createUrlTree(Me(F),D.queryParams,D.fragment))).pipe((0,Tt.K)(F=>{throw F instanceof Js?this.noMatchError(F):F}))}noMatchError(D){return new m.vHH(4002,Ma)}createUrlTree(D,_,z){const F=ge(D);return new Tn(F,_,z)}expandSegmentGroup(D,_,z,F){return 0===z.segments.length&&z.hasChildren()?this.expandChildren(D,_,z).pipe((0,Le.U)(G=>new Ot([],G))):this.expandSegment(D,z,_,z.segments,F,!0)}expandChildren(D,_,z){const F=[];for(const G of Object.keys(z.children))"primary"===G?F.unshift(G):F.push(G);return(0,B.D)(F).pipe((0,Mt.b)(G=>{const J=z.children[G],ze=Wr(_,G);return this.expandSegmentGroup(D,ze,J,G).pipe((0,Le.U)(lt=>({segment:lt,outlet:G})))}),(0,Zr.R)((G,J)=>(G[J.outlet]=J.segment,G),{}),wr())}expandSegment(D,_,z,F,G,J){return(0,B.D)(z).pipe((0,Mt.b)(ze=>this.expandSegmentAgainstRoute(D,_,z,ze,F,G,J).pipe((0,Tt.K)(Bt=>{if(Bt instanceof Js)return(0,C.of)(null);throw Bt}))),(0,Ut.P)(ze=>!!ze),(0,Tt.K)((ze,lt)=>{if(E(ze))return Da(_,F,G)?(0,C.of)(new Ot([],{})):ea(_);throw ze}))}expandSegmentAgainstRoute(D,_,z,F,G,J,ze){return hc(F,_,G,J)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(D,_,F,G,J):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,_,z,F,G,J):ea(_):ea(_)}expandSegmentAgainstRouteUsingRedirect(D,_,z,F,G,J){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,z,F,J):this.expandRegularSegmentAgainstRouteUsingRedirect(D,_,z,F,G,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,_,z,F){const G=this.applyRedirectCommands([],z.redirectTo,{});return z.redirectTo.startsWith("/")?Zc(G):this.lineralizeSegments(z,G).pipe((0,yt.z)(J=>{const ze=new Ot(J,{});return this.expandSegment(D,ze,_,J,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,_,z,F,G,J){const{matched:ze,consumedSegments:lt,remainingSegments:Bt,positionalParamSegments:Jt}=to(_,F,G);if(!ze)return ea(_);const Or=this.applyRedirectCommands(lt,F.redirectTo,Jt);return F.redirectTo.startsWith("/")?Zc(Or):this.lineralizeSegments(F,Or).pipe((0,yt.z)(qi=>this.expandSegment(D,_,z,qi.concat(Bt),J,!1)))}matchSegmentAgainstRoute(D,_,z,F,G){return"**"===z.path?(D=bo(z,D),z.loadChildren?(z._loadedRoutes?(0,C.of)({routes:z._loadedRoutes,injector:z._loadedInjector}):this.configLoader.loadChildren(D,z)).pipe((0,Le.U)(ze=>(z._loadedRoutes=ze.routes,z._loadedInjector=ze.injector,new Ot(F,{})))):(0,C.of)(new Ot(F,{}))):ci(_,z,F,D).pipe((0,Xe.w)(({matched:J,consumedSegments:ze,remainingSegments:lt})=>J?this.getChildConfig(D=z._injector??D,z,F).pipe((0,yt.z)(Jt=>{const Or=Jt.injector??D,qi=Jt.routes,{segmentGroup:Vs,slicedSegments:Hs}=No(_,ze,lt,qi),za=new Ot(Vs.segments,Vs.children);if(0===Hs.length&&za.hasChildren())return this.expandChildren(Or,qi,za).pipe((0,Le.U)(Aa=>new Ot(ze,Aa)));if(0===qi.length&&0===Hs.length)return(0,C.of)(new Ot(ze,{}));const Xo=ri(z)===G;return this.expandSegment(Or,za,qi,Hs,Xo?Ae:G,!0).pipe((0,Le.U)(tc=>new Ot(ze.concat(tc.segments),tc.children)))})):ea(_)))}getChildConfig(D,_,z){return _.children?(0,C.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,C.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Br(S,D,_,z){const F=D.canLoad;if(void 0===F||0===F.length)return(0,C.of)(!0);const G=F.map(J=>{const ze=fi(J,S);return Et(function Ea(S){return S&&ho(S.canLoad)}(ze)?ze.canLoad(D,_):S.runInContext(()=>ze(D,_)))});return(0,C.of)(G).pipe(ie(),wi())}(D,_,z).pipe((0,yt.z)(F=>F?this.configLoader.loadChildren(D,_).pipe((0,Vt.b)(G=>{_._loadedRoutes=G.routes,_._loadedInjector=G.injector})):function pc(S){return Ye(ss(Ma,3))}())):(0,C.of)({routes:[],injector:D})}lineralizeSegments(D,_){let z=[],F=_.root;for(;;){if(z=z.concat(F.segments),0===F.numberOfChildren)return(0,C.of)(z);if(F.numberOfChildren>1||!F.children[Ae])return D.redirectTo,Ye(new m.vHH(4e3,Ma));F=F.children[Ae]}}applyRedirectCommands(D,_,z){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,z)}applyRedirectCreateUrlTree(D,_,z,F){const G=this.createSegmentGroup(D,_.root,z,F);return new Tn(G,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const z={};return en(D,(F,G)=>{if("string"==typeof F&&F.startsWith(":")){const ze=F.substring(1);z[G]=_[ze]}else z[G]=F}),z}createSegmentGroup(D,_,z,F){const G=this.createSegments(D,_.segments,z,F);let J={};return en(_.children,(ze,lt)=>{J[lt]=this.createSegmentGroup(D,ze,z,F)}),new Ot(G,J)}createSegments(D,_,z,F){return _.map(G=>G.path.startsWith(":")?this.findPosParam(D,G,F):this.findOrReturn(G,z))}findPosParam(D,_,z){const F=z[_.path.substring(1)];if(!F)throw new m.vHH(4001,Ma);return F}findOrReturn(D,_){let z=0;for(const F of _){if(F.path===D.path)return _.splice(z),F;z++}return D}}class Jr{}class Zo{constructor(D,_,z,F,G,J,ze){this.injector=D,this.rootComponentType=_,this.config=z,this.urlTree=F,this.url=G,this.paramsInheritanceStrategy=J,this.urlSerializer=ze}recognize(){const D=No(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Ae).pipe((0,Le.U)(_=>{if(null===_)return null;const z=new Co([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ae,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new ui(z,_),G=new ws(this.url,F);return this.inheritParamsAndData(G._root),G}))}inheritParamsAndData(D){const _=D.value,z=Di(_,this.paramsInheritanceStrategy);_.params=Object.freeze(z.params),_.data=Object.freeze(z.data),D.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(D,_,z,F){return 0===z.segments.length&&z.hasChildren()?this.processChildren(D,_,z):this.processSegment(D,_,z,z.segments,F)}processChildren(D,_,z){return(0,B.D)(Object.keys(z.children)).pipe((0,Mt.b)(F=>{const G=z.children[F],J=Wr(_,F);return this.processSegmentGroup(D,J,G,F)}),(0,Zr.R)((F,G)=>F&&G?(F.push(...G),F):null),function Re(S,D=!1){return(0,$e.e)((_,z)=>{let F=0;_.subscribe((0,it.x)(z,G=>{const J=S(G,F++);(J||D)&&z.next(G),!J&&z.complete()}))})}(F=>null!==F),(0,Lr.d)(null),wr(),(0,Le.U)(F=>{if(null===F)return null;const G=ta(F);return function zl(S){S.sort((D,_)=>D.value.outlet===Ae?-1:_.value.outlet===Ae?1:D.value.outlet.localeCompare(_.value.outlet))}(G),G}))}processSegment(D,_,z,F,G){return(0,B.D)(_).pipe((0,Mt.b)(J=>this.processSegmentAgainstRoute(J._injector??D,J,z,F,G)),(0,Ut.P)(J=>!!J),(0,Tt.K)(J=>{if(E(J))return Da(z,F,G)?(0,C.of)([]):(0,C.of)(null);throw J}))}processSegmentAgainstRoute(D,_,z,F,G){if(_.redirectTo||!hc(_,z,F,G))return(0,C.of)(null);let J;if("**"===_.path){const ze=F.length>0?En(F).parameters:{},lt=P(z)+F.length,Bt=new Co(F,ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(_),ri(_),_.component??_._loadedComponent??null,_,Ga(z),lt,K(_));J=(0,C.of)({snapshot:Bt,consumedSegments:[],remainingSegments:[]})}else J=ci(z,_,F,D).pipe((0,Le.U)(({matched:ze,consumedSegments:lt,remainingSegments:Bt,parameters:Jt})=>{if(!ze)return null;const Or=P(z)+lt.length;return{snapshot:new Co(lt,Jt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(_),ri(_),_.component??_._loadedComponent??null,_,Ga(z),Or,K(_)),consumedSegments:lt,remainingSegments:Bt}}));return J.pipe((0,Xe.w)(ze=>{if(null===ze)return(0,C.of)(null);const{snapshot:lt,consumedSegments:Bt,remainingSegments:Jt}=ze;D=_._injector??D;const Or=_._loadedInjector??D,qi=function Al(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(_),{segmentGroup:Vs,slicedSegments:Hs}=No(z,Bt,Jt,qi.filter(Xo=>void 0===Xo.redirectTo));if(0===Hs.length&&Vs.hasChildren())return this.processChildren(Or,qi,Vs).pipe((0,Le.U)(Xo=>null===Xo?null:[new ui(lt,Xo)]));if(0===qi.length&&0===Hs.length)return(0,C.of)([new ui(lt,[])]);const za=ri(_)===G;return this.processSegment(Or,qi,Vs,Hs,za?Ae:G).pipe((0,Le.U)(Xo=>null===Xo?null:[new ui(lt,Xo)]))}))}}function Qc(S){const D=S.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function ta(S){const D=[],_=new Set;for(const z of S){if(!Qc(z)){D.push(z);continue}const F=D.find(G=>z.value.routeConfig===G.value.routeConfig);void 0!==F?(F.children.push(...z.children),_.add(F)):D.push(z)}for(const z of _){const F=ta(z.children);D.push(new ui(z.value,F))}return D.filter(z=>!_.has(z))}function Ga(S){let D=S;for(;D._sourceSegment;)D=D._sourceSegment;return D}function P(S){let D=S,_=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,_+=D._segmentIndexShift??0;return _-1}function O(S){return S.data||{}}function K(S){return S.resolve||{}}function mr(S){return"string"==typeof S.title||null===S.title}function Kn(S){return(0,Xe.w)(D=>{const _=S(D);return _?(0,B.D)(_).pipe((0,Le.U)(()=>D)):(0,C.of)(D)})}const gr=new m.OlP("ROUTES");let vi=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,C.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const z=Et(_.loadComponent()).pipe((0,Le.U)(fo),(0,Vt.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=G}),(0,Ne.x)(()=>{this.componentLoaders.delete(_)})),F=new mt(z,()=>new pe.x).pipe(ct());return this.componentLoaders.set(_,F),F}loadChildren(_,z){if(this.childrenLoaders.get(z))return this.childrenLoaders.get(z);if(z._loadedRoutes)return(0,C.of)({routes:z._loadedRoutes,injector:z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(z);const G=this.loadModuleFactoryOrRoutes(z.loadChildren).pipe((0,Le.U)(ze=>{this.onLoadEndListener&&this.onLoadEndListener(z);let lt,Bt,Jt=!1;Array.isArray(ze)?Bt=ze:(lt=ze.create(_).injector,Bt=Cn(lt.get(gr,[],m.XFs.Self|m.XFs.Optional)));return{routes:Bt.map($i),injector:lt}}),(0,Ne.x)(()=>{this.childrenLoaders.delete(z)})),J=new mt(G,()=>new pe.x).pipe(ct());return this.childrenLoaders.set(z,J),J}loadModuleFactoryOrRoutes(_){return Et(_()).pipe((0,Le.U)(fo),(0,yt.z)(z=>z instanceof m.YKP||Array.isArray(z)?(0,C.of)(z):(0,B.D)(this.compiler.compileModuleAsync(z))))}}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function fo(S){return function us(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Vi=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pe.x,this.configLoader=(0,m.f3M)(vi),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(On),this.rootContexts=(0,m.f3M)(bi),this.navigationId=0,this.afterPreactivation=()=>(0,C.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new xn(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new In(F))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const z=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:z})}setupNavigations(_){return this.transitions=new ve({id:0,targetPageId:0,currentUrlTree:_.currentUrlTree,currentRawUrl:_.currentUrlTree,extractedUrl:_.urlHandlingStrategy.extract(_.currentUrlTree),urlAfterRedirects:_.urlHandlingStrategy.extract(_.currentUrlTree),rawUrl:_.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ti,restoredState:null,currentSnapshot:_.routerState.snapshot,targetSnapshot:null,currentRouterState:_.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.h)(z=>0!==z.id),(0,Le.U)(z=>({...z,extractedUrl:_.urlHandlingStrategy.extract(z.rawUrl)})),(0,Xe.w)(z=>{let F=!1,G=!1;return(0,C.of)(z).pipe((0,Vt.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Xe.w)(J=>{const ze=_.browserUrlTree.toString(),lt=!_.navigated||J.extractedUrl.toString()!==ze||ze!==_.currentUrlTree.toString();if(!lt&&"reload"!==(J.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Jt="";return this.events.next(new rt(J.id,_.serializeUrl(z.rawUrl),Jt,0)),_.rawUrlTree=J.rawUrl,J.resolve(null),Je.E}if(_.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Qo(J.source)&&(_.browserUrlTree=J.extractedUrl),(0,C.of)(J).pipe((0,Xe.w)(Jt=>{const Or=this.transitions?.getValue();return this.events.next(new Te(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),Jt.source,Jt.restoredState)),Or!==this.transitions?.getValue()?Je.E:Promise.resolve(Jt)}),function Ki(S,D,_,z){return(0,Xe.w)(F=>function mc(S,D,_,z,F){return new zu(S,D,_,z,F).apply()}(S,D,_,F.extractedUrl,z).pipe((0,Le.U)(G=>({...F,urlAfterRedirects:G}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,_.config),(0,Vt.b)(Jt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Jt.urlAfterRedirects},z.urlAfterRedirects=Jt.urlAfterRedirects}),function le(S,D,_,z,F){return(0,yt.z)(G=>function Fs(S,D,_,z,F,G,J="emptyOnly"){return new Zo(S,D,_,z,F,J,G).recognize().pipe((0,Xe.w)(ze=>null===ze?function gc(S){return new Fe.y(D=>D.error(S))}(new Jr):(0,C.of)(ze)))}(S,D,_,G.urlAfterRedirects,z.serialize(G.urlAfterRedirects),z,F).pipe((0,Le.U)(J=>({...G,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,Vt.b)(Jt=>{if(z.targetSnapshot=Jt.targetSnapshot,"eager"===_.urlUpdateStrategy){if(!Jt.extras.skipLocationChange){const qi=_.urlHandlingStrategy.merge(Jt.urlAfterRedirects,Jt.rawUrl);_.setBrowserUrl(qi,Jt)}_.browserUrlTree=Jt.urlAfterRedirects}const Or=new de(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),this.urlSerializer.serialize(Jt.urlAfterRedirects),Jt.targetSnapshot);this.events.next(Or)}));if(lt&&_.urlHandlingStrategy.shouldProcessUrl(_.rawUrlTree)){const{id:Jt,extractedUrl:Or,source:qi,restoredState:Vs,extras:Hs}=J,za=new Te(Jt,this.urlSerializer.serialize(Or),qi,Vs);this.events.next(za);const Xo=ji(Or,this.rootComponentType).snapshot;return z={...J,targetSnapshot:Xo,urlAfterRedirects:Or,extras:{...Hs,skipLocationChange:!1,replaceUrl:!1}},(0,C.of)(z)}{const Jt="";return this.events.next(new rt(J.id,_.serializeUrl(z.extractedUrl),Jt,1)),_.rawUrlTree=J.rawUrl,J.resolve(null),Je.E}}),(0,Vt.b)(J=>{const ze=new Ve(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(ze)}),(0,Le.U)(J=>z={...J,guards:Po(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function Ke(S,D){return(0,yt.z)(_=>{const{targetSnapshot:z,currentSnapshot:F,guards:{canActivateChecks:G,canDeactivateChecks:J}}=_;return 0===J.length&&0===G.length?(0,C.of)({..._,guardsResult:!0}):function wt(S,D,_,z){return(0,B.D)(S).pipe((0,yt.z)(F=>function Gi(S,D,_,z,F){const G=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,C.of)(!0);const J=G.map(ze=>{const lt=lo(D)??F,Bt=fi(ze,lt);return Et(function Ns(S){return S&&ho(S.canDeactivate)}(Bt)?Bt.canDeactivate(S,D,_,z):lt.runInContext(()=>Bt(S,D,_,z))).pipe((0,Ut.P)())});return(0,C.of)(J).pipe(ie())}(F.component,F.route,_,D,z)),(0,Ut.P)(F=>!0!==F,!0))}(J,z,F,S).pipe((0,yt.z)(ze=>ze&&function Qs(S){return"boolean"==typeof S}(ze)?function an(S,D,_,z){return(0,B.D)(D).pipe((0,Mt.b)(F=>(0,De.z)(function ar(S,D){return null!==S&&D&&D(new Hr(S)),(0,C.of)(!0)}(F.route.parent,z),function Rn(S,D){return null!==S&&D&&D(new Sr(S)),(0,C.of)(!0)}(F.route,z),function Un(S,D,_){const z=D[D.length-1],G=D.slice(0,D.length-1).reverse().map(J=>function Eo(S){const D=S.routeConfig?S.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:S,guards:D}:null}(J)).filter(J=>null!==J).map(J=>ce(()=>{const ze=J.guards.map(lt=>{const Bt=lo(J.node)??_,Jt=fi(lt,Bt);return Et(function la(S){return S&&ho(S.canActivateChild)}(Jt)?Jt.canActivateChild(z,S):Bt.runInContext(()=>Jt(z,S))).pipe((0,Ut.P)())});return(0,C.of)(ze).pipe(ie())}));return(0,C.of)(G).pipe(ie())}(S,F.path,_),function ir(S,D,_){const z=D.routeConfig?D.routeConfig.canActivate:null;if(!z||0===z.length)return(0,C.of)(!0);const F=z.map(G=>ce(()=>{const J=lo(D)??_,ze=fi(G,J);return Et(function Oo(S){return S&&ho(S.canActivate)}(ze)?ze.canActivate(D,S):J.runInContext(()=>ze(D,S))).pipe((0,Ut.P)())}));return(0,C.of)(F).pipe(ie())}(S,F.route,_))),(0,Ut.P)(F=>!0!==F,!0))}(z,G,S,D):(0,C.of)(ze)),(0,Le.U)(ze=>({..._,guardsResult:ze})))})}(this.environmentInjector,J=>this.events.next(J)),(0,Vt.b)(J=>{if(z.guardsResult=J.guardsResult,ft(J.guardsResult))throw os(0,J.guardsResult);const ze=new at(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(ze)}),(0,ke.h)(J=>!!J.guardsResult||(_.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),Kn(J=>{if(J.guards.canActivateChecks.length)return(0,C.of)(J).pipe((0,Vt.b)(ze=>{const lt=new Nt(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(lt)}),(0,Xe.w)(ze=>{let lt=!1;return(0,C.of)(ze).pipe(function Qe(S,D){return(0,yt.z)(_=>{const{targetSnapshot:z,guards:{canActivateChecks:F}}=_;if(!F.length)return(0,C.of)(_);let G=0;return(0,B.D)(F).pipe((0,Mt.b)(J=>function dt(S,D,_,z){const F=S.routeConfig,G=S._resolve;return void 0!==F?.title&&!mr(F)&&(G[_t]=F.title),function on(S,D,_,z){const F=function kr(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===F.length)return(0,C.of)({});const G={};return(0,B.D)(F).pipe((0,yt.z)(J=>function pr(S,D,_,z){const F=lo(D)??z,G=fi(S,F);return Et(G.resolve?G.resolve(D,_):F.runInContext(()=>G(D,_)))}(S[J],D,_,z).pipe((0,Ut.P)(),(0,Vt.b)(ze=>{G[J]=ze}))),vr(1),(0,_e.h)(G),(0,Tt.K)(J=>E(J)?Je.E:Ye(J)))}(G,S,D,z).pipe((0,Le.U)(J=>(S._resolvedData=J,S.data=Di(S,_).resolve,F&&mr(F)&&(S.data[_t]=F.title),null)))}(J.route,z,S,D)),(0,Vt.b)(()=>G++),vr(1),(0,yt.z)(J=>G===F.length?(0,C.of)(_):Je.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,Vt.b)({next:()=>lt=!0,complete:()=>{lt||(_.restoreHistory(ze),this.cancelNavigationTransition(ze,"",2))}}))}),(0,Vt.b)(ze=>{const lt=new pn(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(lt)}))}),Kn(J=>{const ze=lt=>{const Bt=[];lt.routeConfig?.loadComponent&&!lt.routeConfig._loadedComponent&&Bt.push(this.configLoader.loadComponent(lt.routeConfig).pipe((0,Vt.b)(Jt=>{lt.component=Jt}),(0,Le.U)(()=>{})));for(const Jt of lt.children)Bt.push(...ze(Jt));return Bt};return(0,Pe.a)(ze(J.targetSnapshot.root)).pipe((0,Lr.d)(),(0,gt.q)(1))}),Kn(()=>this.afterPreactivation()),(0,Le.U)(J=>{const ze=function Cs(S,D,_){const z=bs(S,D._root,_?_._root:void 0);return new Qr(z,D)}(_.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return z={...J,targetRouterState:ze}}),(0,Vt.b)(J=>{_.currentUrlTree=J.urlAfterRedirects,_.rawUrlTree=_.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),_.routerState=J.targetRouterState,"deferred"===_.urlUpdateStrategy&&(J.extras.skipLocationChange||_.setBrowserUrl(_.rawUrlTree,J),_.browserUrlTree=J.urlAfterRedirects)}),((S,D,_)=>(0,Le.U)(z=>(new Ao(D,z.targetRouterState,z.currentRouterState,_).activate(S),z)))(this.rootContexts,_.routeReuseStrategy,J=>this.events.next(J)),(0,gt.q)(1),(0,Vt.b)({next:J=>{F=!0,this.lastSuccessfulNavigation=this.currentNavigation,_.navigated=!0,this.events.next(new we(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(_.currentUrlTree))),_.titleStrategy?.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{F=!0}}),(0,Ne.x)(()=>{F||G||this.cancelNavigationTransition(z,"",1),this.currentNavigation?.id===z.id&&(this.currentNavigation=null)}),(0,Tt.K)(J=>{if(G=!0,$r(J)){aa(J)||(_.navigated=!0,_.restoreHistory(z,!0));const ze=new be(z.id,this.urlSerializer.serialize(z.extractedUrl),J.message,J.cancellationCode);if(this.events.next(ze),aa(J)){const lt=_.urlHandlingStrategy.merge(J.url,_.rawUrlTree),Bt={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===_.urlUpdateStrategy||Qo(z.source)};_.scheduleNavigation(lt,ti,null,Bt,{resolve:z.resolve,reject:z.reject,promise:z.promise})}else z.resolve(!1)}else{_.restoreHistory(z,!0);const ze=new X(z.id,this.urlSerializer.serialize(z.extractedUrl),J,z.targetSnapshot??void 0);this.events.next(ze);try{z.resolve(_.errorHandler(J))}catch(lt){z.reject(lt)}}return Je.E}))}))}cancelNavigationTransition(_,z,F){const G=new be(_.id,this.urlSerializer.serialize(_.extractedUrl),z,F);this.events.next(G),_.resolve(!1)}}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Qo(S){return S!==ti}let Lo=(()=>{class S{buildTitle(_){let z,F=_.root;for(;void 0!==F;)z=this.getResolvedTitleForRoute(F)??z,F=F.children.find(G=>G.outlet===Ae);return z}getResolvedTitleForRoute(_){return _.data[_t]}}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:function(){return(0,m.f3M)(Vo)},providedIn:"root"}),S})(),Vo=(()=>{class S extends Lo{constructor(_){super(),this.title=_}updateTitle(_){const z=this.buildTitle(_);void 0!==z&&this.title.setTitle(z)}}return S.\u0275fac=function(_){return new(_||S)(m.LFG(ut.Dx))},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Wa=(()=>{class S{}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:function(){return(0,m.f3M)(Au)},providedIn:"root"}),S})();class vc{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let Au=(()=>{class S extends vc{}return S.\u0275fac=function(){let D;return function(z){return(D||(D=m.n5z(S)))(z||S)}}(),S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ka=new m.OlP("",{providedIn:"root",factory:()=>({})});let r4=(()=>{class S{}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:function(){return(0,m.f3M)(ds)},providedIn:"root"}),S})(),ds=(()=>{class S{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,z){return _}}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Xc(S){throw S}function Ia(S,D,_){return D.parse("/")}const Pu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ci={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let po=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this.options=(0,m.f3M)(Ka,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Xc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ia,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(r4),this.routeReuseStrategy=(0,m.f3M)(Wa),this.urlCreationStrategy=(0,m.f3M)(Ks),this.titleStrategy=(0,m.f3M)(Lo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Cn((0,m.f3M)(gr,{optional:!0})??[]),this.navigationTransitions=(0,m.f3M)(Vi),this.urlSerializer=(0,m.f3M)(On),this.location=(0,m.f3M)(je.Ye),this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Tn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ji(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId??0},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ti,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const z="popstate"===_.type?"popstate":"hashchange";"popstate"===z&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,z,_.state)},0)}))}navigateToSyncWithBrowser(_,z,F){const G={replaceUrl:!0},J=F?.navigationId?F:null;if(F){const lt={...F};delete lt.navigationId,delete lt.\u0275routerPageId,0!==Object.keys(lt).length&&(G.state=lt)}const ze=this.parseUrl(_);this.scheduleNavigation(ze,z,J,G)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(_){this.config=_.map($i),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,z={}){const{relativeTo:F,queryParams:G,fragment:J,queryParamsHandling:ze,preserveFragment:lt}=z,Bt=lt?this.currentUrlTree.fragment:J;let Jt=null;switch(ze){case"merge":Jt={...this.currentUrlTree.queryParams,...G};break;case"preserve":Jt=this.currentUrlTree.queryParams;break;default:Jt=G||null}return null!==Jt&&(Jt=this.removeEmptyProps(Jt)),this.urlCreationStrategy.createUrlTree(F,this.routerState,this.currentUrlTree,_,Jt,Bt??null)}navigateByUrl(_,z={skipLocationChange:!1}){const F=ft(_)?_:this.parseUrl(_),G=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(G,ti,null,z)}navigate(_,z={skipLocationChange:!1}){return function Ol(S){for(let D=0;D<S.length;D++){const _=S[D];if(null==_)throw new m.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,z),z)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let z;try{z=this.urlSerializer.parse(_)}catch(F){z=this.malformedUriErrorHandler(F,this.urlSerializer,_)}return z}isActive(_,z){let F;if(F=!0===z?{...Pu}:!1===z?{...Ci}:z,ft(_))return hr(this.currentUrlTree,_,F);const G=this.parseUrl(_);return hr(this.currentUrlTree,G,F)}removeEmptyProps(_){return Object.keys(_).reduce((z,F)=>{const G=_[F];return null!=G&&(z[F]=G),z},{})}scheduleNavigation(_,z,F,G,J){if(this.disposed)return Promise.resolve(!1);let ze,lt,Bt,Jt;return J?(ze=J.resolve,lt=J.reject,Bt=J.promise):Bt=new Promise((Or,qi)=>{ze=Or,lt=qi}),Jt="computed"===this.canceledNavigationResolution?F&&F.\u0275routerPageId?F.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Jt,source:z,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:G,resolve:ze,reject:lt,promise:Bt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bt.catch(Or=>Promise.reject(Or))}setBrowserUrl(_,z){const F=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(F)||z.extras.replaceUrl){const J={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId)};this.location.replaceState(F,"",J)}else{const G={...z.extras.state,...this.generateNgRouterState(z.id,z.targetPageId)};this.location.go(F,"",G)}}restoreHistory(_,z=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-(this.browserPageId??this.currentPageId);0!==G?this.location.historyGo(G):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===G&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(z&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,z){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:z}:{navigationId:_}}}return S.\u0275fac=function(_){return new(_||S)},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Rl{}let Ls=(()=>{class S{constructor(_,z,F,G,J){this.router=_,this.injector=F,this.preloadingStrategy=G,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(_=>_ instanceof we),(0,Mt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,z){const F=[];for(const G of z){G.providers&&!G._injector&&(G._injector=(0,m.MMx)(G.providers,_,`Route: ${G.path}`));const J=G._injector??_,ze=G._loadedInjector??J;(G.loadChildren&&!G._loadedRoutes&&void 0===G.canLoad||G.loadComponent&&!G._loadedComponent)&&F.push(this.preloadConfig(J,G)),(G.children||G._loadedRoutes)&&F.push(this.processRoutes(ze,G.children??G._loadedRoutes))}return(0,B.D)(F).pipe((0,We.J)())}preloadConfig(_,z){return this.preloadingStrategy.preload(z,()=>{let F;F=z.loadChildren&&void 0===z.canLoad?this.loader.loadChildren(_,z):(0,C.of)(null);const G=F.pipe((0,yt.z)(J=>null===J?(0,C.of)(void 0):(z._loadedRoutes=J.routes,z._loadedInjector=J.injector,this.processRoutes(J.injector??_,J.routes))));if(z.loadComponent&&!z._loadedComponent){const J=this.loader.loadComponent(z);return(0,B.D)([G,J]).pipe((0,We.J)())}return G})}}return S.\u0275fac=function(_){return new(_||S)(m.LFG(po),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Rl),m.LFG(vi))},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const tl=new m.OlP("");let xa=(()=>{class S{constructor(_,z,F,G,J={}){this.urlSerializer=_,this.transitions=z,this.viewportScroller=F,this.zone=G,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Te?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof we&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof yi&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yi(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,z))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return S.\u0275fac=function(_){m.$Z()},S.\u0275prov=m.Yz7({token:S,factory:S.\u0275fac}),S})();var no=(()=>((no=no||{})[no.COMPLETE=0]="COMPLETE",no[no.FAILED=1]="FAILED",no[no.REDIRECTING=2]="REDIRECTING",no))();const ua=!1;function na(S,D){return{\u0275kind:S,\u0275providers:D}}const Qa=new m.OlP("",{providedIn:"root",factory:()=>!1});function Xa(){const S=(0,m.f3M)(m.zs3);return D=>{const _=S.get(m.z2F);if(D!==_.components[0])return;const z=S.get(po),F=S.get(rl);1===S.get(wc)&&z.initialNavigation(),S.get(ei,null,m.XFs.Optional)?.setUpPreloading(),S.get(tl,null,m.XFs.Optional)?.init(),z.resetRootComponentType(_.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const rl=new m.OlP(ua?"bootstrap done indicator":"",{factory:()=>new pe.x}),wc=new m.OlP(ua?"initial navigation":"",{providedIn:"root",factory:()=>1});function ld(){let S=[];return S=ua?[{provide:m.Xts,multi:!0,useFactory:()=>{const D=(0,m.f3M)(po);return()=>D.events.subscribe(_=>{console.group?.(`Router Event: ${_.constructor.name}`),console.log(function Ti(S){if(!("type"in S))return`Unknown Router Event: ${S.constructor.name}`;switch(S.type){case 14:return`ActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 2:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case 16:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case 1:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case 0:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case 6:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 5:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 10:return`RouteConfigLoadEnd(path: ${S.route.path})`;case 9:return`RouteConfigLoadStart(path: ${S.route.path})`;case 4:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 15:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}(_)),console.log(_),console.groupEnd?.()})}}]:[],na(1,S)}const ei=new m.OlP(ua?"router preloader":"");function Fl(S){return na(0,[{provide:ei,useExisting:Ls},{provide:Rl,useExisting:S}])}const ec=!1,ud=new m.OlP(ec?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Cc=[je.Ye,{provide:On,useClass:nn},po,bi,{provide:Ji,useFactory:function Za(S){return S.routerState.root},deps:[po]},vi,ec?{provide:Qa,useValue:!0}:[]];function s4(){return new m.PXZ("Router",po)}let dd=(()=>{class S{constructor(_){}static forRoot(_,z){return{ngModule:S,providers:[Cc,ec&&z?.enableTracing?ld().\u0275providers:[],{provide:gr,multi:!0,useValue:_},{provide:ud,useFactory:hd,deps:[[po,new m.FiY,new m.tp0]]},{provide:Ka,useValue:z||{}},z?.useHash?{provide:je.S$,useClass:je.Do}:{provide:je.S$,useClass:je.b0},{provide:tl,useFactory:()=>{const S=(0,m.f3M)(je.EM),D=(0,m.f3M)(m.R0b),_=(0,m.f3M)(Ka),z=(0,m.f3M)(Vi),F=(0,m.f3M)(On);return _.scrollOffset&&S.setOffset(_.scrollOffset),new xa(F,z,S,D,_)}},z?.preloadingStrategy?Fl(z.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:s4},z?.initialNavigation?Ho(z):[],[{provide:da,useFactory:Xa},{provide:m.tb,multi:!0,useExisting:da}]]}}static forChild(_){return{ngModule:S,providers:[{provide:gr,multi:!0,useValue:_}]}}}return S.\u0275fac=function(_){return new(_||S)(m.LFG(ud,8))},S.\u0275mod=m.oAB({type:S}),S.\u0275inj=m.cJS({imports:[hi]}),S})();function hd(S){if(ec&&S)throw new m.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ho(S){return["disabled"===S.initialNavigation?na(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const D=(0,m.f3M)(po);return()=>{D.setUpLocationChangeListener()}}},{provide:wc,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?na(2,[{provide:wc,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:D=>{const _=D.get(je.V_,Promise.resolve());return()=>_.then(()=>new Promise(z=>{const F=D.get(po),G=D.get(rl);(function qa(S,D){S.events.pipe((0,ke.h)(_=>_ instanceof we||_ instanceof be||_ instanceof X||_ instanceof rt),(0,Le.U)(_=>_ instanceof we||_ instanceof rt?no.COMPLETE:_ instanceof be&&(0===_.code||1===_.code)?no.REDIRECTING:no.FAILED),(0,ke.h)(_=>_!==no.REDIRECTING),(0,gt.q)(1)).subscribe(()=>{D()})})(F,()=>{z(!0)}),D.get(Vi).afterPreactivation=()=>(z(!0),G.closed?(0,C.of)(void 0):G),F.initialNavigation()}))}}]).\u0275providers:[]]}const da=new m.OlP(ec?"Router Initializer":"")},579:(At,He,N)=>{N.d(He,{EI:()=>he,Gb:()=>rr,Iv:()=>rn,Kz:()=>Q,Xd:()=>qt,lT:()=>lr,xP:()=>br});var m=N(5861),B=N(6881),C=N(1877),pe=N(2090),ve=N(4859);N(4727);const Pe="analytics",De="firebase_id",Fe="origin",ue=6e4,ce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ye="https://www.googletagmanager.com/gtag/js",Ue=new C.Yd("@firebase/analytics"),Je=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ct(j){if(!j.startsWith(ye)){const Y=Je.create("invalid-gtag-resource",{gtagURL:j});return Ue.warn(Y.message),""}return j}function $e(j){return Promise.all(j.map(Y=>Y.catch(ne=>ne)))}function Le(){return(Le=(0,m.Z)(function*(j,Y,ne,ge,Me,ot){const ft=ge[Me];try{if(ft)yield Y[ft];else{const tn=(yield $e(ne)).find(Oe=>Oe.measurementId===Me);tn&&(yield Y[tn.appId])}}catch(Yt){Ue.error(Yt)}j("config",Me,ot)})).apply(this,arguments)}function gt(){return(gt=(0,m.Z)(function*(j,Y,ne,ge,Me){try{let ot=[];if(Me&&Me.send_to){let ft=Me.send_to;Array.isArray(ft)||(ft=[ft]);const Yt=yield $e(ne);for(const tn of ft){const Oe=Yt.find(st=>st.measurementId===tn),xe=Oe&&Y[Oe.appId];if(!xe){ot=[];break}ot.push(xe)}}0===ot.length&&(ot=Object.values(Y)),yield Promise.all(ot),j("event",ge,Me||{})}catch(ot){Ue.error(ot)}})).apply(this,arguments)}const Ut=30,Tt=new class Vt{constructor(Y={},ne=1e3){this.throttleMetadata=Y,this.intervalMillis=ne}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,ne){this.throttleMetadata[Y]=ne}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function Zr(j){return new Headers({Accept:"application/json","x-goog-api-key":j})}function zr(){return(zr=(0,m.Z)(function*(j){var Y;const{appId:ne,apiKey:ge}=j,Me={method:"GET",headers:Zr(ge)},ot=ce.replace("{app-id}",ne),ft=yield fetch(ot,Me);if(200!==ft.status&&304!==ft.status){let Yt="";try{const tn=yield ft.json();null!==(Y=tn.error)&&void 0!==Y&&Y.message&&(Yt=tn.error.message)}catch{}throw Je.create("config-fetch-failed",{httpStatus:ft.status,responseMessage:Yt})}return ft.json()})).apply(this,arguments)}function jr(){return(jr=(0,m.Z)(function*(j,Y=Tt,ne){const{appId:ge,apiKey:Me,measurementId:ot}=j.options;if(!ge)throw Je.create("no-app-id");if(!Me){if(ot)return{measurementId:ot,appId:ge};throw Je.create("no-api-key")}const ft=Y.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yt=new We;return setTimeout((0,m.Z)(function*(){Yt.abort()}),void 0!==ne?ne:ue),wr({appId:ge,apiKey:Me,measurementId:ot},ft,Yt,Y)})).apply(this,arguments)}function wr(j,Y,ne){return Re.apply(this,arguments)}function Re(){return Re=(0,m.Z)(function*(j,{throttleEndTimeMillis:Y,backoffCount:ne},ge,Me=Tt){var ot;const{appId:ft,measurementId:Yt}=j;try{yield function _e(j,Y){return new Promise((ne,ge)=>{const Me=Math.max(Y-Date.now(),0),ot=setTimeout(ne,Me);j.addEventListener(()=>{clearTimeout(ot),ge(Je.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(ge,Y)}catch(tn){if(Yt)return Ue.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${tn?.message}]`),{appId:ft,measurementId:Yt};throw tn}try{const tn=yield function vr(j){return zr.apply(this,arguments)}(j);return Me.deleteThrottleMetadata(ft),tn}catch(tn){const Oe=tn;if(!function Ne(j){if(!(j instanceof pe.ZR&&j.customData))return!1;const Y=Number(j.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(Oe)){if(Me.deleteThrottleMetadata(ft),Yt)return Ue.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${Oe?.message}]`),{appId:ft,measurementId:Yt};throw tn}const xe=503===Number(null===(ot=Oe?.customData)||void 0===ot?void 0:ot.httpStatus)?(0,pe.$s)(ne,Me.intervalMillis,Ut):(0,pe.$s)(ne,Me.intervalMillis),st={throttleEndTimeMillis:Date.now()+xe,backoffCount:ne+1};return Me.setThrottleMetadata(ft,st),Ue.debug(`Calling attemptFetch again in ${xe} millis`),wr(j,st,ge,Me)}}),Re.apply(this,arguments)}class We{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}let ut,Et;function _t(){return(_t=(0,m.Z)(function*(j,Y,ne,ge,Me){if(Me&&Me.global)j("event",ne,ge);else{const ot=yield Y;j("event",ne,Object.assign(Object.assign({},ge),{send_to:ot}))}})).apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(j,Y,ne,ge){if(ge&&ge.global)return j("set",{screen_name:ne}),Promise.resolve();j("config",yield Y,{update:!0,screen_name:ne})})).apply(this,arguments)}function wn(){return(wn=(0,m.Z)(function*(j,Y,ne,ge){if(ge&&ge.global)return j("set",{user_id:ne}),Promise.resolve();j("config",yield Y,{update:!0,user_id:ne})})).apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(j,Y,ne,ge){if(ge&&ge.global){const Me={};for(const ot of Object.keys(ne))Me[`user_properties.${ot}`]=ne[ot];return j("set",Me),Promise.resolve()}j("config",yield Y,{update:!0,user_properties:ne})})).apply(this,arguments)}function en(){return(en=(0,m.Z)(function*(j,Y){const ne=yield j;window[`ga-disable-${ne}`]=!Y})).apply(this,arguments)}function hr(){return(hr=(0,m.Z)(function*(){if(!(0,pe.hl)())return Ue.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(j){return Ue.warn(Je.create("indexeddb-unavailable",{errorInfo:j?.toString()}).message),!1}return!0})).apply(this,arguments)}function bn(){return bn=(0,m.Z)(function*(j,Y,ne,ge,Me,ot,ft){var Yt;const tn=function Lr(j){return jr.apply(this,arguments)}(j);tn.then(Ft=>{ne[Ft.measurementId]=Ft.appId,j.options.measurementId&&Ft.measurementId!==j.options.measurementId&&Ue.warn(`The measurement ID in the local Firebase config (${j.options.measurementId}) does not match the measurement ID fetched from the server (${Ft.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ft=>Ue.error(Ft)),Y.push(tn);const Oe=function tr(){return hr.apply(this,arguments)}().then(Ft=>{if(Ft)return ge.getId()}),[xe,st]=yield Promise.all([tn,Oe]);(function yt(j){const Y=window.document.getElementsByTagName("script");for(const ne of Object.values(Y))if(ne.src&&ne.src.includes(ye)&&ne.src.includes(j))return ne;return null})(ot)||function ct(j,Y){const ne=function it(j,Y){let ne;return window.trustedTypes&&(ne=window.trustedTypes.createPolicy(j,Y)),ne}("firebase-js-sdk-policy",{createScriptURL:Ct}),ge=document.createElement("script"),Me=`${ye}?l=${j}&id=${Y}`;ge.src=ne?ne?.createScriptURL(Me):Me,ge.async=!0,document.head.appendChild(ge)}(ot,xe.measurementId),Et&&(Me("consent","default",Et),function hn(j){Et=j}(void 0)),Me("js",new Date);const kt=null!==(Yt=ft?.config)&&void 0!==Yt?Yt:{};return kt[Fe]="firebase",kt.update=!0,null!=st&&(kt[De]=st),Me("config",xe.measurementId,kt),ut&&(Me("set",ut),function dr(j){ut=j}(void 0)),xe.measurementId}),bn.apply(this,arguments)}class vn{constructor(Y){this.app=Y}_delete(){return delete zt[this.app.options.appId],Promise.resolve()}}let zt={},Ht=[];const Gn={};let fr,or,Tn="dataLayer",Ot="gtag",nr=!1;function qt(j){if(nr)throw Je.create("already-initialized");j.dataLayerName&&(Tn=j.dataLayerName),j.gtagName&&(Ot=j.gtagName)}function nn(j,Y,ne){!function On(){const j=[];if((0,pe.ru)()&&j.push("This is a browser extension environment."),(0,pe.zI)()||j.push("Cookies are not available."),j.length>0){const Y=j.map((ge,Me)=>`(${Me+1}) ${ge}`).join(" "),ne=Je.create("invalid-analytics-context",{errorInfo:Y});Ue.warn(ne.message)}}();const ge=j.options.appId;if(!ge)throw Je.create("no-app-id");if(!j.options.apiKey){if(!j.options.measurementId)throw Je.create("no-api-key");Ue.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${j.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zt[ge])throw Je.create("already-exists",{id:ge});if(!nr){!function mt(j){let Y=[];Array.isArray(window[j])?Y=window[j]:window[j]=Y}(Tn);const{wrappedGtag:ot,gtagCore:ft}=function ke(j,Y,ne,ge,Me){let ot=function(...ft){window[ge].push(arguments)};return window[Me]&&"function"==typeof window[Me]&&(ot=window[Me]),window[Me]=function tt(j,Y,ne,ge){function ot(){return ot=(0,m.Z)(function*(ft,...Yt){try{if("event"===ft){const[tn,Oe]=Yt;yield function Xe(j,Y,ne,ge,Me){return gt.apply(this,arguments)}(j,Y,ne,tn,Oe)}else if("config"===ft){const[tn,Oe]=Yt;yield function je(j,Y,ne,ge,Me,ot){return Le.apply(this,arguments)}(j,Y,ne,ge,tn,Oe)}else if("consent"===ft){const[tn]=Yt;j("consent","update",tn)}else if("get"===ft){const[tn,Oe,xe]=Yt;j("get",tn,Oe,xe)}else if("set"===ft){const[tn]=Yt;j("set",tn)}else j(ft,...Yt)}catch(tn){Ue.error(tn)}}),ot.apply(this,arguments)}return function Me(ft){return ot.apply(this,arguments)}}(ot,j,Y,ne),{gtagCore:ot,wrappedGtag:window[Me]}}(zt,Ht,Gn,Tn,Ot);or=ot,fr=ft,nr=!0}return zt[ge]=function yr(j,Y,ne,ge,Me,ot,ft){return bn.apply(this,arguments)}(j,Ht,Gn,Y,fr,Tn,ne),new vn(j)}function rr(){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,m.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}function lr(j,Y,ne){j=(0,pe.m9)(j),function gn(j,Y,ne,ge){return _n.apply(this,arguments)}(or,zt[j.app.options.appId],Y,ne).catch(ge=>Ue.error(ge))}function rn(j,Y,ne){j=(0,pe.m9)(j),function Xt(j,Y,ne,ge){return wn.apply(this,arguments)}(or,zt[j.app.options.appId],Y,ne).catch(ge=>Ue.error(ge))}function br(j,Y,ne){j=(0,pe.m9)(j),function An(j,Y,ne,ge){return qn.apply(this,arguments)}(or,zt[j.app.options.appId],Y,ne).catch(ge=>Ue.error(ge))}function he(j,Y){j=(0,pe.m9)(j),function cr(j,Y){return en.apply(this,arguments)}(zt[j.app.options.appId],Y).catch(ne=>Ue.error(ne))}function Q(j,Y,ne,ge){j=(0,pe.m9)(j),function Ae(j,Y,ne,ge,Me){return _t.apply(this,arguments)}(or,zt[j.app.options.appId],Y,ne,ge).catch(Me=>Ue.error(Me))}const W="@firebase/analytics";!function re(){(0,B._registerComponent)(new ve.wA(Pe,(Y,{options:ne})=>nn(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,B._registerComponent)(new ve.wA("analytics-internal",function j(Y){try{const ne=Y.getProvider(Pe).getImmediate();return{logEvent:(ge,Me,ot)=>Q(ne,ge,Me,ot)}}catch(ne){throw Je.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,B.registerVersion)(W,"0.10.0"),(0,B.registerVersion)(W,"0.10.0","esm2017")}()},3942:(At,He,N)=>{N.d(He,{Z:()=>Je});var m=N(2090),B=N(4859),C=N(6881),pe=N(1877);class ve{constructor($e,it){this._delegate=$e,this.firebase=it,(0,C._addComponent)($e,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,C.deleteApp)(this._delegate)))}_getService($e,it=C._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider($e);return!mt.isInitialized()&&"EXPLICIT"===(null===(ct=mt.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:it})}_removeServiceInstance($e,it=C._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(it)}_addComponent($e){(0,C._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,C._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function Fe(){const Ct=function De(Ct){const $e={},it={__esModule:!0,initializeApp:function je(tt,ke={}){const yt=C.initializeApp(tt,ke);if((0,m.r3)($e,yt.name))return $e[yt.name];const Ut=new Ct(yt,it);return $e[yt.name]=Ut,Ut},app:mt,registerVersion:C.registerVersion,setLogLevel:C.setLogLevel,onLog:C.onLog,apps:null,SDK_VERSION:C.SDK_VERSION,INTERNAL:{registerComponent:function Xe(tt){const ke=tt.name,yt=ke.replace("-compat","");if(C._registerComponent(tt)&&"PUBLIC"===tt.type){const Ut=(Mt=mt())=>{if("function"!=typeof Mt[yt])throw Pe.create("invalid-app-argument",{appName:ke});return Mt[yt]()};void 0!==tt.serviceProps&&(0,m.ZB)(Ut,tt.serviceProps),it[yt]=Ut,Ct.prototype[yt]=function(...Mt){return this._getService.bind(this,ke).apply(this,tt.multipleInstances?Mt:[])}}return"PUBLIC"===tt.type?it[yt]:null},removeApp:function ct(tt){delete $e[tt]},useAsService:function gt(tt,ke){return"serverAuth"===ke?null:ke},modularAPIs:C}};function mt(tt){if(!(0,m.r3)($e,tt=tt||C._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:tt});return $e[tt]}return it.default=it,Object.defineProperty(it,"apps",{get:function Le(){return Object.keys($e).map(tt=>$e[tt])}}),mt.App=Ct,it}(ve);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function $e(it){(0,m.ZB)(Ct,it)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),Ct}(),ce=new pe.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=ue;!function Ye(Ct){(0,C.registerVersion)("@firebase/app-compat","0.2.13",Ct)}()},6881:(At,He,N)=>{N.r(He),N.d(He,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>On,_DEFAULT_ENTRY_NAME:()=>hr,_addComponent:()=>zt,_addOrOverwriteComponent:()=>Ht,_apps:()=>bn,_clearComponents:()=>fr,_components:()=>vn,_getProvider:()=>Tn,_registerComponent:()=>Gn,_removeServiceInstance:()=>Ot,deleteApp:()=>rr,getApp:()=>Rr,getApps:()=>cn,initializeApp:()=>nn,onLog:()=>Mr,registerVersion:()=>lr,setLogLevel:()=>Cr});var m=N(5861),B=N(4859),C=N(1877),pe=N(2090);const ve=(Oe,xe)=>xe.some(st=>Oe instanceof st);let Se,Pe;const ue=new WeakMap,ce=new WeakMap,ye=new WeakMap,Ue=new WeakMap,Ye=new WeakMap;let $e={get(Oe,xe,st){if(Oe instanceof IDBTransaction){if("done"===xe)return ce.get(Oe);if("objectStoreNames"===xe)return Oe.objectStoreNames||ye.get(Oe);if("store"===xe)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return je(Oe[xe])},set:(Oe,xe,st)=>(Oe[xe]=st,!0),has:(Oe,xe)=>Oe instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in Oe};function mt(Oe){return"function"==typeof Oe?function ct(Oe){return Oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Oe)?function(...xe){return Oe.apply(Le(this),xe),je(ue.get(this))}:function(...xe){return je(Oe.apply(Le(this),xe))}:function(xe,...st){const kt=Oe.call(Le(this),xe,...st);return ye.set(kt,xe.sort?xe.sort():[xe]),je(kt)}}(Oe):(Oe instanceof IDBTransaction&&function Ct(Oe){if(ce.has(Oe))return;const xe=new Promise((st,kt)=>{const Ft=()=>{Oe.removeEventListener("complete",mn),Oe.removeEventListener("error",jt),Oe.removeEventListener("abort",jt)},mn=()=>{st(),Ft()},jt=()=>{kt(Oe.error||new DOMException("AbortError","AbortError")),Ft()};Oe.addEventListener("complete",mn),Oe.addEventListener("error",jt),Oe.addEventListener("abort",jt)});ce.set(Oe,xe)}(Oe),ve(Oe,function De(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Oe,$e):Oe)}function je(Oe){if(Oe instanceof IDBRequest)return function Je(Oe){const xe=new Promise((st,kt)=>{const Ft=()=>{Oe.removeEventListener("success",mn),Oe.removeEventListener("error",jt)},mn=()=>{st(je(Oe.result)),Ft()},jt=()=>{kt(Oe.error),Ft()};Oe.addEventListener("success",mn),Oe.addEventListener("error",jt)});return xe.then(st=>{st instanceof IDBCursor&&ue.set(st,Oe)}).catch(()=>{}),Ye.set(xe,Oe),xe}(Oe);if(Ue.has(Oe))return Ue.get(Oe);const xe=mt(Oe);return xe!==Oe&&(Ue.set(Oe,xe),Ye.set(xe,Oe)),xe}const Le=Oe=>Ye.get(Oe),tt=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],yt=new Map;function Ut(Oe,xe){if(!(Oe instanceof IDBDatabase)||xe in Oe||"string"!=typeof xe)return;if(yt.get(xe))return yt.get(xe);const st=xe.replace(/FromIndex$/,""),kt=xe!==st,Ft=ke.includes(st);if(!(st in(kt?IDBIndex:IDBObjectStore).prototype)||!Ft&&!tt.includes(st))return;const mn=function(){var jt=(0,m.Z)(function*(Vn,...Dn){const Mn=this.transaction(Vn,Ft?"readwrite":"readonly");let Bn=Mn.store;return kt&&(Bn=Bn.index(Dn.shift())),(yield Promise.all([Bn[st](...Dn),Ft&&Mn.done]))[0]});return function(Dn){return jt.apply(this,arguments)}}();return yt.set(xe,mn),mn}!function it(Oe){$e=Oe($e)}(Oe=>({...Oe,get:(xe,st,kt)=>Ut(xe,st)||Oe.get(xe,st,kt),has:(xe,st)=>!!Ut(xe,st)||Oe.has(xe,st)}));class Mt{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function Vt(Oe){return"VERSION"===Oe.getComponent()?.type}(st)){const kt=st.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(st=>st).join(" ")}}const Tt="@firebase/app",vr=new C.Yd("@firebase/app"),hr="[DEFAULT]",yr={[Tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,vn=new Map;function zt(Oe,xe){try{Oe.container.addComponent(xe)}catch(st){vr.debug(`Component ${xe.name} failed to register with FirebaseApp ${Oe.name}`,st)}}function Ht(Oe,xe){Oe.container.addOrOverwriteComponent(xe)}function Gn(Oe){const xe=Oe.name;if(vn.has(xe))return vr.debug(`There were multiple attempts to register component ${xe}.`),!1;vn.set(xe,Oe);for(const st of bn.values())zt(st,Oe);return!0}function Tn(Oe,xe){const st=Oe.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),Oe.container.getProvider(xe)}function Ot(Oe,xe,st=hr){Tn(Oe,xe).clearInstance(st)}function fr(){vn.clear()}const nr=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(xe,st,kt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const On="9.23.0";function nn(Oe,xe={}){let st=Oe;"object"!=typeof xe&&(xe={name:xe});const kt=Object.assign({name:hr,automaticDataCollectionEnabled:!1},xe),Ft=kt.name;if("string"!=typeof Ft||!Ft)throw nr.create("bad-app-name",{appName:String(Ft)});if(st||(st=(0,pe.aH)()),!st)throw nr.create("no-options");const mn=bn.get(Ft);if(mn){if((0,pe.vZ)(st,mn.options)&&(0,pe.vZ)(kt,mn.config))return mn;throw nr.create("duplicate-app",{appName:Ft})}const jt=new B.H0(Ft);for(const Dn of vn.values())jt.addComponent(Dn);const Vn=new qt(st,kt,jt);return bn.set(Ft,Vn),Vn}function Rr(Oe=hr){const xe=bn.get(Oe);if(!xe&&Oe===hr&&(0,pe.aH)())return nn();if(!xe)throw nr.create("no-app",{appName:Oe});return xe}function cn(){return Array.from(bn.values())}function rr(Oe){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,m.Z)(function*(Oe){const xe=Oe.name;bn.has(xe)&&(bn.delete(xe),yield Promise.all(Oe.container.getProviders().map(st=>st.delete())),Oe.isDeleted=!0)})).apply(this,arguments)}function lr(Oe,xe,st){var kt;let Ft=null!==(kt=yr[Oe])&&void 0!==kt?kt:Oe;st&&(Ft+=`-${st}`);const mn=Ft.match(/\s|\//),jt=xe.match(/\s|\//);if(mn||jt){const Vn=[`Unable to register library "${Ft}" with version "${xe}":`];return mn&&Vn.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),mn&&jt&&Vn.push("and"),jt&&Vn.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void vr.warn(Vn.join(" "))}Gn(new B.wA(`${Ft}-version`,()=>({library:Ft,version:xe}),"VERSION"))}function Mr(Oe,xe){if(null!==Oe&&"function"!=typeof Oe)throw nr.create("invalid-log-argument");(0,C.Am)(Oe,xe)}function Cr(Oe){(0,C.Ub)(Oe)}const rn="firebase-heartbeat-database",br=1,he="firebase-heartbeat-store";let ae=null;function Q(){return ae||(ae=function Xe(Oe,xe,{blocked:st,upgrade:kt,blocking:Ft,terminated:mn}={}){const jt=indexedDB.open(Oe,xe),Vn=je(jt);return kt&&jt.addEventListener("upgradeneeded",Dn=>{kt(je(jt.result),Dn.oldVersion,Dn.newVersion,je(jt.transaction),Dn)}),st&&jt.addEventListener("blocked",Dn=>st(Dn.oldVersion,Dn.newVersion,Dn)),Vn.then(Dn=>{mn&&Dn.addEventListener("close",()=>mn()),Ft&&Dn.addEventListener("versionchange",Mn=>Ft(Mn.oldVersion,Mn.newVersion,Mn))}).catch(()=>{}),Vn}(rn,br,{upgrade:(Oe,xe)=>{0===xe&&Oe.createObjectStore(he)}}).catch(Oe=>{throw nr.create("idb-open",{originalErrorMessage:Oe.message})})),ae}function W(){return(W=(0,m.Z)(function*(Oe){try{return yield(yield Q()).transaction(he).objectStore(he).get(j(Oe))}catch(xe){if(xe instanceof pe.ZR)vr.warn(xe.message);else{const st=nr.create("idb-get",{originalErrorMessage:xe?.message});vr.warn(st.message)}}})).apply(this,arguments)}function me(Oe,xe){return re.apply(this,arguments)}function re(){return(re=(0,m.Z)(function*(Oe,xe){try{const kt=(yield Q()).transaction(he,"readwrite");yield kt.objectStore(he).put(xe,j(Oe)),yield kt.done}catch(st){if(st instanceof pe.ZR)vr.warn(st.message);else{const kt=nr.create("idb-set",{originalErrorMessage:st?.message});vr.warn(kt.message)}}})).apply(this,arguments)}function j(Oe){return`${Oe.name}!${Oe.options.appId}`}class ge{constructor(xe){this.container=xe,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new ft(st),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var xe=this;return(0,m.Z)(function*(){const kt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=Me();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!xe._heartbeatsCache.heartbeats.some(mn=>mn.date===Ft))return xe._heartbeatsCache.heartbeats.push({date:Ft,agent:kt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(mn=>{const jt=new Date(mn.date).valueOf();return Date.now()-jt<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,m.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const st=Me(),{heartbeatsToSend:kt,unsentEntries:Ft}=function ot(Oe,xe=1024){const st=[];let kt=Oe.slice();for(const Ft of Oe){const mn=st.find(jt=>jt.agent===Ft.agent);if(mn){if(mn.dates.push(Ft.date),Yt(st)>xe){mn.dates.pop();break}}else if(st.push({agent:Ft.agent,dates:[Ft.date]}),Yt(st)>xe){st.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:st,unsentEntries:kt}}(xe._heartbeatsCache.heartbeats),mn=(0,pe.L)(JSON.stringify({version:2,heartbeats:kt}));return xe._heartbeatsCache.lastSentHeartbeatDate=st,Ft.length>0?(xe._heartbeatsCache.heartbeats=Ft,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),mn})()}}function Me(){return(new Date).toISOString().substring(0,10)}class ft{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,m.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function ee(Oe){return W.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var st=this;return(0,m.Z)(function*(){var kt;if(yield st._canUseIndexedDBPromise){const mn=yield st.read();return me(st.app,{lastSentHeartbeatDate:null!==(kt=xe.lastSentHeartbeatDate)&&void 0!==kt?kt:mn.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var st=this;return(0,m.Z)(function*(){var kt;if(yield st._canUseIndexedDBPromise){const mn=yield st.read();return me(st.app,{lastSentHeartbeatDate:null!==(kt=xe.lastSentHeartbeatDate)&&void 0!==kt?kt:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...xe.heartbeats]})}})()}}function Yt(Oe){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Oe})).length}!function tn(Oe){Gn(new B.wA("platform-logger",xe=>new Mt(xe),"PRIVATE")),Gn(new B.wA("heartbeat",xe=>new ge(xe),"PRIVATE")),lr(Tt,"0.9.13",Oe),lr(Tt,"0.9.13","esm2017"),lr("fire-js","")}("")},4859:(At,He,N)=>{N.d(He,{H0:()=>De,wA:()=>C});var m=N(5861),B=N(2090);class C{constructor(ue,ce,ye){this.name=ue,this.instanceFactory=ce,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const pe="[DEFAULT]";class ve{constructor(ue,ce){this.name=ue,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const ce=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(ce)){const ye=new B.BH;if(this.instancesDeferred.set(ce,ye),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:ce});Ue&&ye.resolve(Ue)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ue){var ce;const ye=this.normalizeInstanceIdentifier(ue?.identifier),Ue=null!==(ce=ue?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Ye){if(Ue)return null;throw Ye}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function Pe(Fe){return"EAGER"===Fe.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[ce,ye]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(ce);try{const Ye=this.getOrInitializeService({instanceIdentifier:Ue});ye.resolve(Ye)}catch{}}}}clearInstance(ue=pe){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,m.Z)(function*(){const ce=Array.from(ue.instances.values());yield Promise.all([...ce.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ce.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=pe){return this.instances.has(ue)}getOptions(ue=pe){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:ce={}}=ue,ye=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ye,options:ce});for(const[Ye,Je]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Ye)&&Je.resolve(Ue);return Ue}onInit(ue,ce){var ye;const Ue=this.normalizeInstanceIdentifier(ce),Ye=null!==(ye=this.onInitCallbacks.get(Ue))&&void 0!==ye?ye:new Set;Ye.add(ue),this.onInitCallbacks.set(Ue,Ye);const Je=this.instances.get(Ue);return Je&&ue(Je,Ue),()=>{Ye.delete(ue)}}invokeOnInitCallbacks(ue,ce){const ye=this.onInitCallbacks.get(ce);if(ye)for(const Ue of ye)try{Ue(ue,ce)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:ce={}}){let ye=this.instances.get(ue);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=ue,Fe===pe?void 0:Fe),options:ce}),this.instances.set(ue,ye),this.instancesOptions.set(ue,ce),this.invokeOnInitCallbacks(ye,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,ye)}catch{}var Fe;return ye||null}normalizeInstanceIdentifier(ue=pe){return this.component?this.component.multipleInstances?ue:pe:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const ce=this.getProvider(ue.name);if(ce.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);ce.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const ce=new ve(ue,this);return this.providers.set(ue,ce),ce}getProviders(){return Array.from(this.providers.values())}}},4727:(At,He,N)=>{var m=N(5861),B=N(6881),C=N(4859),pe=N(2090);const ve=(X,de)=>de.some(Ve=>X instanceof Ve);let Se,Pe;const ue=new WeakMap,ce=new WeakMap,ye=new WeakMap,Ue=new WeakMap,Ye=new WeakMap;let $e={get(X,de,Ve){if(X instanceof IDBTransaction){if("done"===de)return ce.get(X);if("objectStoreNames"===de)return X.objectStoreNames||ye.get(X);if("store"===de)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return je(X[de])},set:(X,de,Ve)=>(X[de]=Ve,!0),has:(X,de)=>X instanceof IDBTransaction&&("done"===de||"store"===de)||de in X};function mt(X){return"function"==typeof X?function ct(X){return X!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(X)?function(...de){return X.apply(Le(this),de),je(ue.get(this))}:function(...de){return je(X.apply(Le(this),de))}:function(de,...Ve){const at=X.call(Le(this),de,...Ve);return ye.set(at,de.sort?de.sort():[de]),je(at)}}(X):(X instanceof IDBTransaction&&function Ct(X){if(ce.has(X))return;const de=new Promise((Ve,at)=>{const Nt=()=>{X.removeEventListener("complete",pn),X.removeEventListener("error",In),X.removeEventListener("abort",In)},pn=()=>{Ve(),Nt()},In=()=>{at(X.error||new DOMException("AbortError","AbortError")),Nt()};X.addEventListener("complete",pn),X.addEventListener("error",In),X.addEventListener("abort",In)});ce.set(X,de)}(X),ve(X,function De(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(X,$e):X)}function je(X){if(X instanceof IDBRequest)return function Je(X){const de=new Promise((Ve,at)=>{const Nt=()=>{X.removeEventListener("success",pn),X.removeEventListener("error",In)},pn=()=>{Ve(je(X.result)),Nt()},In=()=>{at(X.error),Nt()};X.addEventListener("success",pn),X.addEventListener("error",In)});return de.then(Ve=>{Ve instanceof IDBCursor&&ue.set(Ve,X)}).catch(()=>{}),Ye.set(de,X),de}(X);if(Ue.has(X))return Ue.get(X);const de=mt(X);return de!==X&&(Ue.set(X,de),Ye.set(de,X)),de}const Le=X=>Ye.get(X),tt=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],yt=new Map;function Ut(X,de){if(!(X instanceof IDBDatabase)||de in X||"string"!=typeof de)return;if(yt.get(de))return yt.get(de);const Ve=de.replace(/FromIndex$/,""),at=de!==Ve,Nt=ke.includes(Ve);if(!(Ve in(at?IDBIndex:IDBObjectStore).prototype)||!Nt&&!tt.includes(Ve))return;const pn=function(){var In=(0,m.Z)(function*(xn,...Hr){const Pn=this.transaction(xn,Nt?"readwrite":"readonly");let Sr=Pn.store;return at&&(Sr=Sr.index(Hr.shift())),(yield Promise.all([Sr[Ve](...Hr),Nt&&Pn.done]))[0]});return function(Hr){return In.apply(this,arguments)}}();return yt.set(de,pn),pn}!function it(X){$e=X($e)}(X=>({...X,get:(de,Ve,at)=>Ut(de,Ve)||X.get(de,Ve,at),has:(de,Ve)=>!!Ut(de,Ve)||X.has(de,Ve)}));const Mt="@firebase/installations",Vt="0.6.4",Tt=1e4,Zr=`w:${Vt}`,vr="FIS_v2",zr="https://firebaseinstallations.googleapis.com/v1",Lr=36e5,_e=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(X){return X instanceof pe.ZR&&X.code.includes("request-failed")}function We({projectId:X}){return`${zr}/projects/${X}/installations`}function ut(X){return{token:X.token,requestStatus:2,expiresIn:An(X.expiresIn),creationTime:Date.now()}}function Ae(X,de){return _t.apply(this,arguments)}function _t(){return(_t=(0,m.Z)(function*(X,de){const at=(yield de.json()).error;return _e.create("request-failed",{requestName:X,serverCode:at.code,serverMessage:at.message,serverStatus:at.status})})).apply(this,arguments)}function gn({apiKey:X}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":X})}function Xt(X){return wn.apply(this,arguments)}function wn(){return(wn=(0,m.Z)(function*(X){const de=yield X();return de.status>=500&&de.status<600?X():de})).apply(this,arguments)}function An(X){return Number(X.replace("s","000"))}function En(){return(En=(0,m.Z)(function*({appConfig:X,heartbeatServiceProvider:de},{fid:Ve}){const at=We(X),Nt=gn(X),pn=de.getImmediate({optional:!0});if(pn){const Pn=yield pn.getHeartbeatsHeader();Pn&&Nt.append("x-firebase-client",Pn)}const xn={method:"POST",headers:Nt,body:JSON.stringify({fid:Ve,authVersion:vr,appId:X.appId,sdkVersion:Zr})},Hr=yield Xt(()=>fetch(at,xn));if(Hr.ok){const Pn=yield Hr.json();return{fid:Pn.fid||Ve,registrationStatus:2,refreshToken:Pn.refreshToken,authToken:ut(Pn.authToken)}}throw yield Ae("Create Installation",Hr)})).apply(this,arguments)}function cr(X){return new Promise(de=>{setTimeout(de,X)})}const Et=/^[cdef][\w-]{21}$/,hn="";function dr(){try{const X=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(X),X[0]=112+X[0]%16;const Ve=function tr(X){return function en(X){return btoa(String.fromCharCode(...X)).replace(/\+/g,"-").replace(/\//g,"_")}(X).substr(0,22)}(X);return Et.test(Ve)?Ve:hn}catch{return hn}}function hr(X){return`${X.appName}!${X.appId}`}const yr=new Map;function bn(X,de){const Ve=hr(X);Ht(Ve,de),function Gn(X,de){const Ve=function Ot(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=X=>{Ht(X.data.key,X.data.fid)}),Tn}();Ve&&Ve.postMessage({key:X,fid:de}),function fr(){0===yr.size&&Tn&&(Tn.close(),Tn=null)}()}(Ve,de)}function Ht(X,de){const Ve=yr.get(X);if(Ve)for(const at of Ve)at(de)}let Tn=null;const or="firebase-installations-database",nr=1,qt="firebase-installations-store";let On=null;function nn(){return On||(On=function Xe(X,de,{blocked:Ve,upgrade:at,blocking:Nt,terminated:pn}={}){const In=indexedDB.open(X,de),xn=je(In);return at&&In.addEventListener("upgradeneeded",Hr=>{at(je(In.result),Hr.oldVersion,Hr.newVersion,je(In.transaction))}),Ve&&In.addEventListener("blocked",()=>Ve()),xn.then(Hr=>{pn&&Hr.addEventListener("close",()=>pn()),Nt&&Hr.addEventListener("versionchange",()=>Nt())}).catch(()=>{}),xn}(or,nr,{upgrade:(X,de)=>{0===de&&X.createObjectStore(qt)}})),On}function Rr(X,de){return cn.apply(this,arguments)}function cn(){return(cn=(0,m.Z)(function*(X,de){const Ve=hr(X),Nt=(yield nn()).transaction(qt,"readwrite"),pn=Nt.objectStore(qt),In=yield pn.get(Ve);return yield pn.put(de,Ve),yield Nt.done,(!In||In.fid!==de.fid)&&bn(X,de.fid),de})).apply(this,arguments)}function rr(X){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,m.Z)(function*(X){const de=hr(X),at=(yield nn()).transaction(qt,"readwrite");yield at.objectStore(qt).delete(de),yield at.done})).apply(this,arguments)}function lr(X,de){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,m.Z)(function*(X,de){const Ve=hr(X),Nt=(yield nn()).transaction(qt,"readwrite"),pn=Nt.objectStore(qt),In=yield pn.get(Ve),xn=de(In);return void 0===xn?yield pn.delete(Ve):yield pn.put(xn,Ve),yield Nt.done,xn&&(!In||In.fid!==xn.fid)&&bn(X,xn.fid),xn})).apply(this,arguments)}function Cr(X){return rn.apply(this,arguments)}function rn(){return rn=(0,m.Z)(function*(X){let de;const Ve=yield lr(X.appConfig,at=>{const Nt=function br(X){return re(X||{fid:dr(),registrationStatus:0})}(at),pn=function he(X,de){if(0===de.registrationStatus){if(!navigator.onLine)return{installationEntry:de,registrationPromise:Promise.reject(_e.create("app-offline"))};const Ve={fid:de.fid,registrationStatus:1,registrationTime:Date.now()},at=function ae(X,de){return Q.apply(this,arguments)}(X,Ve);return{installationEntry:Ve,registrationPromise:at}}return 1===de.registrationStatus?{installationEntry:de,registrationPromise:ee(X)}:{installationEntry:de}}(X,Nt);return de=pn.registrationPromise,pn.installationEntry});return Ve.fid===hn?{installationEntry:yield de}:{installationEntry:Ve,registrationPromise:de}}),rn.apply(this,arguments)}function Q(){return Q=(0,m.Z)(function*(X,de){try{const Ve=yield function Cn(X,de){return En.apply(this,arguments)}(X,de);return Rr(X.appConfig,Ve)}catch(Ve){throw Ne(Ve)&&409===Ve.customData.serverCode?yield rr(X.appConfig):yield Rr(X.appConfig,{fid:de.fid,registrationStatus:0}),Ve}}),Q.apply(this,arguments)}function ee(X){return W.apply(this,arguments)}function W(){return(W=(0,m.Z)(function*(X){let de=yield me(X.appConfig);for(;1===de.registrationStatus;)yield cr(100),de=yield me(X.appConfig);if(0===de.registrationStatus){const{installationEntry:Ve,registrationPromise:at}=yield Cr(X);return at||Ve}return de})).apply(this,arguments)}function me(X){return lr(X,de=>{if(!de)throw _e.create("installation-not-found");return re(de)})}function re(X){return function j(X){return 1===X.registrationStatus&&X.registrationTime+Tt<Date.now()}(X)?{fid:X.fid,registrationStatus:0}:X}function ne(){return(ne=(0,m.Z)(function*({appConfig:X,heartbeatServiceProvider:de},Ve){const at=function ge(X,{fid:de}){return`${We(X)}/${de}/authTokens:generate`}(X,Ve),Nt=function _n(X,{refreshToken:de}){const Ve=gn(X);return Ve.append("Authorization",function qn(X){return`${vr} ${X}`}(de)),Ve}(X,Ve),pn=de.getImmediate({optional:!0});if(pn){const Pn=yield pn.getHeartbeatsHeader();Pn&&Nt.append("x-firebase-client",Pn)}const xn={method:"POST",headers:Nt,body:JSON.stringify({installation:{sdkVersion:Zr,appId:X.appId}})},Hr=yield Xt(()=>fetch(at,xn));if(Hr.ok)return ut(yield Hr.json());throw yield Ae("Generate Auth Token",Hr)})).apply(this,arguments)}function Me(X){return ot.apply(this,arguments)}function ot(){return ot=(0,m.Z)(function*(X,de=!1){let Ve;const at=yield lr(X.appConfig,pn=>{if(!st(pn))throw _e.create("not-registered");const In=pn.authToken;if(!de&&function kt(X){return 2===X.requestStatus&&!function Ft(X){const de=Date.now();return de<X.creationTime||X.creationTime+X.expiresIn<de+Lr}(X)}(In))return pn;if(1===In.requestStatus)return Ve=function ft(X,de){return Yt.apply(this,arguments)}(X,de),pn;{if(!navigator.onLine)throw _e.create("app-offline");const xn=function mn(X){const de={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},X),{authToken:de})}(pn);return Ve=function Oe(X,de){return xe.apply(this,arguments)}(X,xn),xn}});return Ve?yield Ve:at.authToken}),ot.apply(this,arguments)}function Yt(){return(Yt=(0,m.Z)(function*(X,de){let Ve=yield tn(X.appConfig);for(;1===Ve.authToken.requestStatus;)yield cr(100),Ve=yield tn(X.appConfig);const at=Ve.authToken;return 0===at.requestStatus?Me(X,de):at})).apply(this,arguments)}function tn(X){return lr(X,de=>{if(!st(de))throw _e.create("not-registered");return function jt(X){return 1===X.requestStatus&&X.requestTime+Tt<Date.now()}(de.authToken)?Object.assign(Object.assign({},de),{authToken:{requestStatus:0}}):de})}function xe(){return xe=(0,m.Z)(function*(X,de){try{const Ve=yield function Y(X,de){return ne.apply(this,arguments)}(X,de),at=Object.assign(Object.assign({},de),{authToken:Ve});return yield Rr(X.appConfig,at),Ve}catch(Ve){if(!Ne(Ve)||401!==Ve.customData.serverCode&&404!==Ve.customData.serverCode){const at=Object.assign(Object.assign({},de),{authToken:{requestStatus:0}});yield Rr(X.appConfig,at)}else yield rr(X.appConfig);throw Ve}}),xe.apply(this,arguments)}function st(X){return void 0!==X&&2===X.registrationStatus}function Dn(){return(Dn=(0,m.Z)(function*(X){const de=X,{installationEntry:Ve,registrationPromise:at}=yield Cr(de);return at?at.catch(console.error):Me(de).catch(console.error),Ve.fid})).apply(this,arguments)}function Bn(){return Bn=(0,m.Z)(function*(X,de=!1){const Ve=X;return yield function Ar(X){return co.apply(this,arguments)}(Ve),(yield Me(Ve,de)).token}),Bn.apply(this,arguments)}function co(){return(co=(0,m.Z)(function*(X){const{registrationPromise:de}=yield Cr(X);de&&(yield de)})).apply(this,arguments)}function ti(X){return _e.create("missing-app-config-values",{valueName:X})}const jn="installations",we=X=>{const de=X.getProvider("app").getImmediate(),Ve=function Vr(X){if(!X||!X.options)throw ti("App Configuration");if(!X.name)throw ti("App Name");const de=["projectId","apiKey","appId"];for(const Ve of de)if(!X.options[Ve])throw ti(Ve);return{appName:X.name,projectId:X.options.projectId,apiKey:X.options.apiKey,appId:X.options.appId}}(de);return{app:de,appConfig:Ve,heartbeatServiceProvider:(0,B._getProvider)(de,"heartbeat"),_delete:()=>Promise.resolve()}},be=X=>{const de=X.getProvider("app").getImmediate(),Ve=(0,B._getProvider)(de,jn).getImmediate();return{getId:()=>function Vn(X){return Dn.apply(this,arguments)}(Ve),getToken:Nt=>function Mn(X){return Bn.apply(this,arguments)}(Ve,Nt)}};(function rt(){(0,B._registerComponent)(new C.wA(jn,we,"PUBLIC")),(0,B._registerComponent)(new C.wA("installations-internal",be,"PRIVATE"))})(),(0,B.registerVersion)(Mt,Vt),(0,B.registerVersion)(Mt,Vt,"esm2017")},1877:(At,He,N)=>{N.d(He,{Am:()=>Fe,Ub:()=>De,Yd:()=>Pe,in:()=>B});const m=[];var B=(()=>{return(ue=B||(B={}))[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",B;var ue})();const C={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},pe=B.INFO,ve={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},Se=(ue,ce,...ye)=>{if(ce<ue.logLevel)return;const Ue=(new Date).toISOString(),Ye=ve[ce];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Ye](`[${Ue}]  ${ue.name}:`,...ye)};class Pe{constructor(ce){this.name=ce,this._logLevel=pe,this._logHandler=Se,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in B))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?C[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...ce),this._logHandler(this,B.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...ce),this._logHandler(this,B.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,B.INFO,...ce),this._logHandler(this,B.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,B.WARN,...ce),this._logHandler(this,B.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...ce),this._logHandler(this,B.ERROR,...ce)}}function De(ue){m.forEach(ce=>{ce.setLogLevel(ue)})}function Fe(ue,ce){for(const ye of m){let Ue=null;ce&&ce.level&&(Ue=C[ce.level]),ye.userLogHandler=null===ue?null:(Ye,Je,...Ct)=>{const $e=Ct.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");Je>=(Ue??Ye.logLevel)&&ue({level:B[Je].toLowerCase(),message:$e,args:Ct,type:Ye.name})}}}},5132:(At,He,N)=>{N.d(He,{Gb:()=>m.Gb});var m=N(579)},259:(At,He,N)=>{N.d(He,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=N(6881);(0,m.registerVersion)("firebase","9.23.0","app")},4322:(At,He,N)=>{N.d(He,{hJ:()=>m.V,v0:()=>m.o,rh:()=>m.c});var m=N(1389);N(2090),N(6881),N(1877),N(4859)},9260:(At,He,N)=>{N.d(He,{Z:()=>m.Z});var m=N(3942);m.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(At,He,N)=>{N.r(He);var m=N(5861),B=N(3942),C=N(1389),pe=N(2090),Pe=(N(6881),N(1877),N(4859));function De(){return window}const Fe=2e3;function ce(){return ce=(0,m.Z)(function*(Q,ee,W){var me;const{BuildInfo:re}=De();(0,C.as)(ee.sessionId,"AuthEvent did not contain a session ID");const j=yield function it(Q){return ct.apply(this,arguments)}(ee.sessionId),Y={};return(0,C.at)()?Y.ibi=re.packageName:(0,C.au)()?Y.apn=re.packageName:(0,C.av)(Q,"operation-not-supported-in-this-environment"),re.displayName&&(Y.appDisplayName=re.displayName),Y.sessionId=j,(0,C.aw)(Q,W,ee.type,void 0,null!==(me=ee.eventId)&&void 0!==me?me:void 0,Y)}),ce.apply(this,arguments)}function Ue(){return(Ue=(0,m.Z)(function*(Q){const{BuildInfo:ee}=De(),W={};(0,C.at)()?W.iosBundleId=ee.packageName:(0,C.au)()?W.androidPackageName=ee.packageName:(0,C.av)(Q,"operation-not-supported-in-this-environment"),yield(0,C.ax)(Q,W)})).apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(Q,ee,W){const{cordova:me}=De();let re=()=>{};try{yield new Promise((j,Y)=>{let ne=null;function ge(){var ft;j();const Yt=null===(ft=me.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof Yt&&Yt(),"function"==typeof W?.close&&W.close()}function Me(){ne||(ne=window.setTimeout(()=>{Y((0,C.az)(Q,"redirect-cancelled-by-user"))},Fe))}function ot(){"visible"===document?.visibilityState&&Me()}ee.addPassiveListener(ge),document.addEventListener("resume",Me,!1),(0,C.au)()&&document.addEventListener("visibilitychange",ot,!1),re=()=>{ee.removePassiveListener(ge),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",ot,!1),ne&&window.clearTimeout(ne)}})}finally{re()}})).apply(this,arguments)}function ct(){return(ct=(0,m.Z)(function*(Q){const ee=function mt(Q){if((0,C.as)(/[0-9a-zA-Z]+/.test(Q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Q);const ee=new ArrayBuffer(Q.length),W=new Uint8Array(ee);for(let me=0;me<Q.length;me++)W[me]=Q.charCodeAt(me);return W}(Q),W=yield crypto.subtle.digest("SHA-256",ee);return Array.from(new Uint8Array(W)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const je=20;class Le extends C.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ee=>{this.resolveInialized=ee})}addPassiveListener(ee){this.passiveListeners.add(ee)}removePassiveListener(ee){this.passiveListeners.delete(ee)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ee){return this.resolveInialized(),this.passiveListeners.forEach(W=>W(ee)),super.onEvent(ee)}initialized(){var ee=this;return(0,m.Z)(function*(){yield ee.initPromise})()}}function tt(Q){return ke.apply(this,arguments)}function ke(){return(ke=(0,m.Z)(function*(Q){const ee=yield Mt()._get(Vt(Q));return ee&&(yield Mt()._remove(Vt(Q))),ee})).apply(this,arguments)}function Ut(){const Q=[],ee="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let W=0;W<je;W++){const me=Math.floor(Math.random()*ee.length);Q.push(ee.charAt(me))}return Q.join("")}function Mt(){return(0,C.aC)(C.b)}function Vt(Q){return(0,C.aD)("authEvent",Q.config.apiKey,Q.name)}function vr(Q){if(!Q?.includes("?"))return{};const[ee,...W]=Q.split("?");return(0,pe.zd)(W.join("?"))}const jr=class Lr{constructor(){this._redirectPersistence=C.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=C.aE,this._overrideRedirectResult=C.aF}_initialize(ee){var W=this;return(0,m.Z)(function*(){const me=ee._key();let re=W.eventManagers.get(me);return re||(re=new Le(ee),W.eventManagers.set(me,re),W.attachCallbackListeners(ee,re)),re})()}_openPopup(ee){(0,C.av)(ee,"operation-not-supported-in-this-environment")}_openRedirect(ee,W,me,re){var j=this;return(0,m.Z)(function*(){!function $e(Q){var ee,W,me,re,j,Y,ne,ge,Me,ot;const ft=De();(0,C.aA)("function"==typeof(null===(ee=ft?.universalLinks)||void 0===ee?void 0:ee.subscribe),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,C.aA)(typeof(null===(W=ft?.BuildInfo)||void 0===W?void 0:W.packageName)<"u",Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,C.aA)("function"==typeof(null===(j=null===(re=null===(me=ft?.cordova)||void 0===me?void 0:me.plugins)||void 0===re?void 0:re.browsertab)||void 0===j?void 0:j.openUrl),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,C.aA)("function"==typeof(null===(ge=null===(ne=null===(Y=ft?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===ge?void 0:ge.isAvailable),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,C.aA)("function"==typeof(null===(ot=null===(Me=ft?.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===ot?void 0:ot.open),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ee);const Y=yield j._initialize(ee);yield Y.initialized(),Y.resetRedirect(),(0,C.aG)(),yield j._originValidation(ee);const ne=function Xe(Q,ee,W=null){return{type:ee,eventId:W,urlResponse:null,sessionId:Ut(),postBody:null,tenantId:Q.tenantId,error:(0,C.az)(Q,"no-auth-event")}}(ee,me,re);yield function gt(Q,ee){return Mt()._set(Vt(Q),ee)}(ee,ne);const ge=yield function ue(Q,ee,W){return ce.apply(this,arguments)}(ee,ne,W),Me=yield function Ye(Q){const{cordova:ee}=De();return new Promise(W=>{ee.plugins.browsertab.isAvailable(me=>{let re=null;me?ee.plugins.browsertab.openUrl(Q):re=ee.InAppBrowser.open(Q,(0,C.ay)()?"_blank":"_system","location=yes"),W(re)})})}(ge);return function Je(Q,ee,W){return Ct.apply(this,arguments)}(ee,Y,Me)})()}_isIframeWebStorageSupported(ee,W){throw new Error("Method not implemented.")}_originValidation(ee){const W=ee._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function ye(Q){return Ue.apply(this,arguments)}(ee)),this.originValidationPromises[W]}attachCallbackListeners(ee,W){const{universalLinks:me,handleOpenURL:re,BuildInfo:j}=De(),Y=setTimeout((0,m.Z)(function*(){yield tt(ee),W.onEvent(wr())}),500),ne=function(){var ot=(0,m.Z)(function*(ft){clearTimeout(Y);const Yt=yield tt(ee);let tn=null;Yt&&ft?.url&&(tn=function yt(Q,ee){var W,me;const re=function Zr(Q){const ee=vr(Q),W=ee.link?decodeURIComponent(ee.link):void 0,me=vr(W).link,re=ee.deep_link_id?decodeURIComponent(ee.deep_link_id):void 0;return vr(re).link||re||me||W||Q}(ee);if(re.includes("/__/auth/callback")){const j=vr(re),Y=j.firebaseError?function Tt(Q){try{return JSON.parse(Q)}catch{return null}}(decodeURIComponent(j.firebaseError)):null,ne=null===(me=null===(W=Y?.code)||void 0===W?void 0:W.split("auth/"))||void 0===me?void 0:me[1],ge=ne?(0,C.az)(ne):null;return ge?{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,error:ge,urlResponse:null,sessionId:null,postBody:null}:{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,sessionId:Q.sessionId,urlResponse:re,postBody:null}}return null}(Yt,ft.url)),W.onEvent(tn||wr())});return function(Yt){return ot.apply(this,arguments)}}();typeof me<"u"&&"function"==typeof me.subscribe&&me.subscribe(null,ne);const ge=re,Me=`${j.packageName.toLowerCase()}://`;De().handleOpenURL=function(){var ot=(0,m.Z)(function*(ft){if(ft.toLowerCase().startsWith(Me)&&ne({url:ft}),"function"==typeof ge)try{ge(ft)}catch(Yt){console.error(Yt)}});return function(ft){return ot.apply(this,arguments)}}()}};function wr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,C.az)("no-auth-event")}}const We=1e3;function ut(){var Q;return(null===(Q=self?.location)||void 0===Q?void 0:Q.protocol)||null}function _t(Q=(0,pe.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!Q.toLowerCase().match(/iphone|ipad|ipod|android/))}function An(){try{const Q=self.localStorage,ee=C.aL();if(Q)return Q.setItem(ee,"1"),Q.removeItem(ee),!function wn(Q=(0,pe.z$)()){return function _n(){return(0,pe.w1)()&&11===document?.documentMode}()||function Xt(Q=(0,pe.z$)()){return/Edge\/\d+/.test(Q)}(Q)}()||(0,pe.hl)()}catch{return qn()&&(0,pe.hl)()}return!1}function qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cn(){return(function Ae(){return"http:"===ut()||"https:"===ut()}()||(0,pe.ru)()||_t())&&!function gn(){return(0,pe.b$)()||(0,pe.UG)()}()&&An()&&!qn()}function En(){return _t()&&typeof document<"u"}function en(){return(en=(0,m.Z)(function*(){return!!En()&&new Promise(Q=>{const ee=setTimeout(()=>{Q(!1)},We);document.addEventListener("deviceready",()=>{clearTimeout(ee),Q(!0)})})})).apply(this,arguments)}const hn={LOCAL:"local",NONE:"none",SESSION:"session"},dr=C.aA,tr="persistence";function yr(Q){return bn.apply(this,arguments)}function bn(){return(bn=(0,m.Z)(function*(Q){yield Q._initializationPromise;const ee=zt(),W=C.aD(tr,Q.config.apiKey,Q.name);ee&&ee.setItem(W,Q._getPersistence())})).apply(this,arguments)}function zt(){var Q;try{return(null===(Q=function Et(){return typeof window<"u"?window:null}())||void 0===Q?void 0:Q.sessionStorage)||null}catch{return null}}const Ht=C.aA;class Gn{constructor(){this.browserResolver=C.aC(C.k),this.cordovaResolver=C.aC(jr),this.underlyingResolver=null,this._redirectPersistence=C.a,this._completeRedirectFn=C.aE,this._overrideRedirectResult=C.aF}_initialize(ee){var W=this;return(0,m.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize(ee)})()}_openPopup(ee,W,me,re){var j=this;return(0,m.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openPopup(ee,W,me,re)})()}_openRedirect(ee,W,me,re){var j=this;return(0,m.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openRedirect(ee,W,me,re)})()}_isIframeWebStorageSupported(ee,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ee,W)}_originValidation(ee){return this.assertedUnderlyingResolver._originValidation(ee)}get _shouldInitProactively(){return En()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ee=this;return(0,m.Z)(function*(){if(ee.underlyingResolver)return;const W=yield function cr(){return en.apply(this,arguments)}();ee.underlyingResolver=W?ee.cordovaResolver:ee.browserResolver})()}}function Tn(Q){return Q.unwrap()}function fr(Q){return nr(Q)}function nr(Q){const{_tokenResponse:ee}=Q instanceof pe.ZR?Q.customData:Q;if(!ee)return null;if(!(Q instanceof pe.ZR)&&"temporaryProof"in ee&&"phoneNumber"in ee)return C.P.credentialFromResult(Q);const W=ee.providerId;if(!W||W===C.p.PASSWORD)return null;let me;switch(W){case C.p.GOOGLE:me=C.V;break;case C.p.FACEBOOK:me=C.U;break;case C.p.GITHUB:me=C.W;break;case C.p.TWITTER:me=C.Z;break;default:const{oauthIdToken:re,oauthAccessToken:j,oauthTokenSecret:Y,pendingToken:ne,nonce:ge}=ee;return j||Y||re||ne?ne?W.startsWith("saml.")?C.aO._create(W,ne):C.L._fromParams({providerId:W,signInMethod:W,pendingToken:ne,idToken:re,accessToken:j}):new C.X(W).credential({idToken:re,accessToken:j,rawNonce:ge}):null}return Q instanceof pe.ZR?me.credentialFromError(Q):me.credentialFromResult(Q)}function qt(Q,ee){return ee.catch(W=>{throw W instanceof pe.ZR&&function or(Q,ee){var W;const me=null===(W=ee.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===ee?.code)ee.resolver=new Rr(Q,C.aq(Q,ee));else if(me){const re=nr(ee),j=ee;re&&(j.credential=re,j.tenantId=me.tenantId||void 0,j.email=me.email||void 0,j.phoneNumber=me.phoneNumber||void 0)}}(Q,W),W}).then(W=>{const re=W.user;return{operationType:W.operationType,credential:fr(W),additionalUserInfo:C.ao(W),user:cn.getOrCreate(re)}})}function On(Q,ee){return nn.apply(this,arguments)}function nn(){return(nn=(0,m.Z)(function*(Q,ee){const W=yield ee;return{verificationId:W.verificationId,confirm:me=>qt(Q,W.confirm(me))}})).apply(this,arguments)}class Rr{constructor(ee,W){this.resolver=W,this.auth=function Ot(Q){return Q.wrapped()}(ee)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ee){return qt(Tn(this.auth),this.resolver.resolveSignIn(ee))}}class cn{constructor(ee){this._delegate=ee,this.multiFactor=C.ar(ee)}static getOrCreate(ee){return cn.USER_MAP.has(ee)||cn.USER_MAP.set(ee,new cn(ee)),cn.USER_MAP.get(ee)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ee){return this._delegate.getIdTokenResult(ee)}getIdToken(ee){return this._delegate.getIdToken(ee)}linkAndRetrieveDataWithCredential(ee){return this.linkWithCredential(ee)}linkWithCredential(ee){var W=this;return(0,m.Z)(function*(){return qt(W.auth,C.a0(W._delegate,ee))})()}linkWithPhoneNumber(ee,W){var me=this;return(0,m.Z)(function*(){return On(me.auth,C.l(me._delegate,ee,W))})()}linkWithPopup(ee){var W=this;return(0,m.Z)(function*(){return qt(W.auth,C.d(W._delegate,ee,Gn))})()}linkWithRedirect(ee){var W=this;return(0,m.Z)(function*(){return yield yr(C.aH(W.auth)),C.g(W._delegate,ee,Gn)})()}reauthenticateAndRetrieveDataWithCredential(ee){return this.reauthenticateWithCredential(ee)}reauthenticateWithCredential(ee){var W=this;return(0,m.Z)(function*(){return qt(W.auth,C.a1(W._delegate,ee))})()}reauthenticateWithPhoneNumber(ee,W){return On(this.auth,C.r(this._delegate,ee,W))}reauthenticateWithPopup(ee){return qt(this.auth,C.e(this._delegate,ee,Gn))}reauthenticateWithRedirect(ee){var W=this;return(0,m.Z)(function*(){return yield yr(C.aH(W.auth)),C.h(W._delegate,ee,Gn)})()}sendEmailVerification(ee){return C.ae(this._delegate,ee)}unlink(ee){var W=this;return(0,m.Z)(function*(){return yield C.an(W._delegate,ee),W})()}updateEmail(ee){return C.aj(this._delegate,ee)}updatePassword(ee){return C.ak(this._delegate,ee)}updatePhoneNumber(ee){return C.u(this._delegate,ee)}updateProfile(ee){return C.ai(this._delegate,ee)}verifyBeforeUpdateEmail(ee,W){return C.af(this._delegate,ee,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cn.USER_MAP=new WeakMap;const rr=C.aA;let Xn=(()=>{class Q{constructor(W,me){if(this.app=W,me.isInitialized())return this._delegate=me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=W.options;rr(re,"invalid-api-key",{appName:W.name}),rr(re,"invalid-api-key",{appName:W.name});const j=typeof window<"u"?Gn:void 0;this._delegate=me.initialize({options:{persistence:Mr(re,W.name),popupRedirectResolver:j}}),this._delegate._updateErrorMap(C.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,me){C.I(this._delegate,W,me)}applyActionCode(W){return C.a5(this._delegate,W)}checkActionCode(W){return C.a6(this._delegate,W)}confirmPasswordReset(W,me){return C.a4(this._delegate,W,me)}createUserWithEmailAndPassword(W,me){var re=this;return(0,m.Z)(function*(){return qt(re._delegate,C.a8(re._delegate,W,me))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return C.ad(this._delegate,W)}isSignInWithEmailLink(W){return C.ab(this._delegate,W)}getRedirectResult(){var W=this;return(0,m.Z)(function*(){rr(Cn(),W._delegate,"operation-not-supported-in-this-environment");const me=yield C.j(W._delegate,Gn);return me?qt(W._delegate,Promise.resolve(me)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function Re(Q,ee){(0,C.aH)(Q)._logFramework(ee)}(this._delegate,W)}onAuthStateChanged(W,me,re){const{next:j,error:Y,complete:ne}=lr(W,me,re);return this._delegate.onAuthStateChanged(j,Y,ne)}onIdTokenChanged(W,me,re){const{next:j,error:Y,complete:ne}=lr(W,me,re);return this._delegate.onIdTokenChanged(j,Y,ne)}sendSignInLinkToEmail(W,me){return C.aa(this._delegate,W,me)}sendPasswordResetEmail(W,me){return C.a3(this._delegate,W,me||void 0)}setPersistence(W){var me=this;return(0,m.Z)(function*(){let re;switch(function hr(Q,ee){dr(Object.values(hn).includes(ee),Q,"invalid-persistence-type"),(0,pe.b$)()?dr(ee!==hn.SESSION,Q,"unsupported-persistence-type"):(0,pe.UG)()?dr(ee===hn.NONE,Q,"unsupported-persistence-type"):qn()?dr(ee===hn.NONE||ee===hn.LOCAL&&(0,pe.hl)(),Q,"unsupported-persistence-type"):dr(ee===hn.NONE||An(),Q,"unsupported-persistence-type")}(me._delegate,W),W){case hn.SESSION:re=C.a;break;case hn.LOCAL:re=(yield C.aC(C.i)._isAvailable())?C.i:C.b;break;case hn.NONE:re=C.N;break;default:return C.av("argument-error",{appName:me._delegate.name})}return me._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return qt(this._delegate,C._(this._delegate))}signInWithCredential(W){return qt(this._delegate,C.$(this._delegate,W))}signInWithCustomToken(W){return qt(this._delegate,C.a2(this._delegate,W))}signInWithEmailAndPassword(W,me){return qt(this._delegate,C.a9(this._delegate,W,me))}signInWithEmailLink(W,me){return qt(this._delegate,C.ac(this._delegate,W,me))}signInWithPhoneNumber(W,me){return On(this._delegate,C.s(this._delegate,W,me))}signInWithPopup(W){var me=this;return(0,m.Z)(function*(){return rr(Cn(),me._delegate,"operation-not-supported-in-this-environment"),qt(me._delegate,C.c(me._delegate,W,Gn))})()}signInWithRedirect(W){var me=this;return(0,m.Z)(function*(){return rr(Cn(),me._delegate,"operation-not-supported-in-this-environment"),yield yr(me._delegate),C.f(me._delegate,W,Gn)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return C.a7(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Q.Persistence=hn,Q})();function lr(Q,ee,W){let me=Q;"function"!=typeof Q&&({next:me,error:ee,complete:W}=Q);const re=me;return{next:Y=>re(Y&&cn.getOrCreate(Y)),error:ee,complete:W}}function Mr(Q,ee){const W=function vn(Q,ee){const W=zt();if(!W)return[];const me=C.aD(tr,Q,ee);switch(W.getItem(me)){case hn.NONE:return[C.N];case hn.LOCAL:return[C.i,C.a];case hn.SESSION:return[C.a];default:return[]}}(Q,ee);if(typeof self<"u"&&!W.includes(C.i)&&W.push(C.i),typeof window<"u")for(const me of[C.b,C.a])W.includes(me)||W.push(me);return W.includes(C.N)||W.push(C.N),W}class Cr{constructor(){this.providerId="phone",this._delegate=new C.P(Tn(B.Z.auth()))}static credential(ee,W){return C.P.credential(ee,W)}verifyPhoneNumber(ee,W){return this._delegate.verifyPhoneNumber(ee,W)}unwrap(){return this._delegate}}Cr.PHONE_SIGN_IN_METHOD=C.P.PHONE_SIGN_IN_METHOD,Cr.PROVIDER_ID=C.P.PROVIDER_ID;const rn=C.aA;class br{constructor(ee,W,me=B.Z.app()){var re;rn(null===(re=me.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:me.name}),this._delegate=new C.R(ee,W,me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ae(Q){Q.INTERNAL.registerComponent(new Pe.wA("auth-compat",ee=>{const W=ee.getProvider("app-compat").getImmediate(),me=ee.getProvider("auth");return new Xn(W,me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:C.A.EMAIL_SIGNIN,PASSWORD_RESET:C.A.PASSWORD_RESET,RECOVER_EMAIL:C.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:C.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:C.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:C.A.VERIFY_EMAIL}},EmailAuthProvider:C.Q,FacebookAuthProvider:C.U,GithubAuthProvider:C.W,GoogleAuthProvider:C.V,OAuthProvider:C.X,SAMLAuthProvider:C.Y,PhoneAuthProvider:Cr,PhoneMultiFactorGenerator:C.m,RecaptchaVerifier:br,TwitterAuthProvider:C.Z,Auth:Xn,AuthCredential:C.J,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(At,He,N)=>{function m(C,pe,ve,Se,Pe,De,Fe){try{var ue=C[De](Fe),ce=ue.value}catch(ye){return void ve(ye)}ue.done?pe(ce):Promise.resolve(ce).then(Se,Pe)}function B(C){return function(){var pe=this,ve=arguments;return new Promise(function(Se,Pe){var De=C.apply(pe,ve);function Fe(ce){m(De,Se,Pe,Fe,ue,"next",ce)}function ue(ce){m(De,Se,Pe,Fe,ue,"throw",ce)}Fe(void 0)})}}N.d(He,{Z:()=>B})},7582:(At,He,N)=>{function pe(Re,_e){var Ne={};for(var We in Re)Object.prototype.hasOwnProperty.call(Re,We)&&_e.indexOf(We)<0&&(Ne[We]=Re[We]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(We=Object.getOwnPropertySymbols(Re);ut<We.length;ut++)_e.indexOf(We[ut])<0&&Object.prototype.propertyIsEnumerable.call(Re,We[ut])&&(Ne[We[ut]]=Re[We[ut]])}return Ne}function ye(Re,_e,Ne,We){return new(Ne||(Ne=Promise))(function(Ae,_t){function gn(wn){try{Xt(We.next(wn))}catch(An){_t(An)}}function _n(wn){try{Xt(We.throw(wn))}catch(An){_t(An)}}function Xt(wn){wn.done?Ae(wn.value):function ut(Ae){return Ae instanceof Ne?Ae:new Ne(function(_t){_t(Ae)})}(wn.value).then(gn,_n)}Xt((We=We.apply(Re,_e||[])).next())})}function je(Re){return this instanceof je?(this.v=Re,this):new je(Re)}function Le(Re,_e,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,We=Ne.apply(Re,_e||[]),Ae=[];return ut=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),gn("next"),gn("throw"),gn("return",function _t(Cn){return function(En){return Promise.resolve(En).then(Cn,An)}}),ut[Symbol.asyncIterator]=function(){return this},ut;function gn(Cn,En){We[Cn]&&(ut[Cn]=function(cr){return new Promise(function(en,Et){Ae.push([Cn,cr,en,Et])>1||_n(Cn,cr)})},En&&(ut[Cn]=En(ut[Cn])))}function _n(Cn,En){try{!function Xt(Cn){Cn.value instanceof je?Promise.resolve(Cn.value.v).then(wn,An):qn(Ae[0][2],Cn)}(We[Cn](En))}catch(cr){qn(Ae[0][3],cr)}}function wn(Cn){_n("next",Cn)}function An(Cn){_n("throw",Cn)}function qn(Cn,En){Cn(En),Ae.shift(),Ae.length&&_n(Ae[0][0],Ae[0][1])}}function gt(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,_e=Re[Symbol.asyncIterator];return _e?_e.call(Re):(Re=function Ct(Re){var _e="function"==typeof Symbol&&Symbol.iterator,Ne=_e&&Re[_e],We=0;if(Ne)return Ne.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&We>=Re.length&&(Re=void 0),{value:Re&&Re[We++],done:!Re}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),Ne={},We("next"),We("throw"),We("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function We(Ae){Ne[Ae]=Re[Ae]&&function(_t){return new Promise(function(gn,_n){!function ut(Ae,_t,gn,_n){Promise.resolve(_n).then(function(Xt){Ae({value:Xt,done:gn})},_t)}(gn,_n,(_t=Re[Ae](_t)).done,_t.value)})}}}N.d(He,{FC:()=>Le,KL:()=>gt,_T:()=>pe,mG:()=>ye,qq:()=>je}),"function"==typeof SuppressedError&&SuppressedError}},At=>{At(At.s=6828)}]);